{"version":3,"sources":["webpack:///external \"AMap\"","webpack:///./src/App.vue?0a59","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///./src/utils/request.js","webpack:///./src/api/baseInfo.js","webpack:///src/components/infoBox.vue","webpack:///./src/components/infoBox.vue?93f0","webpack:///./src/components/infoBox.vue","webpack:///src/components/map.vue","webpack:///./src/api/currentInfo.js","webpack:///./src/components/map.vue?cbc6","webpack:///./src/components/map.vue","webpack:///src/components/historyBox.vue","webpack:///./src/components/historyBox.vue?ce6f","webpack:///./src/components/historyBox.vue","webpack:///src/components/currentData.vue","webpack:///./src/api/historyInfo.js","webpack:///./src/components/currentData.vue?d426","webpack:///./src/components/currentData.vue","webpack:///./src/utils/player.js","webpack:///src/view/index.vue","webpack:///./src/view/index.vue?8402","webpack:///./src/view/index.vue","webpack:///./src/router/index.js","webpack:///./src/main.js"],"names":["module","exports","AMap","selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","attrs","id","staticRenderFns","src_App","__webpack_require__","normalizeComponent","name","ssrContext","window","LOG","shutUp","service","axios_default","a","create","timeout","interceptors","request","use","e","url","console","group","log","groupEnd","response","fetchAllAddressInfo","method","selectortype_template_index_0_src_components_infoBox","_vm","staticStyle","width","data","tableData4","height","prop","label","_v","fixed","scopedSlots","_u","key","fn","scope","type","size","nativeOn","click","$event","preventDefault","deleteRow","$index","src_components_infoBox","infoBox_normalizeComponent","props","methods","index","rows","splice","map","addressInfo","gaoDeMap","mounted","_this","external__AMap__default","Map","pitch","rotation","resizeEnable","expandZoomRange","zooms","viewMode","then","forEach","initMapPoint","agent","longitude","latitude","setFitView","tempAddressId","that","Marker","position","on","addressId","json","info","infoBox","push","currentData","Date","toLocaleString","i","length","value","unit","temp","dataName","time","sensorName","$emit","IMap","InfoWindow","content","join","offset","Pixel","open","target","getPosition","components_map","staticClass","src_components_map","map_normalizeComponent","historyBox","chart","initChart","options","xAxis","historyData","historyTime","yAxis","series","historyHighData","smooth","historyLowData","divs","document","getElementsByClassName","echarts_default","init","setOption","components_historyBox","_m","components_currentData","dialogVisible","getHistoryInfoForModel","row","element","highValue","lowValue","$refs","components","historyBox_normalizeComponent","selectortype_template_index_0_src_components_currentData","placement","trigger","ref","slot","src_components_currentData","currentData_normalizeComponent","LogLevel","DEFAULT_LOG_LEVEL","Logger","level","arguments","undefined","tag","classCallCheck_default","setLevel","createClass_default","lvl","args","Array","prototype","slice","call","unshift","level_map","apply","_log","get","_ref","defineProperty_default","taggedLoggers","map_default","getTagged","has","set","Log","Url","ret","result","exec","Error","full","protocol","urlpath","parts","split","basename","pop","basepath","loginSplit","hostport","userpass","user","pass","host","auth","port","protocolDefaultPort","portDefined","location","socket","parsed","test","listener","symbol_default","listeners","DestructibleEventListener","eventListener","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","get_iterator_default","next","done","entry","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","removeEventListener","err","return","clear","event","selector","addEventListener","matches","set_default","add","ev","delete","dispatchEvent","EventEmitter","createElement","destroy","CustomEvent","detail","EventSourceWrapper","eventSource","MP4","types","avc1","avcC","btrt","dinf","dref","esds","ftyp","hdlr","mdat","mdhd","mdia","mfhd","minf","moof","moov","mp4a","mvex","mvhd","sdtp","stbl","stco","stsc","stsd","stsz","stts","tfdt","tfhd","traf","trak","trun","trex","tkhd","vmhd","smhd","hasOwnProperty","charCodeAt","videoHdlr","Uint8Array","audioHdlr","HDLR_TYPES","video","audio","STTS","STSC","STCO","STSZ","VMHD","SMHD","STSD","majorBrand","avc1Brand","minorVersion","FTYP","box","DINF","_len","payload","_key","len","byteLength","timescale","duration","track","sequenceNumber","sn","baseMediaDecodeTime","tracks","boxes","concat","bytes","flags","samples","dependsOn","isDependedOn","hasRedundancy","sps","pps","avcc","configlen","config","audiosamplerate","channelCount","volume","sampleDependencyTable","sample","cts","arraylen","array","isLeading","paddingValue","isNonSync","degradPrio","movie","Log$1","MSEBuffer","parent","codec","mediaSource","players","cleaning","queue","cleanResolvers","cleanRanges","debug","sourceBuffer","addSourceBuffer","buffered","currentTime","start","shift","resolver","doCleanup","feedNext","readyState","sourceBuffers","removeSourceBuffer","updating","_this2","promises","_loop","promise_default","resolve","reject","onupdateend","remove","end","all","is_live","doAppend","range","removeBound","removeStart","removeEnd","error","MSE","ErrorNotes","code","stop","endOfStream","appendBuffer","initCleanup","message","playing","idx","onplaying","onpause","paused","MediaSource","reset","codecs","isTypeSupported","_ref2","MediaError","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","_this3","play","buffers","setLive","_this4","pause","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","values","buffer","clearLiveSeekableRange","_this5","src","URL","createObjectURL","setupEvents","_this6","resolved","mediaReady","_sourceOpen","_sourceEnded","_sourceClose","ready","mimeCodec","_this7","feed","Log$2","track_id","BaseRemuxer","scaleFactor","params","timeOffset","readyToDecode","seq","tsAlign","timestamp","pts","dts","initPTS","initDTS","shouldInitialize","Math","min","unscaled","initialized","mp4track","sampleFunction","setupSample","sort","dtsSortFunc","b","Log$3","AACRemuxer","_BaseRemuxer","_this8","possibleConstructorReturn_default","__proto__","get_prototype_of_default","codecstring","CODEC_AAC","units","nextAacPts","lastPts","firstDTS","firstPTS","getTrackID","fragmented","setConfig","inherits_default","channels","samplerate","MP4_TIMESCALE","expectedSampleDuration","aac","get_default","getSize","mp4Sample","lastDTS","nextDts","delta","round","scaled","abs","max","getData","ExpGolomb","bytesAvailable","word","bitsAvailable","workingBytes","availableBytes","subarray","DataView","byteOffset","getUint32","count","skipBytes","loadWord","bits","valu","readBits","leadingZeroCount","skipLZ","skipBits","clz","readUEG","base64ToArrayBuffer","base64","binary_string","atob","hexToByteArray","hex","bufView","parseInt","substr","BitArray","bitpos","byte","getUint8","bytepos","finished","NALU","ntype","nri","sliceType","nalu","TYPES","_ref3","IDR","SEI","SPS","PPS","NDR","idata","buffer1","buffer2","tmp","getNri","header","view","setUint32","setUint8","H264Parser","remuxer","firstFound","readSPS","codecarray","h","toString","parceSliceHeader","isKeyframe","parsePPS","parseSPS","byte_idx","pay_type","pay_size","sz","uuid","from_default","EOSEQ","EOSTR","decoder","slice_type","readUByte","lastScale","nextScale","j","readEG","profileIdc","picWidthInMbsMinus1","picHeightInMapUnitsMinus1","frameMbsOnlyFlag","frameCropLeftOffset","frameCropRightOffset","frameCropTopOffset","frameCropBottomOffset","sarScale","numRefFramesInPicOrderCntCycle","scalingListCount","skipUEG","chromaFormatIdc","readBoolean","skipScalingList","picOrderCntType","skipEG","sarRatio","unitsInTick","readUInt","timeScale","fixedFrameRate","frameDuration","ceil","Log$4","H264Remuxer","_BaseRemuxer2","_this9","lastSampleDuration","lastDurations","lastGopDTS","gop","firstUnit","h264","arr","setSPS","warn","setPPS","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","parseNAL","getPayloadBase","sampleDuration","toMS","avgDuration","reduce","navigator","userAgent","toLowerCase","indexOf","PayloadType","_ref4","H264","AAC","MP4A-LATM","MPEG4-GENERIC","Log$5","Remuxer","mediaElement","mse","mseEventSource","mse_ready","errorListener","mseClose","bind","closeListener","_ref5","_ref6","_ref7","_ref8","asyncToGenerator_default","regenerator_default","mark","_callee","wrap","_context","prev","initSegments","streams","enabled","initMSEHandlers","detachClient","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","TrackConverters","TrackTimescale","TrackScaleFactor","client","seekable","_this10","initmse","track_type","isSupported","Infinity","initSegment","initMSE","_this11","setCodec","onSamples","pay","getPayload","flush","keys_default","qidx","sampleQueues","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_step6","_iterator6","chunk","remux","_this12","clientEventSource","samplesListener","audioConfigListener","onTracks","State","stateMachine","transitions","StateMachine","storage","currentState","states","_ref9","activate","finishTransition","deactivate","state","fromName","toName","ReferenceError","res","promise","stateName","_this13","_promisify","catch","failHandler","Log$6","SDPParser","version","origin","sessionName","timing","sessionBlock","media","mediaMap","_this14","dataString","success","currentMediaBlock","_iteratorNormalCompletion7","_didIteratorError7","_iteratorError7","_step7","_iterator7","line","replace","charAt","_parseVersion","_parseOrigin","_parseSessionName","_parseTiming","rtpmap","_parseMediaDescription","_parseAttribute","match","username","sessionid","sessionversion","nettype","addresstype","unicastaddress","proto","fmt","_iteratorNormalCompletion8","_didIteratorError8","_iteratorError8","_step8","_iterator8","mediaType","pt","m","separator","mode","Number","control","toUpperCase","clock","encparams","ptype","string_map","fmtp","_iteratorNormalCompletion9","_didIteratorError9","_iteratorError9","_step9","_iterator9","param","trim","Log$7","RTSPStream","rtpChannel","stopKeepAlive","keepaliveInterval","keepaliveTime","forgetRTPChannel","sendSetup","sendTeardown","sdp","getSessionBlock","isAbsolute","contentBase","ctrl","includes","sendRequest","getSetupURL","Session","session","clearInterval","_this15","setInterval","sendKeepalive","RTSPError","reconnect","_cmd","_params","assign_default","getControlURL","_this16","RTSPClientSM","STATE_SETUP","interleaveChannelIndex","interleavedChannels","Transport","toUTCString","_data","headers","transport","interleaved","sessionParamsChunks","sessionParams","_iteratorNormalCompletion10","_didIteratorError10","_iteratorError10","_step10","_iterator10","kv","useRTPChannel","startKeepAlive","safeAdd","x","y","lsw","md5cmn","q","s","t","num","cnt","md5ff","c","d","md5gg","md5hh","md5ii","binlMD5","olda","oldb","oldc","oldd","binl2rstr","input","output","length32","String","fromCharCode","rstr2binl","length8","rstr2hex","str2rstrUTF8","unescape","encodeURIComponent","rawMD5","rstrMD5","rawHMACMD5","k","hash","bkey","ipad","opad","rstrHMACMD5","md5","string","raw","RTP","pkt","padding","has_extension","csrc","marker","sequence","getUint16","ssrc","csrcs","pktIndex","extension","ehl","header_data","headerLength","getMediaBlockByPayloadType","RTPFactory","tsOffsets","_iteratorNormalCompletion11","_didIteratorError11","_iteratorError11","_step11","_iterator11","last","overflow","rtp","tsOffset","RTSPMessage","_rtsp_version","_host","_payload","requestString","lines","body","statusLine","_lines$0$match","RegExp","_lines$0$match2","slicedToArray_default","lineIdx","_lines$lineIdx$split","_lines$lineIdx$split2","v","MessageBuilder","RTSP_1_0","NALUAsm","fragmented_nalu","rawData","nal_start_idx","STAP_B","parseNALHeader","getInt8","parseSingleNALUPacket","fu_header","is_start","is_end","payload_type","FU_B","appendData","FU_A","STAP_A","parseAggregationPacket","parseFragmentationUnit","hdr","AACFrame","AACAsm","sizeLength","indexLength","indexDeltaLength","CTSDeltaLength","DTSDeltaLength","RandomAccessIndication","StreamStateIndication","AuxiliaryDataSizeLength","configHeaderLength","auHeadersLengthPadded","ts","getTimestampMS","auHeadersLengthInBits","frames","frameOffset","aacData","RTPPayloadParser","h264parser","RTPH264Parser","aacparser","RTPAACParser","parse","naluasm","onNALUFragment","scale","asm","conf","onAACFragment","BaseClient","_this17","define_properties_default","sourceUrl","writable","connected","_onData","dataQueue","onData","_onConnect","onConnected","_onDisconnect","onDisconnected","detachTransport","source","endpoint","_this18","flushInterval","password","AACParser","bytesOrBits","prof","sfi","bytearray","byteLen","startByte","endByte","bitOffset","nBitOffset","endOffset","tail","bitSlice","SampleRates","parseAudioSpecificConfig","Log$8","RTSPSession","sessionId","sendPlay","_ref10","_callee2","_context2","STATE_PLAY","sent","STATE_PLAYING","abrupt","_ref11","_callee3","_context3","supports","STATE_PAUSE","STATE_PAUSED","_ref12","_callee4","_context4","STATE_TEARDOWN","Log$9","RTSPClient","_BaseClient","_this19","clientSM","ontracks","startStreamFlush","setSource","_this20","AuthError","_Error","msg","_Error2","_this22","_StateMachine","_this23","payParser","rtp_channels","sessions","addState","STATE_INITIAL","STATE_OPTIONS","sendOptions","onOptions","STATE_DESCRIBE","sendDescribe","onDescribe","onSetup","STATE_STREAMS","started","transitionTo","addTransition","shouldReconnect","rtpFactory","_ref13","_callee5","_context5","channel","onRTP","packet","sendPause","_ref14","_callee6","stream","_context6","authenticator","rtpBuffer","lastTimestamp","_ref15","_callee7","_context7","_this24","cSeq","CSeq","User-Agent","USER_AGENT","send","build","_ref16","_callee8","_method","chunks","ep","parsedChunks","_iteratorNormalCompletion12","_didIteratorError12","_iteratorError12","_iterator12","_step12","_c$split","_c$split2","_this25","_context8","t0","substring","queryCredentials","t1","t2","finish","ha1","realm","ha2","nonce","btoa","_x19","_x20","_this26","Accept","getMediaBlockList","_this27","_iteratorNormalCompletion13","_didIteratorError13","_iteratorError13","_step13","_iterator13","getMediaBlock","setupPromise","_ref17","rtp_info","_iteratorNormalCompletion14","_didIteratorError14","_iteratorError14","_step14","_iterator14","_chunk$split","_chunk$split2","sps_pps","has_config","parseStreamMuxConfig","sessionPromises","DOM","tagName","className","str","createTextNode","Stream","enc","pos","hexDigits","hexByte","high_byte","low_byte","parseStringISO","reTime","n","unusedBit","lenBit","skip","ASN1","sub","tagClass","tagNumber","posContent","reSeemsASCII","parseOctetString","parseInteger","parseBitString","parseOID","parseStringUTF","parseStringBMP","parseTime","typeName","indent","writeln","print","toPrettyString","node","asn1","head","innerHTML","preview","appendChild","oids","typeof_default","oid","w","toDOM","onclick","current","re","hexDump","root","hexNode","onmouseover","onmouseout","selected","fakeHover","fakeOut","toHexDOM_sub","posStart","posEnd","first","toHexDOM","decodeLength","buf","hasContent","p","subLength","exception","decode","streamStart","expected","write","Arcfour","S","rng_state","rng_pool","rng_pptr","rng_psize","crypto","getRandomValues","z","Uint32Array","onMouseMoveListener","detachEvent","mouseCoordinates","attachEvent","rng_get_byte","random","floor","dbits","SecureRandom","nextBytes","ba","BigInteger","fromNumber","fromString","nbi","appName","am","xl","xh","l","DB","DM","DV","FV","pow","F1","F2","rr","vv","BI_RM","BI_RC","int2char","intAt","nbv","r","fromInt","nbits","Classic","convert","compareTo","mod","revert","divRemTo","mulTo","multiplyTo","sqrTo","squareTo","Montgomery","mp","invDigit","mpl","mph","um","mt2","op_and","op_or","op_xor","op_andnot","lbit","cbit","NullExp","nNop","Barrett","r2","q3","ONE","dlShiftTo","mu","divide","ZERO","subTo","copyTo","u0","clamp","drShiftTo","fromRadix","mi","sh","lShiftTo","bs","cbs","bm","ds","rShiftTo","pm","ms","nsh","ys","y0","yt","d1","d2","qd","isEven","exp","g","negate","toRadix","km","bitLength","modPowInt","multiplyUpperTo","multiplyLowerTo","dAddOffset","lowprimes","lplim","parseBigInt","chunkSize","LN2","signum","cs","intValue","dMultiply","testBit","bitwiseTo","shiftLeft","isProbablePrime","op","f","changeBit","addTo","modInt","millerRabin","n1","subtract","getLowestSetBit","shiftRight","modPow","clone","byteValue","shortValue","toByteArray","equals","and","or","xor","andNot","not","bitCount","setBit","clearBit","flipBit","multiply","remainder","divideAndRemainder","k1","g2","is1","modInverse","ac","u","gcd","square","RSAKey","dmp1","dmq1","coeff","doPublic","setPublic","N","E","encrypt","text","rng","pkcs1pad2","doPrivate","xp","xq","setPrivate","D","setPrivateEx","P","Q","DP","DQ","C","generate","B","qs","ee","p1","q1","phi","decrypt","ctext","pkcs1unpad2","Base64","ignore","out","char_count","unarmor","Hex","decoder$1","JSX","env","L","OP","Object","ADD","parseUA","numberify","parseFloat","nav","o","ie","opera","gecko","webkit","chrome","mobile","air","iphone","ipod","ios","android","webos","caja","cajaVersion","secure","os","ua","loc","href","isFunction","_IEEnumFix","fname","extend","subc","superc","overrides","F","constructor","superclass","KJUR","ASN1Util","integerToByteHex","bigIntToMinTwosComplementsHex","bigIntegerValue","xorLen","hMask","getPEMStringFromHex","dataHex","pemHeader","dataWA","CryptoJS","pemBody","stringify","ASN1Object","getLengthHexFromValue","hV","hN","hNlen","getEncodedHex","hTLV","isModified","getFreshValueHex","hL","hT","getValueHex","DERAbstractString","getString","setString","newS","stohex","setStringHex","newHexString","DERAbstractTime","localDateToUTC","utc","getTime","getTimezoneOffset","formatDate","dateObject","pad","zeroPadding","year","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","setByDateValue","month","day","hour","sec","UTC","setByDate","DERAbstractStructured","setByASN1ObjectArray","asn1ObjectArray","asn1Array","appendASN1Object","asn1Object","DERBoolean","DERInteger","setByBigInteger","setByInteger","bi","setValueHex","DERBitString","setHexValueIncludingUnusedBits","newHexStringIncludingUnusedBits","setUnusedBitsAndHexValue","unusedBits","hValue","hUnusedBits","setByBinaryString","binaryString","setByBooleanArray","booleanArray","newFalseArray","nLength","DEROctetString","DERNull","DERObjectIdentifier","itox","roidtox","roid","padLen","bPad","b8","setValueOidString","oidString","i0","setValueName","oidName","x509","OID","name2oidList","DERUTF8String","DERNumericString","DERPrintableString","DERTeletexString","DERIA5String","DERUTCTime","date","DERGeneralizedTime","DERSequence","DERSet","asn1Obj","DERTaggedObject","isExplicit","setASN1Object","isExplicitFlag","tagNoHex","b64map","b64pad","hex2b64","getHexStringValue","hexString","toHexString","parseKey","pem","modulus","public_exponent","der","private_exponent","prime1","prime2","exponent1","exponent2","coefficient","ex","getPrivateBaseKey","int","bigint","getPrivateBaseKeyB64","getPublicBaseKey","first_sequence","getPublicBaseKeyB64","wordwrap","regex","getPrivateKey","getPublicKey","hasPublicKeyProperty","obj","hasPrivateKeyProperty","parsePropertiesFrom","JSEncryptRSAKey","_RSAKey","_this28","JSEncrypt","default_key_size","default_public_exponent","setKey","setPrivateKey","privkey","setPublicKey","pubkey","getKey","slop","b64tohex","cb","generateAsync","getPrivateKeyB64","getPublicKeyB64","BaseTransport","stream_type","_this29","disconnect","connect","streamTypes","Log$10","WebsocketTransport","_BaseTransport","workers","_this30","proxies","currentProxy","socket_url","_this31","_this32","proxy","WebSocketProxy","set_disconnect_handler","reason","setTimeout","set_data_handler","close","WSPProtocol","ver","cmd","data_str","PROTO","payIdx","V1_1","_line$split","_line$split2","wsurl","data_handler","disconnect_handler","builder","awaitingPromises","encryptor","handler","_this33","ctrlChannel","onclose","dataChannel","channel_id","_this34","WebSocket","CHN_DATA","binaryType","onopen","CMD_JOIN","onmessage","onerror","onDisconnect","_this35","encryptionKey","CHN_CONTROL","CMD_INIT","initDataChannel","crypted","_this36","OPEN","contentLength","CMD_WRAP","Log$11","StreamType$1","HLS","RTSP","mime","WSPlayer","opts","_this37","player","getElementById","modules","errorHandler","_iteratorNormalCompletion15","_didIteratorError15","_iteratorError15","_step15","_iterator15","canTransfer","streamType","_checkSource","children","isPlaying","fromUrl","dataset","canPlayType","fromMime","_ref18","_callee9","lastType","_context9","attachClient","attachTransport","autoplay","_x24","_x25","_this38","_ref19","_callee10","_context10","mimeType","filteredModules","_iteratorNormalCompletion16","_didIteratorError16","_iteratorError16","_step16","_iterator16","resource","Streamedian","logger","_options","alert","prompt","setCredentials","url2","video2","address","getAddressBaseInfo","getFireOrNot","getNowFormatDate","getCurrentFromMap","set_url","test_video","selectortype_template_index_0_src_view","gutter","span","getCurrentInfo","background-color","margin-right","controls","src_view","view_normalizeComponent","vue_esm","vue_router_esm","routes","path","component","router","productionTip","element_ui_common_default","el","App","template"],"mappings":"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","file":"static/js/app.451b572291b4f16abf87.js","sourcesContent":["module.exports = AMap;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"AMap\"\n// module id = +aT9\n// module chunks = 1","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-c8f0a83c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-c8f0a83c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c8f0a83c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <router-view/>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'App',\n};\n</script>\n\n<style>\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","import axios from 'axios';\n\n/* eslint-disable */\n\nwindow.LOG = false;\n\nwindow.shutUp = function() {\n  window.LOG = !window.LOG;\n};\n\nconst service = axios.create({\n  timeout: 5000,\n});\n\nservice.interceptors.request.use((e) => {\n  e.url = `/action${e.url}`;\n  if (window.LOG) {\n    console.group('Request');\n    console.log(e);\n    console.groupEnd();\n  }\n  return e;\n});\n\nservice.interceptors.response.use((e) => {\n  if (window.LOG) {\n    console.group('Response');\n    console.log(e);\n    console.groupEnd();\n  }\n  return e;\n})\n\nexport default service;\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/request.js","import request from '@/utils/request';\n\nexport function fetchOneCurrentInfo(data) {\n  return request({\n    url: '/baseInfo/address/boxes',\n    method: 'post',\n    data,\n  });\n}\n\nexport function fetchAllAddressInfo() {\n  return request({\n    url: '/baseInfo/address',\n    method: 'post',\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/baseInfo.js","<template>\n    <el-table\n        v-bind:data=\"tableData4\"\n        style=\"width: 100%\"\n        height=\"50vh\">\n        <el-table-column\n          prop=\"date\"\n          label=\"\"\n          width=\"100%\">\n        </el-table-column>\n        <el-table-column\n          prop=\"address\"\n          label=\"\"\n          width=\"100%\">\n        </el-table-column>\n            <el-table-column\n          prop=\"event\"\n          label=\"\"\n          width=\"100%\">\n        </el-table-column>\n        <el-table-column\n          fixed=\"right\"\n          label=\"\"\n          width=\"100%\">\n        <template slot-scope=\"scope\">\n            <el-button\n              @click.native.prevent=\"deleteRow(scope.$index, tableData4)\"\n              type=\"text\"\n              size=\"small\">\n              \n            </el-button>\n          </template>\n        </el-table-column>\n    </el-table>\n</template>\n\n<script>\nexport default{\n  name: 'infoBox',\n  props: ['tableData4'],\n  data() {\n    return {\n    };\n  },\n  methods: {\n    deleteRow(index, rows) {\n      rows.splice(index, 1);\n    },\n  },\n};\n</script>\n\n<style scoped>\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/infoBox.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData4,\"height\":\"50vh\"}},[_c('el-table-column',{attrs:{\"prop\":\"date\",\"label\":\"\",\"width\":\"100%\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"address\",\"label\":\"\",\"width\":\"100%\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"event\",\"label\":\"\",\"width\":\"100%\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"fixed\":\"right\",\"label\":\"\",\"width\":\"100%\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},nativeOn:{\"click\":function($event){$event.preventDefault();_vm.deleteRow(scope.$index, _vm.tableData4)}}},[_vm._v(\"\\n          \\n        \")])]}}])})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-9d85ce38\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/infoBox.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-9d85ce38\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./infoBox.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./infoBox.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./infoBox.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-9d85ce38\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./infoBox.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-9d85ce38\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/infoBox.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"map\" id=\"container\"></div>\n</template>\n\n<script>\n// eslint-disable-next-line\nimport AMap from 'AMap';\nimport { fetchAllAddressInfo } from '@/api/baseInfo';\nimport { fetchOneAddressAllCurrentSensorInfo } from '@/api/currentInfo';\n\nexport default {\n  name: 'gaoDeMap',\n  data() {\n    return {\n      addressInfo: [],\n      gaoDeMap: {},\n    };\n  },\n  mounted() {\n    this.gaoDeMap = new AMap.Map('container', {\n      pitch: 60,\n      rotation: 150,\n      resizeEnable: true,\n      expandZoomRange: true,\n      zooms: [17, 20],\n      viewMode: '3D',\n    });\n    fetchAllAddressInfo().then((response) => {\n      this.addressInfo = response.data;\n      this.addressInfo.forEach((a) => {\n        this.initMapPoint(a.name, a.agent, a.id, a.longitude, a.latitude);\n        this.gaoDeMap.setFitView();\n      });\n    });\n  },\n\n  methods: {\n    initMapPoint(name, agent, tempAddressId, longitude, latitude) {\n      const that = this;\n      function showSensorCurrentInfor(e) {\n        fetchOneAddressAllCurrentSensorInfo({ addressId: tempAddressId })\n          .then((response) => {\n            const json = response.data;\n            // \n            const info = [];\n            // \n            const infoBox = [];\n            info.push(`<div><div style=\"padding:0px 0px 0px 4px;\"><b>${name}</b>`); // FIXME\n            info.push(`${agent}`);\n            // \n            const currentData = (new Date()).toLocaleString();\n            for (let i = 0; i < json.length; i++) {\n              if (json[i] !== null) {\n                info.push(`${json[i].name} ${json[i].value} ${json[i].unit}`);\n                const temp = {};\n                temp.dataName = json[i].name;\n                temp.time = currentData;\n                temp.value = `${json[i].value} ${json[i].unit}`;\n                temp.sensorName = `${json[i].sensorName}`;\n                temp.addressId = json[i].addressId;\n                infoBox.push(temp);\n              }\n            }\n            // \n            that.$emit('getCurrentInfo', {\"infoBox\":infoBox,\"IMap\":that.gaoDeMap});\n            const infoWindow = new AMap.InfoWindow({\n              content: info.join('<br/>'), // .</br>push\n              offset: new AMap.Pixel(0, -30), // marker\n            });\n            infoWindow.open(that.gaoDeMap, e.target.getPosition());\n          });\n      }\n      const mapPoint = new AMap.Marker({\n        position: [longitude, latitude],\n        map: this.gaoDeMap,\n      });\n      mapPoint.on('click', showSensorCurrentInfor);\n    },\n  },\n};\n</script>\n\n<style scoped>\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/map.vue","import request from '@/utils/request';\n\nexport function fetchOneAddressOneCurrentSensorInfo(data) {\n  const { addressId, sensorName } = data;\n  return request({\n    url: `/currentInfo/address/boxes/sensor?addressId=${addressId}&sensorName=${sensorName}`,\n    method: 'post',\n  });\n}\n\nexport function fetchOneAddressAllCurrentSensorInfo(data) {\n  const { addressId } = data;\n  return request({\n    url: `/currentInfor/address/boxes?addressId=${addressId}`,\n    method: 'get',\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/currentInfo.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"map\",attrs:{\"id\":\"container\"}})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-31eec94c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/map.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-31eec94c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./map.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./map.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./map.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-31eec94c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./map.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-31eec94c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/map.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"historyBox\" style=\"width: 400px; height:400px;\">\n    <div class=\"et-chart\" style=\"width: 400px; height: 400px;\"></div>\n  </div>\n</template>\n\n<script>\nimport echarts from 'echarts';\n\nexport default {\n  name: 'historyBox',\n  props: ['historyData'],\n  data() {\n    return {\n      chart: '',\n    };\n  },\n  methods: {\n    initChart() {\n      const that = this;\n      const options = {\n        xAxis: {\n          type: 'category',\n          data: that.historyData.historyTime,\n        },\n        yAxis: {\n          type: 'value',\n        },\n        series: [{\n          data: that.historyData.historyHighData,\n          type: 'line',\n          smooth: true,\n        }, {\n          data: that.historyData.historyLowData,\n          type: 'line',\n          smooth: true,\n        }],\n      };\n      const divs = document.getElementsByClassName('et-chart');\n      const index = divs.length - 1;\n      this.chart = echarts.init(divs[index]);\n      this.chart.setOption(options);\n    },\n  },\n};\n</script>\n\n<style>\n</style>\n\n\n\n\n// WEBPACK FOOTER //\n// src/components/historyBox.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"width\":\"400px\",\"height\":\"400px\"},attrs:{\"id\":\"historyBox\"}},[_c('div',{staticClass:\"et-chart\",staticStyle:{\"width\":\"400px\",\"height\":\"400px\"}})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-58420cb4\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/historyBox.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-58420cb4\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./historyBox.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./historyBox.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./historyBox.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-58420cb4\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./historyBox.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/historyBox.vue\n// module id = null\n// module chunks = ","<template>\n  <div>\n    <el-table\n      v-bind:data=\"currentData\"\n      style=\"width: 100%\"\n      height=\"50vh\">\n\n      <el-table-column\n        prop=\"dataName\"\n        label=\"\"\n        width=\"100%\">\n      </el-table-column>\n\n      <el-table-column\n        prop=\"time\"\n        label=\"\"\n        width=\"100%\">\n      </el-table-column>\n\n      <el-table-column\n        prop=\"value\"\n        label=\"\"\n        width=\"100%\">\n      </el-table-column>\n\n      <el-table-column\n        fixed=\"right\"\n        label=\"\"\n        width=\"100%\">\n        <template slot-scope=\"scope\">\n\n          <el-popover\n            placement=\"left\"\n            width=\"500\"\n            trigger=\"click\">\n\n            <history-box ref=\"historyBox\" :historyData=\"historyData\" />\n\n            <el-button\n              @click.native.prevent=\"getHistoryInfoForModel(scope.row)\"\n              slot=\"reference\"\n              type=\"text\"\n              size=\"small\">\n              \n            </el-button>\n\n          </el-popover>\n        </template>\n      </el-table-column>\n    </el-table>\n  </div>\n</template>\n\n<script>\nimport { fetchOneAddressOneHistorySensorInfo } from '@/api/historyInfo';\nimport historyBox from '@/components/historyBox';\n\nexport default {\n  name: 'currentData',\n  props: ['currentData'],\n  data() {\n    return {\n      dialogVisible: false,\n      historyData: {},\n    };\n  },\n  methods: {\n    // \n    getHistoryInfoForModel(row) {\n      fetchOneAddressOneHistorySensorInfo({ addressId: row.addressId, sensorName: row.sensorName })\n        .then((response) => {\n          const historyTime = [];\n          const historyHighData = [];\n          const historyLowData = [];\n          response.data.forEach((element) => {\n            // console.log(element);\n            historyTime.push(element.time);\n            historyHighData.push(element.highValue);\n            historyLowData.push(element.lowValue);\n          });\n          this.historyData.historyTime = historyTime;\n          this.historyData.historyHighData = historyHighData;\n          this.historyData.historyLowData = historyLowData;\n          this.$refs.historyBox.initChart();\n        });\n      this.dialogVisible = true;\n    },\n  },\n  components: {\n    historyBox,\n  },\n};\n</script>\n\n<style scoped>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/currentData.vue","import request from '@/utils/request';\n\nexport function fetchAddressAllHistoryInfo(data) {\n  const { addressId } = data;\n  return request({\n    url: `/historyData/address/boxes?addressId=${addressId}`,\n    method: 'get',\n    data,\n  });\n}\n\nexport function fetchOneAddressOneHistorySensorInfo(data) {\n  const { addressId, sensorName } = data;\n  return request({\n    url: `/historyData/address/boxes/sensor?addressId=${addressId}&sensorName=${sensorName}`,\n    method: 'get',\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/historyInfo.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.currentData,\"height\":\"50vh\"}},[_c('el-table-column',{attrs:{\"prop\":\"dataName\",\"label\":\"\",\"width\":\"100%\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"time\",\"label\":\"\",\"width\":\"100%\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"value\",\"label\":\"\",\"width\":\"100%\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"fixed\":\"right\",\"label\":\"\",\"width\":\"100%\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-popover',{attrs:{\"placement\":\"left\",\"width\":\"500\",\"trigger\":\"click\"}},[_c('history-box',{ref:\"historyBox\",attrs:{\"historyData\":_vm.historyData}}),_vm._v(\" \"),_c('el-button',{attrs:{\"slot\":\"reference\",\"type\":\"text\",\"size\":\"small\"},nativeOn:{\"click\":function($event){$event.preventDefault();_vm.getHistoryInfoForModel(scope.row)}},slot:\"reference\"},[_vm._v(\"\\n            \\n          \")])],1)]}}])})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7e51175c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/currentData.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7e51175c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./currentData.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./currentData.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./currentData.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7e51175c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./currentData.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7e51175c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/currentData.vue\n// module id = null\n// module chunks = ","/* eslint-disable */\r\n(function () {\r\n'use strict';\r\n\r\n// ERROR=0, WARN=1, LOG=2, DEBUG=3\r\nconst LogLevel = {\r\n    Error: 0,\r\n    Warn: 1,\r\n    Log: 2,\r\n    Debug: 3\r\n};\r\n\r\nlet DEFAULT_LOG_LEVEL = LogLevel.Debug;\r\n\r\nfunction setDefaultLogLevel(level) {\r\n    DEFAULT_LOG_LEVEL = level;\r\n}\r\nclass Logger {\r\n    constructor(level = DEFAULT_LOG_LEVEL, tag) {\r\n        this.tag = tag;\r\n        this.setLevel(level);\r\n    }\r\n    \r\n    setLevel(level) {\r\n        this.level = level;\r\n    }\r\n    \r\n    static get level_map() { return {\r\n        [LogLevel.Debug]:'log',\r\n        [LogLevel.Log]:'log',\r\n        [LogLevel.Warn]:'warn',\r\n        [LogLevel.Error]:'error'\r\n    }};\r\n\r\n    _log(lvl, args) {\r\n        args = Array.prototype.slice.call(args);\r\n        if (this.tag) {\r\n            args.unshift(`[${this.tag}]`);\r\n        }\r\n        if (this.level>=lvl) console[Logger.level_map[lvl]].apply(console, args);\r\n    }\r\n    log(){\r\n        this._log(LogLevel.Log, arguments);\r\n    }\r\n    debug(){\r\n        this._log(LogLevel.Debug, arguments);\r\n    }\r\n    error(){\r\n        this._log(LogLevel.Error, arguments);\r\n    }\r\n    warn(){\r\n        this._log(LogLevel.Warn, arguments);\r\n    }\r\n}\r\n\r\nconst taggedLoggers = new Map();\r\nfunction getTagged(tag) {\r\n    if (!taggedLoggers.has(tag)) {\r\n        taggedLoggers.set(tag, new Logger(DEFAULT_LOG_LEVEL, tag));\r\n    }\r\n    return taggedLoggers.get(tag);\r\n}\r\nconst Log = new Logger();\r\n\r\n// export * from 'bp_logger';\r\n\r\nclass Url {\r\n    static parse(url) {\r\n        let ret = {};\r\n\r\n        let regex = /^([^:]+):\\/\\/([^\\/]+)(.*)$/;  //protocol, login, urlpath\r\n        let result = regex.exec(url);\r\n\r\n        if (!result) {\r\n            throw new Error(\"bad url\");\r\n        }\r\n\r\n        ret.full = url;\r\n        ret.protocol = result[1];\r\n        ret.urlpath = result[3];\r\n\r\n        let parts = ret.urlpath.split('/');\r\n        ret.basename = parts.pop().split(/\\?|#/)[0];\r\n        ret.basepath = parts.join('/');\r\n\r\n        let loginSplit = result[2].split('@');\r\n        let hostport = loginSplit[0].split(':');\r\n        let userpass = [ null, null ];\r\n        if (loginSplit.length === 2) {\r\n            userpass = loginSplit[0].split(':');\r\n            hostport = loginSplit[1].split(':');\r\n        }\r\n\r\n        ret.user = userpass[0];\r\n        ret.pass = userpass[1];\r\n        ret.host = hostport[0];\r\n        ret.auth = (ret.user && ret.pass) ? `${ret.user}:${ret.pass}` : '';\r\n\r\n        ret.port = (null == hostport[1]) ? Url.protocolDefaultPort(ret.protocol) : hostport[1];\r\n        ret.portDefined = (null != hostport[1]);\r\n        ret.location = `${ret.host}:${ret.port}`;\r\n\r\n        if (ret.protocol == 'unix') {\r\n            ret.socket = ret.port;\r\n            ret.port = undefined;\r\n        }\r\n\r\n        return ret;\r\n    }\r\n\r\n    static full(parsed) {\r\n        return `${parsed.protocol}://${parsed.location}/${parsed.urlpath}`;\r\n    }\r\n\r\n    static isAbsolute(url) {\r\n        return /^[^:]+:\\/\\//.test(url);\r\n    }\r\n\r\n    static protocolDefaultPort(protocol) {\r\n        switch (protocol) {\r\n            case 'rtsp': return 554;\r\n            case 'http': return 80;\r\n            case 'https': return 443;\r\n        }\r\n\r\n        return 0;\r\n    }\r\n}\r\n\r\nconst listener = Symbol(\"event_listener\");\r\nconst listeners = Symbol(\"event_listeners\");\r\n\r\nclass DestructibleEventListener {\r\n    constructor(eventListener) {\r\n        this[listener] = eventListener;\r\n        this[listeners] = new Map();\r\n    }\r\n\r\n    clear() {\r\n        if (this[listeners]) {\r\n            for (let entry of this[listeners]) {\r\n                for (let fn of entry[1]) {\r\n                    this[listener].removeEventListener(entry[0], fn);\r\n                }\r\n            }\r\n        }\r\n        this[listeners].clear();\r\n    }\r\n\r\n    destroy() {\r\n        this.clear();\r\n        this[listeners] = null;\r\n    }\r\n\r\n    on(event, selector, fn) {\r\n        if (fn == undefined) {\r\n            fn = selector;\r\n            selector = null;\r\n        }\r\n        if (selector) {\r\n            return this.addEventListener(event, (e) => {\r\n                if (e.target.matches(selector)) {\r\n                    fn(e);\r\n                }\r\n            });\r\n        } else {\r\n            return this.addEventListener(event, fn);\r\n        }\r\n    }\r\n\r\n    addEventListener(event, fn) {\r\n        if (!this[listeners].has(event)) {\r\n            this[listeners].set(event, new Set());\r\n        }\r\n        this[listeners].get(event).add(fn);\r\n        this[listener].addEventListener(event, fn, false);\r\n        return fn;\r\n    }\r\n\r\n    removeEventListener(event, fn) {\r\n        this[listener].removeEventListener(event, fn, false);\r\n        if (this[listeners].has(event)) {\r\n            //this[listeners].set(event, new Set());\r\n            let ev = this[listeners].get(event);\r\n            ev.delete(fn);\r\n            if (!ev.size) {\r\n                this[listeners].delete(event);\r\n            }\r\n        }\r\n    }\r\n\r\n    dispatchEvent(event) {\r\n        if (this[listener]) {\r\n            this[listener].dispatchEvent(event);\r\n        }\r\n    }\r\n}\r\n\r\nclass EventEmitter {\r\n    constructor(element=null) {\r\n        this[listener] = new DestructibleEventListener(element || document.createElement('div'));\r\n    }\r\n\r\n    clear() {\r\n        if (this[listener]) {\r\n            this[listener].clear();\r\n        }\r\n    }\r\n\r\n    destroy() {\r\n        if (this[listener]) {\r\n            this[listener].destroy();\r\n            this[listener] = null;\r\n        }\r\n    }\r\n\r\n    on(event, selector, fn) {\r\n        if (this[listener]) {\r\n            return this[listener].on(event, selector, fn);\r\n        }\r\n        return null;\r\n    }\r\n\r\n    addEventListener(event, fn) {\r\n        if (this[listener]) {\r\n            return this[listener].addEventListener(event, fn, false);\r\n        }\r\n        return null;\r\n    }\r\n\r\n    removeEventListener(event, fn) {\r\n        if (this[listener]) {\r\n            this[listener].removeEventListener(event, fn, false);\r\n        }\r\n    }\r\n\r\n    dispatchEvent(event, data) {\r\n        if (this[listener]) {\r\n            this[listener].dispatchEvent(new CustomEvent(event, {detail: data}));\r\n        }\r\n    }\r\n}\r\n\r\nclass EventSourceWrapper {\r\n    constructor(eventSource) {\r\n        this.eventSource = eventSource;\r\n        this[listeners] = new Map();\r\n    }\r\n\r\n    on(event, selector, fn) {\r\n        if (!this[listeners].has(event)) {\r\n            this[listeners].set(event, new Set());\r\n        }\r\n        let listener = this.eventSource.on(event, selector, fn);\r\n        if (listener) {\r\n            this[listeners].get(event).add(listener);\r\n        }\r\n    }\r\n\r\n    off(event, fn){\r\n        this.eventSource.removeEventListener(event, fn);\r\n    }\r\n\r\n    clear() {\r\n        this.eventSource.clear();\r\n        this[listeners].clear();\r\n    }\r\n\r\n    destroy() {\r\n        this.eventSource.clear();\r\n        this[listeners] = null;\r\n        this.eventSource = null;\r\n    }\r\n}\r\n\r\n// export * from 'bp_event';\r\n\r\n/**\r\n * Generate MP4 Box\r\n * got from: https://github.com/dailymotion/hls.js\r\n */\r\n\r\nclass MP4 {\r\n    static init() {\r\n        MP4.types = {\r\n            avc1: [], // codingname\r\n            avcC: [],\r\n            btrt: [],\r\n            dinf: [],\r\n            dref: [],\r\n            esds: [],\r\n            ftyp: [],\r\n            hdlr: [],\r\n            mdat: [],\r\n            mdhd: [],\r\n            mdia: [],\r\n            mfhd: [],\r\n            minf: [],\r\n            moof: [],\r\n            moov: [],\r\n            mp4a: [],\r\n            mvex: [],\r\n            mvhd: [],\r\n            sdtp: [],\r\n            stbl: [],\r\n            stco: [],\r\n            stsc: [],\r\n            stsd: [],\r\n            stsz: [],\r\n            stts: [],\r\n            tfdt: [],\r\n            tfhd: [],\r\n            traf: [],\r\n            trak: [],\r\n            trun: [],\r\n            trex: [],\r\n            tkhd: [],\r\n            vmhd: [],\r\n            smhd: []\r\n        };\r\n\r\n        var i;\r\n        for (i in MP4.types) {\r\n            if (MP4.types.hasOwnProperty(i)) {\r\n                MP4.types[i] = [\r\n                    i.charCodeAt(0),\r\n                    i.charCodeAt(1),\r\n                    i.charCodeAt(2),\r\n                    i.charCodeAt(3)\r\n                ];\r\n            }\r\n        }\r\n\r\n        var videoHdlr = new Uint8Array([\r\n            0x00, // version 0\r\n            0x00, 0x00, 0x00, // flags\r\n            0x00, 0x00, 0x00, 0x00, // pre_defined\r\n            0x76, 0x69, 0x64, 0x65, // handler_type: 'vide'\r\n            0x00, 0x00, 0x00, 0x00, // reserved\r\n            0x00, 0x00, 0x00, 0x00, // reserved\r\n            0x00, 0x00, 0x00, 0x00, // reserved\r\n            0x56, 0x69, 0x64, 0x65,\r\n            0x6f, 0x48, 0x61, 0x6e,\r\n            0x64, 0x6c, 0x65, 0x72, 0x00 // name: 'VideoHandler'\r\n        ]);\r\n\r\n        var audioHdlr = new Uint8Array([\r\n            0x00, // version 0\r\n            0x00, 0x00, 0x00, // flags\r\n            0x00, 0x00, 0x00, 0x00, // pre_defined\r\n            0x73, 0x6f, 0x75, 0x6e, // handler_type: 'soun'\r\n            0x00, 0x00, 0x00, 0x00, // reserved\r\n            0x00, 0x00, 0x00, 0x00, // reserved\r\n            0x00, 0x00, 0x00, 0x00, // reserved\r\n            0x53, 0x6f, 0x75, 0x6e,\r\n            0x64, 0x48, 0x61, 0x6e,\r\n            0x64, 0x6c, 0x65, 0x72, 0x00 // name: 'SoundHandler'\r\n        ]);\r\n\r\n        MP4.HDLR_TYPES = {\r\n            'video': videoHdlr,\r\n            'audio': audioHdlr\r\n        };\r\n\r\n        var dref = new Uint8Array([\r\n            0x00, // version 0\r\n            0x00, 0x00, 0x00, // flags\r\n            0x00, 0x00, 0x00, 0x01, // entry_count\r\n            0x00, 0x00, 0x00, 0x0c, // entry_size\r\n            0x75, 0x72, 0x6c, 0x20, // 'url' type\r\n            0x00, // version 0\r\n            0x00, 0x00, 0x01 // entry_flags\r\n        ]);\r\n\r\n        var stco = new Uint8Array([\r\n            0x00, // version\r\n            0x00, 0x00, 0x00, // flags\r\n            0x00, 0x00, 0x00, 0x00 // entry_count\r\n        ]);\r\n\r\n        MP4.STTS = MP4.STSC = MP4.STCO = stco;\r\n\r\n        MP4.STSZ = new Uint8Array([\r\n            0x00, // version\r\n            0x00, 0x00, 0x00, // flags\r\n            0x00, 0x00, 0x00, 0x00, // sample_size\r\n            0x00, 0x00, 0x00, 0x00, // sample_count\r\n        ]);\r\n        MP4.VMHD = new Uint8Array([\r\n            0x00, // version\r\n            0x00, 0x00, 0x01, // flags\r\n            0x00, 0x00, // graphicsmode\r\n            0x00, 0x00,\r\n            0x00, 0x00,\r\n            0x00, 0x00 // opcolor\r\n        ]);\r\n        MP4.SMHD = new Uint8Array([\r\n            0x00, // version\r\n            0x00, 0x00, 0x00, // flags\r\n            0x00, 0x00, // balance\r\n            0x00, 0x00 // reserved\r\n        ]);\r\n\r\n        MP4.STSD = new Uint8Array([\r\n            0x00, // version 0\r\n            0x00, 0x00, 0x00, // flags\r\n            0x00, 0x00, 0x00, 0x01]);// entry_count\r\n\r\n        var majorBrand = new Uint8Array([105,115,111,109]); // isom\r\n        var avc1Brand = new Uint8Array([97,118,99,49]); // avc1\r\n        var minorVersion = new Uint8Array([0, 0, 0, 1]);\r\n\r\n        MP4.FTYP = MP4.box(MP4.types.ftyp, majorBrand, minorVersion, majorBrand, avc1Brand);\r\n        MP4.DINF = MP4.box(MP4.types.dinf, MP4.box(MP4.types.dref, dref));\r\n    }\r\n\r\n    static box(type, ...payload) {\r\n        var size = 8,\r\n            i = payload.length,\r\n            len = i,\r\n            result;\r\n        // calculate the total size we need to allocate\r\n        while (i--) {\r\n            size += payload[i].byteLength;\r\n        }\r\n        result = new Uint8Array(size);\r\n        result[0] = (size >> 24) & 0xff;\r\n        result[1] = (size >> 16) & 0xff;\r\n        result[2] = (size >> 8) & 0xff;\r\n        result[3] = size  & 0xff;\r\n        result.set(type, 4);\r\n        // copy the payload into the result\r\n        for (i = 0, size = 8; i < len; ++i) {\r\n            // copy payload[i] array @ offset size\r\n            result.set(payload[i], size);\r\n            size += payload[i].byteLength;\r\n        }\r\n        return result;\r\n    }\r\n\r\n    static hdlr(type) {\r\n        return MP4.box(MP4.types.hdlr, MP4.HDLR_TYPES[type]);\r\n    }\r\n\r\n    static mdat(data) {\r\n        return MP4.box(MP4.types.mdat, data);\r\n    }\r\n\r\n    static mdhd(timescale, duration) {\r\n        return MP4.box(MP4.types.mdhd, new Uint8Array([\r\n            0x00, // version 0\r\n            0x00, 0x00, 0x00, // flags\r\n            0x00, 0x00, 0x00, 0x02, // creation_time\r\n            0x00, 0x00, 0x00, 0x03, // modification_time\r\n            (timescale >> 24) & 0xFF,\r\n            (timescale >> 16) & 0xFF,\r\n            (timescale >>  8) & 0xFF,\r\n            timescale & 0xFF, // timescale\r\n            (duration >> 24),\r\n            (duration >> 16) & 0xFF,\r\n            (duration >>  8) & 0xFF,\r\n            duration & 0xFF, // duration\r\n            0x55, 0xc4, // 'und' language (undetermined)\r\n            0x00, 0x00\r\n        ]));\r\n    }\r\n\r\n    static mdia(track) {\r\n        return MP4.box(MP4.types.mdia, MP4.mdhd(track.timescale, track.duration), MP4.hdlr(track.type), MP4.minf(track));\r\n    }\r\n\r\n    static mfhd(sequenceNumber) {\r\n        return MP4.box(MP4.types.mfhd, new Uint8Array([\r\n            0x00,\r\n            0x00, 0x00, 0x00, // flags\r\n            (sequenceNumber >> 24),\r\n            (sequenceNumber >> 16) & 0xFF,\r\n            (sequenceNumber >>  8) & 0xFF,\r\n            sequenceNumber & 0xFF, // sequence_number\r\n        ]));\r\n    }\r\n\r\n    static minf(track) {\r\n        if (track.type === 'audio') {\r\n            return MP4.box(MP4.types.minf, MP4.box(MP4.types.smhd, MP4.SMHD), MP4.DINF, MP4.stbl(track));\r\n        } else {\r\n            return MP4.box(MP4.types.minf, MP4.box(MP4.types.vmhd, MP4.VMHD), MP4.DINF, MP4.stbl(track));\r\n        }\r\n    }\r\n\r\n    static moof(sn, baseMediaDecodeTime, track) {\r\n        return MP4.box(MP4.types.moof, MP4.mfhd(sn), MP4.traf(track,baseMediaDecodeTime));\r\n    }\r\n    /**\r\n     * @param tracks... (optional) {array} the tracks associated with this movie\r\n     */\r\n    static moov(tracks, duration, timescale) {\r\n        var\r\n            i = tracks.length,\r\n            boxes = [];\r\n\r\n        while (i--) {\r\n            boxes[i] = MP4.trak(tracks[i]);\r\n        }\r\n\r\n        return MP4.box.apply(null, [MP4.types.moov, MP4.mvhd(timescale, duration)].concat(boxes).concat(MP4.mvex(tracks)));\r\n    }\r\n\r\n    static mvex(tracks) {\r\n        var\r\n            i = tracks.length,\r\n            boxes = [];\r\n\r\n        while (i--) {\r\n            boxes[i] = MP4.trex(tracks[i]);\r\n        }\r\n        return MP4.box.apply(null, [MP4.types.mvex].concat(boxes));\r\n    }\r\n\r\n    static mvhd(timescale,duration) {\r\n        var\r\n            bytes = new Uint8Array([\r\n                0x00, // version 0\r\n                0x00, 0x00, 0x00, // flags\r\n                0x00, 0x00, 0x00, 0x01, // creation_time\r\n                0x00, 0x00, 0x00, 0x02, // modification_time\r\n                (timescale >> 24) & 0xFF,\r\n                (timescale >> 16) & 0xFF,\r\n                (timescale >>  8) & 0xFF,\r\n                timescale & 0xFF, // timescale\r\n                (duration >> 24) & 0xFF,\r\n                (duration >> 16) & 0xFF,\r\n                (duration >>  8) & 0xFF,\r\n                duration & 0xFF, // duration\r\n                0x00, 0x01, 0x00, 0x00, // 1.0 rate\r\n                0x01, 0x00, // 1.0 volume\r\n                0x00, 0x00, // reserved\r\n                0x00, 0x00, 0x00, 0x00, // reserved\r\n                0x00, 0x00, 0x00, 0x00, // reserved\r\n                0x00, 0x01, 0x00, 0x00,\r\n                0x00, 0x00, 0x00, 0x00,\r\n                0x00, 0x00, 0x00, 0x00,\r\n                0x00, 0x00, 0x00, 0x00,\r\n                0x00, 0x01, 0x00, 0x00,\r\n                0x00, 0x00, 0x00, 0x00,\r\n                0x00, 0x00, 0x00, 0x00,\r\n                0x00, 0x00, 0x00, 0x00,\r\n                0x40, 0x00, 0x00, 0x00, // transformation: unity matrix\r\n                0x00, 0x00, 0x00, 0x00,\r\n                0x00, 0x00, 0x00, 0x00,\r\n                0x00, 0x00, 0x00, 0x00,\r\n                0x00, 0x00, 0x00, 0x00,\r\n                0x00, 0x00, 0x00, 0x00,\r\n                0x00, 0x00, 0x00, 0x00, // pre_defined\r\n                0xff, 0xff, 0xff, 0xff // next_track_ID\r\n            ]);\r\n        return MP4.box(MP4.types.mvhd, bytes);\r\n    }\r\n\r\n    static sdtp(track) {\r\n        var\r\n            samples = track.samples || [],\r\n            bytes = new Uint8Array(4 + samples.length),\r\n            flags,\r\n            i;\r\n        // leave the full box header (4 bytes) all zero\r\n        // write the sample table\r\n        for (i = 0; i < samples.length; i++) {\r\n            flags = samples[i].flags;\r\n            bytes[i + 4] = (flags.dependsOn << 4) |\r\n                (flags.isDependedOn << 2) |\r\n                (flags.hasRedundancy);\r\n        }\r\n\r\n        return MP4.box(MP4.types.sdtp, bytes);\r\n    }\r\n\r\n    static stbl(track) {\r\n        return MP4.box(MP4.types.stbl, MP4.stsd(track), MP4.box(MP4.types.stts, MP4.STTS), MP4.box(MP4.types.stsc, MP4.STSC), MP4.box(MP4.types.stsz, MP4.STSZ), MP4.box(MP4.types.stco, MP4.STCO));\r\n    }\r\n\r\n    static avc1(track) {\r\n        var sps = [], pps = [], i, data, len;\r\n        // assemble the SPSs\r\n\r\n        for (i = 0; i < track.sps.length; i++) {\r\n            data = track.sps[i];\r\n            len = data.byteLength;\r\n            sps.push((len >>> 8) & 0xFF);\r\n            sps.push((len & 0xFF));\r\n            sps = sps.concat(Array.prototype.slice.call(data)); // SPS\r\n        }\r\n\r\n        // assemble the PPSs\r\n        for (i = 0; i < track.pps.length; i++) {\r\n            data = track.pps[i];\r\n            len = data.byteLength;\r\n            pps.push((len >>> 8) & 0xFF);\r\n            pps.push((len & 0xFF));\r\n            pps = pps.concat(Array.prototype.slice.call(data));\r\n        }\r\n\r\n        var avcc = MP4.box(MP4.types.avcC, new Uint8Array([\r\n                0x01,   // version\r\n                sps[3], // profile\r\n                sps[4], // profile compat\r\n                sps[5], // level\r\n                0xfc | 3, // lengthSizeMinusOne, hard-coded to 4 bytes\r\n                0xE0 | track.sps.length // 3bit reserved (111) + numOfSequenceParameterSets\r\n            ].concat(sps).concat([\r\n                track.pps.length // numOfPictureParameterSets\r\n            ]).concat(pps))), // \"PPS\"\r\n            width = track.width,\r\n            height = track.height;\r\n        //console.log('avcc:' + Hex.hexDump(avcc));\r\n        return MP4.box(MP4.types.avc1, new Uint8Array([\r\n                0x00, 0x00, 0x00, // reserved\r\n                0x00, 0x00, 0x00, // reserved\r\n                0x00, 0x01, // data_reference_index\r\n                0x00, 0x00, // pre_defined\r\n                0x00, 0x00, // reserved\r\n                0x00, 0x00, 0x00, 0x00,\r\n                0x00, 0x00, 0x00, 0x00,\r\n                0x00, 0x00, 0x00, 0x00, // pre_defined\r\n                (width >> 8) & 0xFF,\r\n                width & 0xff, // width\r\n                (height >> 8) & 0xFF,\r\n                height & 0xff, // height\r\n                0x00, 0x48, 0x00, 0x00, // horizresolution\r\n                0x00, 0x48, 0x00, 0x00, // vertresolution\r\n                0x00, 0x00, 0x00, 0x00, // reserved\r\n                0x00, 0x01, // frame_count\r\n                0x12,\r\n                0x62, 0x69, 0x6E, 0x65, //binelpro.ru\r\n                0x6C, 0x70, 0x72, 0x6F,\r\n                0x2E, 0x72, 0x75, 0x00,\r\n                0x00, 0x00, 0x00, 0x00,\r\n                0x00, 0x00, 0x00, 0x00,\r\n                0x00, 0x00, 0x00, 0x00,\r\n                0x00, 0x00, 0x00, 0x00,\r\n                0x00, 0x00, 0x00, // compressorname\r\n                0x00, 0x18,   // depth = 24\r\n                0x11, 0x11]), // pre_defined = -1\r\n            avcc,\r\n            MP4.box(MP4.types.btrt, new Uint8Array([\r\n                0x00, 0x1c, 0x9c, 0x80, // bufferSizeDB\r\n                0x00, 0x2d, 0xc6, 0xc0, // maxBitrate\r\n                0x00, 0x2d, 0xc6, 0xc0])) // avgBitrate\r\n        );\r\n    }\r\n\r\n    static esds(track) {\r\n        var configlen = track.config.byteLength;\r\n        let data = new Uint8Array(26+configlen+3);\r\n        data.set([\r\n            0x00, // version 0\r\n            0x00, 0x00, 0x00, // flags\r\n\r\n            0x03, // descriptor_type\r\n            0x17+configlen, // length\r\n            0x00, 0x01, //es_id\r\n            0x00, // stream_priority\r\n\r\n            0x04, // descriptor_type\r\n            0x0f+configlen, // length\r\n            0x40, //codec : mpeg4_audio\r\n            0x15, // stream_type\r\n            0x00, 0x00, 0x00, // buffer_size\r\n            0x00, 0x00, 0x00, 0x00, // maxBitrate\r\n            0x00, 0x00, 0x00, 0x00, // avgBitrate\r\n\r\n            0x05, // descriptor_type\r\n            configlen\r\n        ]);\r\n        data.set(track.config, 26);\r\n        data.set([0x06, 0x01, 0x02], 26+configlen);\r\n        // return new Uint8Array([\r\n        //     0x00, // version 0\r\n        //     0x00, 0x00, 0x00, // flags\r\n        //\r\n        //     0x03, // descriptor_type\r\n        //     0x17+configlen, // length\r\n        //     0x00, 0x01, //es_id\r\n        //     0x00, // stream_priority\r\n        //\r\n        //     0x04, // descriptor_type\r\n        //     0x0f+configlen, // length\r\n        //     0x40, //codec : mpeg4_audio\r\n        //     0x15, // stream_type\r\n        //     0x00, 0x00, 0x00, // buffer_size\r\n        //     0x00, 0x00, 0x00, 0x00, // maxBitrate\r\n        //     0x00, 0x00, 0x00, 0x00, // avgBitrate\r\n        //\r\n        //     0x05 // descriptor_type\r\n        // ].concat([configlen]).concat(track.config).concat([0x06, 0x01, 0x02])); // GASpecificConfig)); // length + audio config descriptor\r\n        return data;\r\n    }\r\n\r\n    static mp4a(track) {\r\n        var audiosamplerate = track.audiosamplerate;\r\n        return MP4.box(MP4.types.mp4a, new Uint8Array([\r\n                0x00, 0x00, 0x00, // reserved\r\n                0x00, 0x00, 0x00, // reserved\r\n                0x00, 0x01, // data_reference_index\r\n                0x00, 0x00, 0x00, 0x00,\r\n                0x00, 0x00, 0x00, 0x00, // reserved\r\n                0x00, track.channelCount, // channelcount\r\n                0x00, 0x10, // sampleSize:16bits\r\n                0x00, 0x00, // pre_defined\r\n                0x00, 0x00, // reserved2\r\n                (audiosamplerate >> 8) & 0xFF,\r\n                audiosamplerate & 0xff, //\r\n                0x00, 0x00]),\r\n            MP4.box(MP4.types.esds, MP4.esds(track)));\r\n    }\r\n\r\n    static stsd(track) {\r\n        if (track.type === 'audio') {\r\n            return MP4.box(MP4.types.stsd, MP4.STSD, MP4.mp4a(track));\r\n        } else {\r\n            return MP4.box(MP4.types.stsd, MP4.STSD, MP4.avc1(track));\r\n        }\r\n    }\r\n\r\n    static tkhd(track) {\r\n        var id = track.id,\r\n            duration = track.duration,\r\n            width = track.width,\r\n            height = track.height,\r\n            volume = track.volume;\r\n        return MP4.box(MP4.types.tkhd, new Uint8Array([\r\n            0x00, // version 0\r\n            0x00, 0x00, 0x07, // flags\r\n            0x00, 0x00, 0x00, 0x00, // creation_time\r\n            0x00, 0x00, 0x00, 0x00, // modification_time\r\n            (id >> 24) & 0xFF,\r\n            (id >> 16) & 0xFF,\r\n            (id >> 8) & 0xFF,\r\n            id & 0xFF, // track_ID\r\n            0x00, 0x00, 0x00, 0x00, // reserved\r\n            (duration >> 24),\r\n            (duration >> 16) & 0xFF,\r\n            (duration >>  8) & 0xFF,\r\n            duration & 0xFF, // duration\r\n            0x00, 0x00, 0x00, 0x00,\r\n            0x00, 0x00, 0x00, 0x00, // reserved\r\n            0x00, 0x00, // layer\r\n            0x00, 0x00, // alternate_group\r\n            (volume>>0)&0xff, (((volume%1)*10)>>0)&0xff, // track volume // FIXME\r\n            0x00, 0x00, // reserved\r\n            0x00, 0x01, 0x00, 0x00,\r\n            0x00, 0x00, 0x00, 0x00,\r\n            0x00, 0x00, 0x00, 0x00,\r\n            0x00, 0x00, 0x00, 0x00,\r\n            0x00, 0x01, 0x00, 0x00,\r\n            0x00, 0x00, 0x00, 0x00,\r\n            0x00, 0x00, 0x00, 0x00,\r\n            0x00, 0x00, 0x00, 0x00,\r\n            0x40, 0x00, 0x00, 0x00, // transformation: unity matrix\r\n            (width >> 8) & 0xFF,\r\n            width & 0xFF,\r\n            0x00, 0x00, // width\r\n            (height >> 8) & 0xFF,\r\n            height & 0xFF,\r\n            0x00, 0x00 // height\r\n        ]));\r\n    }\r\n\r\n    static traf(track,baseMediaDecodeTime) {\r\n        var sampleDependencyTable = MP4.sdtp(track),\r\n            id = track.id;\r\n        return MP4.box(MP4.types.traf,\r\n            MP4.box(MP4.types.tfhd, new Uint8Array([\r\n                0x00, // version 0\r\n                0x00, 0x00, 0x00, // flags\r\n                (id >> 24),\r\n                (id >> 16) & 0XFF,\r\n                (id >> 8) & 0XFF,\r\n                (id & 0xFF) // track_ID\r\n            ])),\r\n            MP4.box(MP4.types.tfdt, new Uint8Array([\r\n                0x00, // version 0\r\n                0x00, 0x00, 0x00, // flags\r\n                (baseMediaDecodeTime >>24),\r\n                (baseMediaDecodeTime >> 16) & 0XFF,\r\n                (baseMediaDecodeTime >> 8) & 0XFF,\r\n                (baseMediaDecodeTime & 0xFF) // baseMediaDecodeTime\r\n            ])),\r\n            MP4.trun(track,\r\n                sampleDependencyTable.length +\r\n                16 + // tfhd\r\n                16 + // tfdt\r\n                8 +  // traf header\r\n                16 + // mfhd\r\n                8 +  // moof header\r\n                8),  // mdat header\r\n            sampleDependencyTable);\r\n    }\r\n\r\n    /**\r\n     * Generate a track box.\r\n     * @param track {object} a track definition\r\n     * @return {Uint8Array} the track box\r\n     */\r\n    static trak(track) {\r\n        track.duration = track.duration || 0xffffffff;\r\n        return MP4.box(MP4.types.trak, MP4.tkhd(track), MP4.mdia(track));\r\n    }\r\n\r\n    static trex(track) {\r\n        var id = track.id;\r\n        return MP4.box(MP4.types.trex, new Uint8Array([\r\n            0x00, // version 0\r\n            0x00, 0x00, 0x00, // flags\r\n            (id >> 24),\r\n            (id >> 16) & 0XFF,\r\n            (id >> 8) & 0XFF,\r\n            (id & 0xFF), // track_ID\r\n            0x00, 0x00, 0x00, 0x01, // default_sample_description_index\r\n            0x00, 0x00, 0x00, 0x00, // default_sample_duration\r\n            0x00, 0x00, 0x00, 0x00, // default_sample_size\r\n            0x00, 0x01, 0x00, 0x01 // default_sample_flags\r\n        ]));\r\n    }\r\n\r\n    static trun(track, offset) {\r\n        var samples= track.samples || [],\r\n            len = samples.length,\r\n            arraylen = 12 + (16 * len),\r\n            array = new Uint8Array(arraylen),\r\n            i,sample,duration,size,flags,cts;\r\n        offset += 8 + arraylen;\r\n        array.set([\r\n            0x00, // version 0\r\n            0x00, 0x0f, 0x01, // flags\r\n            (len >>> 24) & 0xFF,\r\n            (len >>> 16) & 0xFF,\r\n            (len >>> 8) & 0xFF,\r\n            len & 0xFF, // sample_count\r\n            (offset >>> 24) & 0xFF,\r\n            (offset >>> 16) & 0xFF,\r\n            (offset >>> 8) & 0xFF,\r\n            offset & 0xFF // data_offset\r\n        ],0);\r\n        for (i = 0; i < len; i++) {\r\n            sample = samples[i];\r\n            duration = sample.duration;\r\n            size = sample.size;\r\n            flags = sample.flags;\r\n            cts = sample.cts;\r\n            array.set([\r\n                (duration >>> 24) & 0xFF,\r\n                (duration >>> 16) & 0xFF,\r\n                (duration >>> 8) & 0xFF,\r\n                duration & 0xFF, // sample_duration\r\n                (size >>> 24) & 0xFF,\r\n                (size >>> 16) & 0xFF,\r\n                (size >>> 8) & 0xFF,\r\n                size & 0xFF, // sample_size\r\n                (flags.isLeading << 2) | flags.dependsOn,\r\n                (flags.isDependedOn << 6) |\r\n                (flags.hasRedundancy << 4) |\r\n                (flags.paddingValue << 1) |\r\n                flags.isNonSync,\r\n                flags.degradPrio & 0xF0 << 8,\r\n                flags.degradPrio & 0x0F, // sample_flags\r\n                (cts >>> 24) & 0xFF,\r\n                (cts >>> 16) & 0xFF,\r\n                (cts >>> 8) & 0xFF,\r\n                cts & 0xFF // sample_composition_time_offset\r\n            ],12+16*i);\r\n        }\r\n        return MP4.box(MP4.types.trun, array);\r\n    }\r\n\r\n    static initSegment(tracks, duration, timescale) {\r\n        if (!MP4.types) {\r\n            MP4.init();\r\n        }\r\n        var movie = MP4.moov(tracks, duration, timescale), result;\r\n        result = new Uint8Array(MP4.FTYP.byteLength + movie.byteLength);\r\n        result.set(MP4.FTYP);\r\n        result.set(movie, MP4.FTYP.byteLength);\r\n        return result;\r\n    }\r\n}\r\n\r\n//import {MP4Inspect} from '../iso-bmff/mp4-inspector.js';\r\n\r\nconst LOG_TAG = \"mse\";\r\nconst Log$1 = getTagged(LOG_TAG);\r\n\r\nclass MSEBuffer {\r\n    constructor(parent, codec) {\r\n        this.mediaSource = parent.mediaSource;\r\n        this.players = parent.players;\r\n        this.cleaning = false;\r\n        this.parent = parent;\r\n        this.queue = [];\r\n        this.cleanResolvers = [];\r\n        this.codec = codec;\r\n        this.cleanRanges = [];\r\n\r\n        Log$1.debug(`Use codec: ${codec}`);\r\n\r\n        this.sourceBuffer = this.mediaSource.addSourceBuffer(codec);\r\n        this.eventSource = new EventEmitter(this.sourceBuffer);\r\n\r\n        this.eventSource.addEventListener('updatestart', (e)=> {\r\n            // this.updating = true;\r\n            // Log.debug('update start');\r\n            if (this.cleaning) {\r\n                Log$1.debug(`${this.codec} cleaning start`);\r\n            }\r\n        });\r\n\r\n        this.eventSource.addEventListener('update', (e)=> {\r\n            // this.updating = true;\r\n            if (this.cleaning) {\r\n                Log$1.debug(`${this.codec} cleaning update`);\r\n            }\r\n        });\r\n\r\n        this.eventSource.addEventListener('updateend', (e)=> {\r\n            // Log.debug('update end');\r\n            // this.updating = false;\r\n            if (this.cleaning) {\r\n                Log$1.debug(`${this.codec} cleaning end`);\r\n\r\n                try {\r\n                    if (this.sourceBuffer.buffered.length && this.players[0].currentTime < this.sourceBuffer.buffered.start(0)) {\r\n                        this.players[0].currentTime = this.sourceBuffer.buffered.start(0);\r\n                    }\r\n                } catch (e) {\r\n                    // TODO: do something?\r\n                }\r\n                while (this.cleanResolvers.length) {\r\n                    let resolver = this.cleanResolvers.shift();\r\n                    resolver();\r\n                }\r\n                this.cleaning = false;\r\n\r\n                if (this.cleanRanges.length) {\r\n                    this.doCleanup();\r\n                    return;\r\n                }\r\n            } else {\r\n                // Log.debug(`buffered: ${this.sourceBuffer.buffered.end(0)}, current ${this.players[0].currentTime}`);\r\n            }\r\n            this.feedNext();\r\n        });\r\n\r\n        this.eventSource.addEventListener('error', (e)=> {\r\n            Log$1.debug(`Source buffer error: ${this.mediaSource.readyState}`);\r\n            if (this.mediaSource.sourceBuffers.length) {\r\n                this.mediaSource.removeSourceBuffer(this.sourceBuffer);\r\n            }\r\n            this.parent.eventSource.dispatchEvent('error');\r\n        });\r\n\r\n        this.eventSource.addEventListener('abort', (e)=> {\r\n            Log$1.debug(`Source buffer aborted: ${this.mediaSource.readyState}`);\r\n            if (this.mediaSource.sourceBuffers.length) {\r\n                this.mediaSource.removeSourceBuffer(this.sourceBuffer);\r\n            }\r\n            this.parent.eventSource.dispatchEvent('error');\r\n        });\r\n\r\n        if (!this.sourceBuffer.updating) {\r\n            this.feedNext();\r\n        }\r\n        // TODO: cleanup every hour for live streams\r\n    }\r\n\r\n    destroy() {\r\n        this.eventSource.destroy();\r\n        this.clear();\r\n        this.queue = [];\r\n        this.mediaSource.removeSourceBuffer(this.sourceBuffer);\r\n    }\r\n\r\n    clear() {\r\n        this.queue = [];\r\n        let promises = [];\r\n        for (let i=0; i< this.sourceBuffer.buffered.length; ++i) {\r\n            // TODO: await remove\r\n            this.cleaning = true;\r\n            promises.push(new Promise((resolve, reject)=>{\r\n                this.cleanResolvers.push(resolve);\r\n                if (!this.sourceBuffer.updating) {\r\n                    this.sourceBuffer.remove(this.sourceBuffer.buffered.start(i), this.sourceBuffer.buffered.end(i));\r\n                    resolve();\r\n                } else {\r\n                    this.sourceBuffer.onupdateend = () => {\r\n                        if (this.sourceBuffer) {\r\n                            this.sourceBuffer.remove(this.sourceBuffer.buffered.start(i), this.sourceBuffer.buffered.end(i));\r\n                        }\r\n                        resolve();\r\n                    };\r\n                }\r\n            }));\r\n        }\r\n        return Promise.all(promises);\r\n    }\r\n\r\n    setLive(is_live) {\r\n        this.is_live = is_live;\r\n    }\r\n\r\n    feedNext() {\r\n        // Log.debug(\"feed next \", this.sourceBuffer.updating);\r\n        if (!this.sourceBuffer.updating && !this.cleaning && this.queue.length) {\r\n            this.doAppend(this.queue.shift());\r\n            // TODO: if is live and current position > 1hr => clean all and restart\r\n        }\r\n    }\r\n\r\n    doCleanup() {\r\n        if (!this.cleanRanges.length) {\r\n            this.cleaning = false;\r\n            this.feedNext();\r\n            return;\r\n        }\r\n        let range = this.cleanRanges.shift();\r\n        Log$1.debug(`${this.codec} remove range [${range[0]} - ${range[1]}). \r\n                    \\nUpdating: ${this.sourceBuffer.updating}\r\n                    `);\r\n        this.cleaning = true;\r\n        this.sourceBuffer.remove(range[0], range[1]);\r\n    }\r\n\r\n    initCleanup() {\r\n        if (this.sourceBuffer.buffered.length && !this.sourceBuffer.updating && !this.cleaning) {\r\n            Log$1.debug(`${this.codec} cleanup`);\r\n            let removeBound = this.sourceBuffer.buffered.end(this.sourceBuffer.buffered.length-1) - 2;\r\n\r\n            for (let i=0; i< this.sourceBuffer.buffered.length; ++i) {\r\n                let removeStart = this.sourceBuffer.buffered.start(i);\r\n                let removeEnd = this.sourceBuffer.buffered.end(i);\r\n                if ((this.players[0].currentTime <= removeStart) || (removeBound <= removeStart)) continue;\r\n\r\n                if ((removeBound <= removeEnd) && (removeBound >= removeStart)) {\r\n                    Log$1.debug(`Clear [${removeStart}, ${removeBound}), leave [${removeBound}, ${removeEnd}]`);\r\n                    removeEnd = removeBound;\r\n                    if (removeEnd!=removeStart) {\r\n                        this.cleanRanges.push([removeStart, removeEnd]);\r\n                    }\r\n                    continue; // Do not cleanup buffered range after current position\r\n                }\r\n                this.cleanRanges.push([removeStart, removeEnd]);\r\n            }\r\n\r\n            this.doCleanup();\r\n\r\n            // let bufferStart = this.sourceBuffer.buffered.start(0);\r\n            // let removeEnd = this.sourceBuffer.buffered.start(0) + (this.sourceBuffer.buffered.end(0) - this.sourceBuffer.buffered.start(0))/2;\r\n            // if (this.players[0].currentTime < removeEnd) {\r\n            //     this.players[0].currentTime = removeEnd;\r\n            // }\r\n            // let removeEnd = Math.max(this.players[0].currentTime - 3, this.sourceBuffer.buffered.end(0) - 3);\r\n            //\r\n            // if (removeEnd < bufferStart) {\r\n            //     removeEnd = this.sourceBuffer.buffered.start(0) + (this.sourceBuffer.buffered.end(0) - this.sourceBuffer.buffered.start(0))/2;\r\n            //     if (this.players[0].currentTime < removeEnd) {\r\n            //         this.players[0].currentTime = removeEnd;\r\n            //     }\r\n            // }\r\n\r\n            // if (removeEnd > bufferStart && (removeEnd - bufferStart > 0.5 )) {\r\n            //     // try {\r\n            //         Log.debug(`${this.codec} remove range [${bufferStart} - ${removeEnd}).\r\n            //         \\nBuffered end: ${this.sourceBuffer.buffered.end(0)}\r\n            //         \\nUpdating: ${this.sourceBuffer.updating}\r\n            //         `);\r\n            //         this.cleaning = true;\r\n            //         this.sourceBuffer.remove(bufferStart, removeEnd);\r\n            //     // } catch (e) {\r\n            //     //     // TODO: implement\r\n            //     //     Log.error(e);\r\n            //     // }\r\n            // } else {\r\n            //     this.feedNext();\r\n            // }\r\n        } else {\r\n            this.feedNext();\r\n        }\r\n    }\r\n\r\n    doAppend(data) {\r\n        // console.log(MP4Inspect.mp4toJSON(data));\r\n        let err = this.players[0].error;\r\n        if (err) {\r\n            Log$1.error(`Error occured: ${MSE.ErrorNotes[err.code]}`);\r\n            try {\r\n                this.players.forEach((video)=>{video.stop();});\r\n                this.mediaSource.endOfStream();\r\n            } catch (e){\r\n\r\n            }\r\n            this.parent.eventSource.dispatchEvent('error');\r\n        } else {\r\n            try {\r\n                this.sourceBuffer.appendBuffer(data);\r\n            } catch (e) {\r\n                if (e.name === 'QuotaExceededError') {\r\n                    Log$1.debug(`${this.codec} quota fail`);\r\n                    this.queue.unshift(data);\r\n                    this.initCleanup();\r\n                    return;\r\n                }\r\n\r\n                // reconnect on fail\r\n                Log$1.error(`Error occured while appending buffer. ${e.name}: ${e.message}`);\r\n                this.parent.eventSource.dispatchEvent('error');\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    feed(data) {\r\n        this.queue = this.queue.concat(data);\r\n        // Log.debug(this.sourceBuffer.updating, this.updating, this.queue.length);\r\n        if (this.sourceBuffer && !this.sourceBuffer.updating && !this.cleaning) {\r\n            // Log.debug('enq feed');\r\n            this.feedNext();\r\n        }\r\n    }\r\n}\r\n\r\nclass MSE {\r\n    // static CODEC_AVC_BASELINE = \"avc1.42E01E\";\r\n    // static CODEC_AVC_MAIN = \"avc1.4D401E\";\r\n    // static CODEC_AVC_HIGH = \"avc1.64001E\";\r\n    // static CODEC_VP8 = \"vp8\";\r\n    // static CODEC_AAC = \"mp4a.40.2\";\r\n    // static CODEC_VORBIS = \"vorbis\";\r\n    // static CODEC_THEORA = \"theora\";\r\n\r\n    static get ErrorNotes() {return  {\r\n        [MediaError.MEDIA_ERR_ABORTED]: 'fetching process aborted by user',\r\n        [MediaError.MEDIA_ERR_NETWORK]: 'error occurred when downloading',\r\n        [MediaError.MEDIA_ERR_DECODE]: 'error occurred when decoding',\r\n        [MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED]: 'audio/video not supported'\r\n    }};\r\n\r\n    static isSupported(codecs) {\r\n        return (window.MediaSource && window.MediaSource.isTypeSupported(`video/mp4; codecs=\"${codecs.join(',')}\"`));\r\n    }\r\n\r\n    constructor (players) {\r\n        this.players = players;\r\n        const playing = this.players.map((video, idx) => {\r\n            video.onplaying = function () {\r\n                playing[idx] = true;\r\n            };\r\n            video.onpause = function () {\r\n                playing[idx] = false;\r\n            };\r\n            return !video.paused;\r\n        });\r\n        this.playing = playing;\r\n        this.mediaSource = new MediaSource();\r\n        this.eventSource = new EventEmitter(this.mediaSource);\r\n        this.reset();\r\n    }\r\n\r\n    destroy() {\r\n        this.reset();\r\n        this.eventSource.destroy();\r\n        this.mediaSource = null;\r\n        this.eventSource = null;\r\n    }\r\n\r\n    play() {\r\n        this.players.forEach((video, idx)=>{\r\n            if (video.paused && !this.playing[idx]) {\r\n                Log$1.debug(`player ${idx}: play`);\r\n                video.play();\r\n            }\r\n        });\r\n    }\r\n\r\n    setLive(is_live) {\r\n        for (let idx in this.buffers) {\r\n            this.buffers[idx].setLive(is_live);\r\n        }\r\n        this.is_live = is_live;\r\n    }\r\n\r\n    resetBuffers() {\r\n        this.players.forEach((video, idx)=>{\r\n            if (!video.paused && this.playing[idx]) {\r\n                video.pause();\r\n                video.currentTime = 0;\r\n            }\r\n        });\r\n\r\n        let promises = [];\r\n        for (let buffer of this.buffers.values()) {\r\n            promises.push(buffer.clear());\r\n        }\r\n        return Promise.all(promises).then(()=>{\r\n            this.mediaSource.endOfStream();\r\n            this.mediaSource.duration = 0;\r\n            this.mediaSource.clearLiveSeekableRange();\r\n            this.play();\r\n        });\r\n    }\r\n\r\n    clear() {\r\n        this.reset();\r\n        this.players.forEach((video)=>{video.src = URL.createObjectURL(this.mediaSource);});\r\n\r\n        return this.setupEvents();\r\n    }\r\n\r\n    setupEvents() {\r\n        this.eventSource.clear();\r\n        this.resolved = false;\r\n        this.mediaReady = new Promise((resolve, reject)=> {\r\n            this._sourceOpen = ()=> {\r\n                Log$1.debug(`Media source opened: ${this.mediaSource.readyState}`);\r\n                if (!this.resolved) {\r\n                    this.resolved = true;\r\n                    resolve();\r\n                }\r\n            };\r\n            this._sourceEnded = ()=>{\r\n                Log$1.debug(`Media source ended: ${this.mediaSource.readyState}`);\r\n            };\r\n            this._sourceClose = ()=>{\r\n                Log$1.debug(`Media source closed: ${this.mediaSource.readyState}`);\r\n                if (this.resolved) {\r\n                    this.eventSource.dispatchEvent('sourceclosed');\r\n                }\r\n            };\r\n            this.eventSource.addEventListener('sourceopen', this._sourceOpen);\r\n            this.eventSource.addEventListener('sourceended', this._sourceEnded);\r\n            this.eventSource.addEventListener('sourceclose', this._sourceClose);\r\n        });\r\n        return this.mediaReady;\r\n    }\r\n\r\n    reset() {\r\n        this.ready = false;\r\n        for (let track in this.buffers) {\r\n            this.buffers[track].destroy();\r\n            delete this.buffers[track];\r\n        }\r\n        if (this.mediaSource.readyState == 'open') {\r\n            this.mediaSource.duration = 0;\r\n            this.mediaSource.endOfStream();\r\n        }\r\n        this.updating = false;\r\n        this.resolved = false;\r\n        this.buffers = {};\r\n        // this.players.forEach((video)=>{video.src = URL.createObjectURL(this.mediaSource)});\r\n        // TODO: remove event listeners for existing media source\r\n        // this.setupEvents();\r\n        // this.clear();\r\n    }\r\n\r\n    setCodec(track, mimeCodec) {\r\n        return this.mediaReady.then(()=>{\r\n            this.buffers[track] = new MSEBuffer(this, mimeCodec);\r\n            this.buffers[track].setLive(this.is_live);\r\n        });\r\n    }\r\n\r\n    feed(track, data) {\r\n        if (this.buffers[track]) {\r\n            this.buffers[track].feed(data);\r\n        }\r\n    }\r\n}\r\n\r\nconst Log$2 = getTagged('remuxer:base');\r\nlet track_id = 1;\r\nclass BaseRemuxer {\r\n\r\n    static get MP4_TIMESCALE() { return 90000;}\r\n\r\n    // TODO: move to ts parser\r\n    // static PTSNormalize(value, reference) {\r\n    //\r\n    //     let offset;\r\n    //     if (reference === undefined) {\r\n    //         return value;\r\n    //     }\r\n    //     if (reference < value) {\r\n    //         // - 2^33\r\n    //         offset = -8589934592;\r\n    //     } else {\r\n    //         // + 2^33\r\n    //         offset = 8589934592;\r\n    //     }\r\n    //     /* PTS is 33bit (from 0 to 2^33 -1)\r\n    //      if diff between value and reference is bigger than half of the amplitude (2^32) then it means that\r\n    //      PTS looping occured. fill the gap */\r\n    //     while (Math.abs(value - reference) > 4294967296) {\r\n    //         value += offset;\r\n    //     }\r\n    //     return value;\r\n    // }\r\n\r\n    static getTrackID() {\r\n        return track_id++;\r\n    }\r\n\r\n    constructor(timescale, scaleFactor, params) {\r\n        this.timeOffset = 0;\r\n        this.timescale = timescale;\r\n        this.scaleFactor = scaleFactor;\r\n        this.readyToDecode = false;\r\n        this.samples = [];\r\n        this.seq = 1;\r\n        this.tsAlign = 1;\r\n    }\r\n\r\n    scaled(timestamp) {\r\n        return timestamp / this.scaleFactor;\r\n    }\r\n\r\n    unscaled(timestamp) {\r\n        return timestamp * this.scaleFactor;\r\n    }\r\n\r\n    remux(unit) {\r\n        if (unit) {\r\n            this.samples.push({\r\n                unit: unit,\r\n                pts: unit.pts,\r\n                dts: unit.dts\r\n            });\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    static toMS(timestamp) {\r\n        return timestamp/90;\r\n    }\r\n    \r\n    setConfig(config) {\r\n        \r\n    }\r\n\r\n    insertDscontinuity() {\r\n        this.samples.push(null);\r\n    }\r\n\r\n    init(initPTS, initDTS, shouldInitialize=true) {\r\n        this.initPTS = Math.min(initPTS, this.samples[0].dts /*- this.unscaled(this.timeOffset)*/);\r\n        this.initDTS = Math.min(initDTS, this.samples[0].dts /*- this.unscaled(this.timeOffset)*/);\r\n        Log$2.debug(`Initial pts=${this.initPTS} dts=${this.initDTS} offset=${this.unscaled(this.timeOffset)}`);\r\n        this.initialized = shouldInitialize;\r\n    }\r\n\r\n    flush() {\r\n        this.seq++;\r\n        this.mp4track.len = 0;\r\n        this.mp4track.samples = [];\r\n    }\r\n\r\n    static dtsSortFunc(a,b) {\r\n        return (a.dts-b.dts);\r\n    }\r\n\r\n    getPayloadBase(sampleFunction, setupSample) {\r\n        if (!this.readyToDecode || !this.initialized || !this.samples.length) return null;\r\n        this.samples.sort(BaseRemuxer.dtsSortFunc);\r\n        return true;\r\n        //\r\n        // let payload = new Uint8Array(this.mp4track.len);\r\n        // let offset = 0;\r\n        // let samples=this.mp4track.samples;\r\n        // let mp4Sample, lastDTS, pts, dts;\r\n        //\r\n        // while (this.samples.length) {\r\n        //     let sample = this.samples.shift();\r\n        //     if (sample === null) {\r\n        //         // discontinuity\r\n        //         this.nextDts = undefined;\r\n        //         break;\r\n        //     }\r\n        //\r\n        //     let unit = sample.unit;\r\n        //\r\n        //     pts = Math.round((sample.pts - this.initDTS)/this.tsAlign)*this.tsAlign;\r\n        //     dts = Math.round((sample.dts - this.initDTS)/this.tsAlign)*this.tsAlign;\r\n        //     // ensure DTS is not bigger than PTS\r\n        //     dts = Math.min(pts, dts);\r\n        //\r\n        //     // sampleFunction(pts, dts);   // TODO:\r\n        //\r\n        //     // mp4Sample = setupSample(unit, pts, dts);    // TODO:\r\n        //\r\n        //     payload.set(unit.getData(), offset);\r\n        //     offset += unit.getSize();\r\n        //\r\n        //     samples.push(mp4Sample);\r\n        //     lastDTS = dts;\r\n        // }\r\n        // if (!samples.length) return null;\r\n        //\r\n        // // samplesPostFunction(samples); // TODO:\r\n        //\r\n        // return new Uint8Array(payload.buffer, 0, this.mp4track.len);\r\n    }\r\n}\r\n\r\nconst Log$3 = getTagged(\"remuxer:aac\");\r\n// TODO: asm.js\r\nclass AACRemuxer extends BaseRemuxer {\r\n\r\n    constructor(timescale, scaleFactor = 1, params={}) {\r\n        super(timescale, scaleFactor);\r\n\r\n        this.codecstring=MSE.CODEC_AAC;\r\n        this.units = [];\r\n        this.initDTS = undefined;\r\n        this.nextAacPts = undefined;\r\n        this.lastPts = 0;\r\n        this.firstDTS = 0;\r\n        this.firstPTS = 0;\r\n        this.duration = params.duration || 1;\r\n        this.initialized = false;\r\n\r\n        this.mp4track={\r\n            id:BaseRemuxer.getTrackID(),\r\n            type: 'audio',\r\n            fragmented:true,\r\n            channelCount:0,\r\n            audiosamplerate: this.timescale,\r\n            duration: 0,\r\n            timescale: this.timescale,\r\n            volume: 1,\r\n            samples: [],\r\n            config: '',\r\n            len: 0\r\n        };\r\n        if (params.config) {\r\n            this.setConfig(params.config);\r\n        }\r\n    }\r\n\r\n    setConfig(config) {\r\n        this.mp4track.channelCount = config.channels;\r\n        this.mp4track.audiosamplerate = config.samplerate;\r\n        if (!this.mp4track.duration) {\r\n            this.mp4track.duration = (this.duration?this.duration:1)*config.samplerate;\r\n        }\r\n        this.mp4track.timescale = config.samplerate;\r\n        this.mp4track.config = config.config;\r\n        this.mp4track.codec = config.codec;\r\n        this.timescale = config.samplerate;\r\n        this.scaleFactor = BaseRemuxer.MP4_TIMESCALE / config.samplerate;\r\n        this.expectedSampleDuration = 1024 * this.scaleFactor;\r\n        this.readyToDecode = true;\r\n    }\r\n\r\n    remux(aac) {\r\n        if (super.remux.call(this, aac)) {\r\n            this.mp4track.len += aac.getSize();\r\n        }\r\n    }\r\n    \r\n    getPayload() {\r\n        if (!this.readyToDecode || !this.samples.length) return null;\r\n        this.samples.sort(function(a, b) {\r\n            return (a.dts-b.dts);\r\n        });\r\n\r\n        let payload = new Uint8Array(this.mp4track.len);\r\n        let offset = 0;\r\n        let samples=this.mp4track.samples;\r\n        let mp4Sample, lastDTS, pts, dts;\r\n\r\n        while (this.samples.length) {\r\n            let sample = this.samples.shift();\r\n            if (sample === null) {\r\n                // discontinuity\r\n                this.nextDts = undefined;\r\n                break;\r\n            }\r\n            let unit = sample.unit;\r\n            pts = sample.pts - this.initDTS;\r\n            dts = sample.dts - this.initDTS;\r\n\r\n            if (lastDTS === undefined) {\r\n                if (this.nextDts) {\r\n                    let delta = Math.round(this.scaled(pts - this.nextAacPts));\r\n                    // if fragment are contiguous, or delta less than 600ms, ensure there is no overlap/hole between fragments\r\n                    if (/*contiguous || */Math.abs(delta) < 600) {\r\n                        // log delta\r\n                        if (delta) {\r\n                            if (delta > 0) {\r\n                                Log$3.log(`${delta} ms hole between AAC samples detected,filling it`);\r\n                                // if we have frame overlap, overlapping for more than half a frame duraion\r\n                            } else if (delta < -12) {\r\n                                // drop overlapping audio frames... browser will deal with it\r\n                                Log$3.log(`${(-delta)} ms overlapping between AAC samples detected, drop frame`);\r\n                                this.mp4track.len -= unit.getSize();\r\n                                continue;\r\n                            }\r\n                            // set DTS to next DTS\r\n                            pts = dts = this.nextAacPts;\r\n                        }\r\n                    }\r\n                }\r\n                // remember first PTS of our aacSamples, ensure value is positive\r\n                this.firstDTS = Math.max(0, dts);\r\n            }\r\n\r\n            mp4Sample = {\r\n                size: unit.getSize(),\r\n                cts: 0,\r\n                duration:1024,\r\n                flags: {\r\n                    isLeading: 0,\r\n                    isDependedOn: 0,\r\n                    hasRedundancy: 0,\r\n                    degradPrio: 0,\r\n                    dependsOn: 1\r\n                }\r\n            };\r\n\r\n            payload.set(unit.getData(), offset);\r\n            offset += unit.getSize();\r\n            samples.push(mp4Sample);\r\n            lastDTS = dts;\r\n        }\r\n        if (!samples.length) return null;\r\n        this.nextDts =pts+this.expectedSampleDuration;\r\n        return new Uint8Array(payload.buffer, 0, this.mp4track.len);\r\n    }\r\n}\r\n//test.bundle.js:42 [remuxer:h264] skip frame from the past at DTS=18397972271140676 with expected DTS=18397998040950484\r\n\r\n/**\r\n * Parser for exponential Golomb codes, a variable-bitwidth number encoding scheme used by h264.\r\n*/\r\n// TODO: asm.js\r\nclass ExpGolomb {\r\n\r\n  constructor(data) {\r\n    this.data = data;\r\n    // the number of bytes left to examine in this.data\r\n    this.bytesAvailable = this.data.byteLength;\r\n    // the current word being examined\r\n    this.word = 0; // :uint\r\n    // the number of bits left to examine in the current word\r\n    this.bitsAvailable = 0; // :uint\r\n  }\r\n\r\n  // ():void\r\n  loadWord() {\r\n    var\r\n      position = this.data.byteLength - this.bytesAvailable,\r\n      workingBytes = new Uint8Array(4),\r\n      availableBytes = Math.min(4, this.bytesAvailable);\r\n    if (availableBytes === 0) {\r\n      throw new Error('no bytes available');\r\n    }\r\n    workingBytes.set(this.data.subarray(position, position + availableBytes));\r\n    this.word = new DataView(workingBytes.buffer, workingBytes.byteOffset, workingBytes.byteLength).getUint32(0);\r\n    // track the amount of this.data that has been processed\r\n    this.bitsAvailable = availableBytes * 8;\r\n    this.bytesAvailable -= availableBytes;\r\n  }\r\n\r\n  // (count:int):void\r\n  skipBits(count) {\r\n    var skipBytes; // :int\r\n    if (this.bitsAvailable > count) {\r\n      this.word <<= count;\r\n      this.bitsAvailable -= count;\r\n    } else {\r\n      count -= this.bitsAvailable;\r\n      skipBytes = count >> 3;\r\n      count -= (skipBytes << 3);\r\n      this.bytesAvailable -= skipBytes;\r\n      this.loadWord();\r\n      this.word <<= count;\r\n      this.bitsAvailable -= count;\r\n    }\r\n  }\r\n\r\n  // (size:int):uint\r\n  readBits(size) {\r\n    var\r\n      bits = Math.min(this.bitsAvailable, size), // :uint\r\n      valu = this.word >>> (32 - bits); // :uint\r\n    if (size > 32) {\r\n      Log.error('Cannot read more than 32 bits at a time');\r\n    }\r\n    this.bitsAvailable -= bits;\r\n    if (this.bitsAvailable > 0) {\r\n      this.word <<= bits;\r\n    } else if (this.bytesAvailable > 0) {\r\n      this.loadWord();\r\n    }\r\n    bits = size - bits;\r\n    if (bits > 0) {\r\n      return valu << bits | this.readBits(bits);\r\n    } else {\r\n      return valu;\r\n    }\r\n  }\r\n\r\n  // ():uint\r\n  skipLZ() {\r\n    var leadingZeroCount; // :uint\r\n    for (leadingZeroCount = 0; leadingZeroCount < this.bitsAvailable; ++leadingZeroCount) {\r\n      if (0 !== (this.word & (0x80000000 >>> leadingZeroCount))) {\r\n        // the first bit of working word is 1\r\n        this.word <<= leadingZeroCount;\r\n        this.bitsAvailable -= leadingZeroCount;\r\n        return leadingZeroCount;\r\n      }\r\n    }\r\n    // we exhausted word and still have not found a 1\r\n    this.loadWord();\r\n    return leadingZeroCount + this.skipLZ();\r\n  }\r\n\r\n  // ():void\r\n  skipUEG() {\r\n    this.skipBits(1 + this.skipLZ());\r\n  }\r\n\r\n  // ():void\r\n  skipEG() {\r\n    this.skipBits(1 + this.skipLZ());\r\n  }\r\n\r\n  // ():uint\r\n  readUEG() {\r\n    var clz = this.skipLZ(); // :uint\r\n    return this.readBits(clz + 1) - 1;\r\n  }\r\n\r\n  // ():int\r\n  readEG() {\r\n    var valu = this.readUEG(); // :int\r\n    if (0x01 & valu) {\r\n      // the number is odd if the low order bit is set\r\n      return (1 + valu) >>> 1; // add 1 to make it even, and divide by 2\r\n    } else {\r\n      return -1 * (valu >>> 1); // divide by two then make it negative\r\n    }\r\n  }\r\n\r\n  // Some convenience functions\r\n  // :Boolean\r\n  readBoolean() {\r\n    return 1 === this.readBits(1);\r\n  }\r\n\r\n  // ():int\r\n  readUByte() {\r\n    return this.readBits(8);\r\n  }\r\n\r\n  // ():int\r\n  readUShort() {\r\n    return this.readBits(16);\r\n  }\r\n    // ():int\r\n  readUInt() {\r\n    return this.readBits(32);\r\n  }  \r\n}\r\n\r\n// TODO: asm.js\r\n\r\nfunction appendByteArray(buffer1, buffer2) {\r\n    let tmp = new Uint8Array((buffer1.byteLength|0) + (buffer2.byteLength|0));\r\n    tmp.set(buffer1, 0);\r\n    tmp.set(buffer2, buffer1.byteLength|0);\r\n    return tmp;\r\n}\r\n\r\n\r\nfunction base64ToArrayBuffer(base64) {\r\n    var binary_string =  window.atob(base64);\r\n    var len = binary_string.length;\r\n    var bytes = new Uint8Array( len );\r\n    for (var i = 0; i < len; i++)        {\r\n        bytes[i] = binary_string.charCodeAt(i);\r\n    }\r\n    return bytes.buffer;\r\n}\r\n\r\nfunction hexToByteArray(hex) {\r\n    let len = hex.length >> 1;\r\n    var bufView = new Uint8Array(len);\r\n    for (var i = 0; i < len; i++) {\r\n        bufView[i] = parseInt(hex.substr(i<<1,2),16);\r\n    }\r\n    return bufView;\r\n}\r\n\r\n\r\n\r\nfunction bitSlice(bytearray, start=0, end=bytearray.byteLength*8) {\r\n    let byteLen = Math.ceil((end-start)/8);\r\n    let res = new Uint8Array(byteLen);\r\n    let startByte = start >>> 3;   // /8\r\n    let endByte = (end>>>3) - 1;    // /8\r\n    let bitOffset = start & 0x7;     // %8\r\n    let nBitOffset = 8 - bitOffset;\r\n    let endOffset = 8 - end & 0x7;   // %8\r\n    for (let i=0; i<byteLen; ++i) {\r\n        let tail = 0;\r\n        if (i<endByte) {\r\n            tail = bytearray[startByte+i+1] >> nBitOffset;\r\n            if (i == endByte-1 && endOffset < 8) {\r\n                tail >>= endOffset;\r\n                tail <<= endOffset;\r\n            }\r\n        }\r\n        res[i]=(bytearray[startByte+i]<<bitOffset) | tail;\r\n    }\r\n    return res;\r\n}\r\n\r\nclass BitArray {\r\n\r\n    constructor(src) {\r\n        this.src    = new DataView(src.buffer, src.byteOffset, src.byteLength);\r\n        this.bitpos = 0;\r\n        this.byte   = this.src.getUint8(0); /* This should really be undefined, uint wont allow it though */\r\n        this.bytepos = 0;\r\n    }\r\n\r\n    readBits(length) {\r\n        if (32 < (length|0) || 0 === (length|0)) {\r\n            /* To big for an uint */\r\n            throw new Error(\"too big\");\r\n        }\r\n\r\n        let result = 0;\r\n        for (let i = length; i > 0; --i) {\r\n\r\n            /* Shift result one left to make room for another bit,\r\n             then add the next bit on the stream. */\r\n            result = ((result|0) << 1) | (((this.byte|0) >> (8 - (++this.bitpos))) & 0x01);\r\n            if ((this.bitpos|0)>=8) {\r\n                this.byte = this.src.getUint8(++this.bytepos);\r\n                this.bitpos &= 0x7;\r\n            }\r\n        }\r\n\r\n        return result;\r\n    }\r\n    skipBits(length) {\r\n        this.bitpos += (length|0) & 0x7; // %8\r\n        this.bytepos += (length|0) >>> 3;  // *8\r\n        if (this.bitpos > 7) {\r\n            this.bitpos &= 0x7;\r\n            ++this.bytepos;\r\n        }\r\n\r\n        if (!this.finished()) {\r\n            this.byte = this.src.getUint8(this.bytepos);\r\n            return 0;\r\n        } else {\r\n            return this.bytepos-this.src.byteLength-this.src.bitpos;\r\n        }\r\n    }\r\n    \r\n    finished() {\r\n        return this.bytepos >= this.src.byteLength;\r\n    }\r\n}\r\n\r\nclass NALU {\r\n\r\n    static get NDR() {return 1;}\r\n    static get SLICE_PART_A() {return 2;}\r\n    static get SLICE_PART_B() {return 3;}\r\n    static get SLICE_PART_C() {return 4;}\r\n    static get IDR() {return 5;}\r\n    static get SEI() {return 6;}\r\n    static get SPS() {return 7;}\r\n    static get PPS() {return 8;}\r\n    static get DELIMITER() {return 9;}\r\n    static get EOSEQ() {return 10;}\r\n    static get EOSTR() {return 11;}\r\n    static get FILTER() {return 12;}\r\n    static get STAP_A() {return 24;}\r\n    static get STAP_B() {return 25;}\r\n    static get FU_A() {return 28;}\r\n    static get FU_B() {return 29;}\r\n\r\n    static get TYPES() {return {\r\n        [NALU.IDR]: 'IDR',\r\n        [NALU.SEI]: 'SEI',\r\n        [NALU.SPS]: 'SPS',\r\n        [NALU.PPS]: 'PPS',\r\n        [NALU.NDR]: 'NDR'\r\n    }};\r\n\r\n    static type(nalu) {\r\n        if (nalu.ntype in NALU.TYPES) {\r\n            return NALU.TYPES[nalu.ntype];\r\n        } else {\r\n            return 'UNKNOWN';\r\n        }\r\n    }\r\n\r\n    constructor(ntype, nri, data, dts, pts) {\r\n\r\n        this.data = data;\r\n        this.ntype = ntype;\r\n        this.nri = nri;\r\n        this.dts = dts;\r\n        this.pts = pts ? pts : this.dts;\r\n        this.sliceType = null;\r\n    }\r\n\r\n    appendData(idata) {\r\n        this.data = appendByteArray(this.data, idata);\r\n    }\r\n\r\n    toString() {\r\n        return `${NALU.type(this)}(${this.data.byteLength}): NRI: ${this.getNri()}, PTS: ${this.pts}, DTS: ${this.dts}`;\r\n    }\r\n\r\n    getNri() {\r\n        return this.nri >> 5;\r\n    }\r\n\r\n    type() {\r\n        return this.ntype;\r\n    }\r\n\r\n    isKeyframe() {\r\n        return this.ntype === NALU.IDR || this.sliceType === 7;\r\n    }\r\n\r\n    getSize() {\r\n        return 4 + 1 + this.data.byteLength;\r\n    }\r\n\r\n    getData() {\r\n        let header = new Uint8Array(5 + this.data.byteLength);\r\n        let view = new DataView(header.buffer);\r\n        view.setUint32(0, this.data.byteLength + 1);\r\n        view.setUint8(4, (0x0 & 0x80) | (this.nri & 0x60) | (this.ntype & 0x1F));\r\n        header.set(this.data, 5);\r\n        return header;\r\n    }\r\n}\r\n\r\nclass H264Parser {\r\n\r\n    constructor(remuxer) {\r\n        this.remuxer = remuxer;\r\n        this.track = remuxer.mp4track;\r\n        this.firstFound = false;\r\n    }\r\n\r\n    msToScaled(timestamp) {\r\n        return (timestamp - this.remuxer.timeOffset) * this.remuxer.scaleFactor;\r\n    }\r\n\r\n    parseSPS(sps) {\r\n        var config = H264Parser.readSPS(new Uint8Array(sps));\r\n\r\n        this.track.width = config.width;\r\n        this.track.height = config.height;\r\n        this.track.sps = [new Uint8Array(sps)];\r\n        // this.track.timescale = this.remuxer.timescale;\r\n        // this.track.duration = this.remuxer.timescale; // TODO: extract duration for non-live client\r\n        this.track.codec = 'avc1.';\r\n\r\n        let codecarray = new DataView(sps.buffer, sps.byteOffset+1, 4);\r\n        for (let i = 0; i < 3; ++i) {\r\n            var h = codecarray.getUint8(i).toString(16);\r\n            if (h.length < 2) {\r\n                h = '0' + h;\r\n            }\r\n            this.track.codec  += h;\r\n        }\r\n    }\r\n\r\n    parsePPS(pps) {\r\n        this.track.pps = [new Uint8Array(pps)];\r\n    }\r\n\r\n    parseNAL(unit) {\r\n        if (!unit) return false;\r\n        \r\n        let push = null;\r\n        // console.log(unit.toString());\r\n        switch (unit.type()) {\r\n            case NALU.NDR:\r\n            case NALU.IDR:\r\n                unit.sliceType = H264Parser.parceSliceHeader(unit.data);\r\n                if (unit.isKeyframe() && !this.firstFound)  {\r\n                    this.firstFound = true;\r\n                }\r\n                if (this.firstFound) {\r\n                    push = true;\r\n                } else {\r\n                    push = false;\r\n                }\r\n                break;\r\n            case NALU.PPS:\r\n                push = false;\r\n                if (!this.track.pps) {\r\n                    this.parsePPS(unit.getData().subarray(4));\r\n                    if (!this.remuxer.readyToDecode && this.track.pps && this.track.sps) {\r\n                        this.remuxer.readyToDecode = true;\r\n                    }\r\n                }\r\n                break;\r\n            case NALU.SPS:\r\n                push = false;\r\n                if(!this.track.sps) {\r\n                    this.parseSPS(unit.getData().subarray(4));\r\n                    if (!this.remuxer.readyToDecode && this.track.pps && this.track.sps) {\r\n                        this.remuxer.readyToDecode = true;\r\n                    }\r\n                }\r\n                break;\r\n            case NALU.SEI:\r\n                push = false;\r\n                let data = new DataView(unit.data.buffer, unit.data.byteOffset, unit.data.byteLength);\r\n                let byte_idx = 0;\r\n                let pay_type = data.getUint8(byte_idx);\r\n                ++byte_idx;\r\n                let pay_size = 0;\r\n                let sz = data.getUint8(byte_idx);\r\n                ++byte_idx;\r\n                while (sz === 255) {\r\n                    pay_size+=sz;\r\n                    sz = data.getUint8(byte_idx);\r\n                    ++byte_idx;\r\n                }\r\n                pay_size+=sz;\r\n\r\n                let uuid = unit.data.subarray(byte_idx, byte_idx+16);\r\n                byte_idx+=16;\r\n                console.log(`PT: ${pay_type}, PS: ${pay_size}, UUID: ${Array.from(uuid).map(function(i) {\r\n                    return ('0' + i.toString(16)).slice(-2);\r\n                }).join('')}`);\r\n                // debugger;\r\n                break;\r\n            case NALU.EOSEQ:\r\n            case NALU.EOSTR:\r\n                push = false;\r\n            default:\r\n        }\r\n        if (push === null && unit.getNri() > 0 ) {\r\n            push=true;\r\n        }\r\n        return push;\r\n    }\r\n\r\n    static parceSliceHeader(data) {\r\n        let decoder = new ExpGolomb(data);\r\n        let first_mb = decoder.readUEG();\r\n        let slice_type = decoder.readUEG();\r\n        let ppsid = decoder.readUEG();\r\n        let frame_num = decoder.readUByte();\r\n        // console.log(`first_mb: ${first_mb}, slice_type: ${slice_type}, ppsid: ${ppsid}, frame_num: ${frame_num}`);\r\n        return slice_type;\r\n    }\r\n\r\n    /**\r\n     * Advance the ExpGolomb decoder past a scaling list. The scaling\r\n     * list is optionally transmitted as part of a sequence parameter\r\n     * set and is not relevant to transmuxing.\r\n     * @param decoder {ExpGolomb} exp golomb decoder\r\n     * @param count {number} the number of entries in this scaling list\r\n     * @see Recommendation ITU-T H.264, Section 7.3.2.1.1.1\r\n     */\r\n    static skipScalingList(decoder, count) {\r\n        let lastScale = 8,\r\n            nextScale = 8,\r\n            deltaScale;\r\n        for (let j = 0; j < count; j++) {\r\n            if (nextScale !== 0) {\r\n                deltaScale = decoder.readEG();\r\n                nextScale = (lastScale + deltaScale + 256) % 256;\r\n            }\r\n            lastScale = (nextScale === 0) ? lastScale : nextScale;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Read a sequence parameter set and return some interesting video\r\n     * properties. A sequence parameter set is the H264 metadata that\r\n     * describes the properties of upcoming video frames.\r\n     * @param data {Uint8Array} the bytes of a sequence parameter set\r\n     * @return {object} an object with configuration parsed from the\r\n     * sequence parameter set, including the dimensions of the\r\n     * associated video frames.\r\n     */\r\n    static readSPS(data) {\r\n        let decoder = new ExpGolomb(data);\r\n        let frameCropLeftOffset = 0,\r\n            frameCropRightOffset = 0,\r\n            frameCropTopOffset = 0,\r\n            frameCropBottomOffset = 0,\r\n            sarScale = 1,\r\n            profileIdc,profileCompat,levelIdc,\r\n            numRefFramesInPicOrderCntCycle, picWidthInMbsMinus1,\r\n            picHeightInMapUnitsMinus1,\r\n            frameMbsOnlyFlag,\r\n            scalingListCount;\r\n        decoder.readUByte();\r\n        profileIdc = decoder.readUByte(); // profile_idc\r\n        profileCompat = decoder.readBits(5); // constraint_set[0-4]_flag, u(5)\r\n        decoder.skipBits(3); // reserved_zero_3bits u(3),\r\n        levelIdc = decoder.readUByte(); //level_idc u(8)\r\n        decoder.skipUEG(); // seq_parameter_set_id\r\n        // some profiles have more optional data we don't need\r\n        if (profileIdc === 100 ||\r\n            profileIdc === 110 ||\r\n            profileIdc === 122 ||\r\n            profileIdc === 244 ||\r\n            profileIdc === 44  ||\r\n            profileIdc === 83  ||\r\n            profileIdc === 86  ||\r\n            profileIdc === 118 ||\r\n            profileIdc === 128) {\r\n            var chromaFormatIdc = decoder.readUEG();\r\n            if (chromaFormatIdc === 3) {\r\n                decoder.skipBits(1); // separate_colour_plane_flag\r\n            }\r\n            decoder.skipUEG(); // bit_depth_luma_minus8\r\n            decoder.skipUEG(); // bit_depth_chroma_minus8\r\n            decoder.skipBits(1); // qpprime_y_zero_transform_bypass_flag\r\n            if (decoder.readBoolean()) { // seq_scaling_matrix_present_flag\r\n                scalingListCount = (chromaFormatIdc !== 3) ? 8 : 12;\r\n                for (let i = 0; i < scalingListCount; ++i) {\r\n                    if (decoder.readBoolean()) { // seq_scaling_list_present_flag[ i ]\r\n                        if (i < 6) {\r\n                            H264Parser.skipScalingList(decoder, 16);\r\n                        } else {\r\n                            H264Parser.skipScalingList(decoder, 64);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        decoder.skipUEG(); // log2_max_frame_num_minus4\r\n        var picOrderCntType = decoder.readUEG();\r\n        if (picOrderCntType === 0) {\r\n            decoder.readUEG(); //log2_max_pic_order_cnt_lsb_minus4\r\n        } else if (picOrderCntType === 1) {\r\n            decoder.skipBits(1); // delta_pic_order_always_zero_flag\r\n            decoder.skipEG(); // offset_for_non_ref_pic\r\n            decoder.skipEG(); // offset_for_top_to_bottom_field\r\n            numRefFramesInPicOrderCntCycle = decoder.readUEG();\r\n            for(let i = 0; i < numRefFramesInPicOrderCntCycle; ++i) {\r\n                decoder.skipEG(); // offset_for_ref_frame[ i ]\r\n            }\r\n        }\r\n        decoder.skipUEG(); // max_num_ref_frames\r\n        decoder.skipBits(1); // gaps_in_frame_num_value_allowed_flag\r\n        picWidthInMbsMinus1 = decoder.readUEG();\r\n        picHeightInMapUnitsMinus1 = decoder.readUEG();\r\n        frameMbsOnlyFlag = decoder.readBits(1);\r\n        if (frameMbsOnlyFlag === 0) {\r\n            decoder.skipBits(1); // mb_adaptive_frame_field_flag\r\n        }\r\n        decoder.skipBits(1); // direct_8x8_inference_flag\r\n        if (decoder.readBoolean()) { // frame_cropping_flag\r\n            frameCropLeftOffset = decoder.readUEG();\r\n            frameCropRightOffset = decoder.readUEG();\r\n            frameCropTopOffset = decoder.readUEG();\r\n            frameCropBottomOffset = decoder.readUEG();\r\n        }\r\n        if (decoder.readBoolean()) {\r\n            // vui_parameters_present_flag\r\n            if (decoder.readBoolean()) {\r\n                // aspect_ratio_info_present_flag\r\n                let sarRatio;\r\n                const aspectRatioIdc = decoder.readUByte();\r\n                switch (aspectRatioIdc) {\r\n                    case 1: sarRatio = [1,1]; break;\r\n                    case 2: sarRatio = [12,11]; break;\r\n                    case 3: sarRatio = [10,11]; break;\r\n                    case 4: sarRatio = [16,11]; break;\r\n                    case 5: sarRatio = [40,33]; break;\r\n                    case 6: sarRatio = [24,11]; break;\r\n                    case 7: sarRatio = [20,11]; break;\r\n                    case 8: sarRatio = [32,11]; break;\r\n                    case 9: sarRatio = [80,33]; break;\r\n                    case 10: sarRatio = [18,11]; break;\r\n                    case 11: sarRatio = [15,11]; break;\r\n                    case 12: sarRatio = [64,33]; break;\r\n                    case 13: sarRatio = [160,99]; break;\r\n                    case 14: sarRatio = [4,3]; break;\r\n                    case 15: sarRatio = [3,2]; break;\r\n                    case 16: sarRatio = [2,1]; break;\r\n                    case 255: {\r\n                        sarRatio = [decoder.readUByte() << 8 | decoder.readUByte(), decoder.readUByte() << 8 | decoder.readUByte()];\r\n                        break;\r\n                    }\r\n                }\r\n                if (sarRatio) {\r\n                    sarScale = sarRatio[0] / sarRatio[1];\r\n                }\r\n            }\r\n            if (decoder.readBoolean()) {decoder.skipBits(1);}\r\n\r\n            if (decoder.readBoolean()) {\r\n                decoder.skipBits(4);\r\n                if (decoder.readBoolean()) {\r\n                    decoder.skipBits(24);\r\n                }\r\n            }\r\n            if (decoder.readBoolean()) {\r\n                decoder.skipUEG();\r\n                decoder.skipUEG();\r\n            }\r\n            if (decoder.readBoolean()) {\r\n                let unitsInTick = decoder.readUInt();\r\n                let timeScale = decoder.readUInt();\r\n                let fixedFrameRate = decoder.readBoolean();\r\n                let frameDuration = timeScale/(2*unitsInTick);\r\n                console.log(`timescale: ${timeScale}; unitsInTick: ${unitsInTick}; fixedFramerate: ${fixedFrameRate}; avgFrameDuration: ${frameDuration}`);\r\n            }\r\n        }\r\n        return {\r\n            width: Math.ceil((((picWidthInMbsMinus1 + 1) * 16) - frameCropLeftOffset * 2 - frameCropRightOffset * 2) * sarScale),\r\n            height: ((2 - frameMbsOnlyFlag) * (picHeightInMapUnitsMinus1 + 1) * 16) - ((frameMbsOnlyFlag? 2 : 4) * (frameCropTopOffset + frameCropBottomOffset))\r\n        };\r\n    }\r\n\r\n    static readSliceType(decoder) {\r\n        // skip NALu type\r\n        decoder.readUByte();\r\n        // discard first_mb_in_slice\r\n        decoder.readUEG();\r\n        // return slice_type\r\n        return decoder.readUEG();\r\n    }\r\n}\r\n\r\nconst Log$4 = getTagged(\"remuxer:h264\"); \r\n// TODO: asm.js\r\nclass H264Remuxer extends BaseRemuxer {\r\n\r\n    constructor(timescale, scaleFactor=1, params={}) {\r\n        super(timescale, scaleFactor);\r\n\r\n        this.nextDts = undefined;\r\n        this.readyToDecode = false;\r\n        this.initialized = false;\r\n\r\n        this.firstDTS=0;\r\n        this.firstPTS=0;\r\n        this.lastDTS=undefined;\r\n        this.lastSampleDuration = 0;\r\n        this.lastDurations = [];\r\n        // this.timescale = 90000;\r\n        this.tsAlign = Math.round(this.timescale/60);\r\n\r\n        this.mp4track={\r\n            id:BaseRemuxer.getTrackID(),\r\n            type: 'video',\r\n            len:0,\r\n            fragmented:true,\r\n            sps:'',\r\n            pps:'',\r\n            width:0,\r\n            height:0,\r\n            timescale: timescale,\r\n            duration: timescale,\r\n            samples: []\r\n        };\r\n        this.samples = [];\r\n        this.lastGopDTS = -99999999999999;\r\n        this.gop=[];\r\n        this.firstUnit = true;\r\n\r\n        this.h264 = new H264Parser(this);\r\n\r\n        if (params.sps) {\r\n            let arr = new Uint8Array(params.sps);\r\n            if ((arr[0] & 0x1f) === 7) {\r\n                this.setSPS(arr);\r\n            } else {\r\n                Log$4.warn(\"bad SPS in SDP\");\r\n            }\r\n        }\r\n        if (params.pps) {\r\n            let arr = new Uint8Array(params.pps);\r\n            if ((arr[0] & 0x1f) === 8) {\r\n                this.setPPS(arr);\r\n            } else {\r\n                Log$4.warn(\"bad PPS in SDP\");\r\n            }\r\n        }\r\n\r\n        if (this.mp4track.pps && this.mp4track.sps) {\r\n            this.readyToDecode = true;\r\n        }\r\n    }\r\n\r\n    _scaled(timestamp) {\r\n        return timestamp >>> this.scaleFactor;\r\n    }\r\n\r\n    _unscaled(timestamp) {\r\n        return timestamp << this.scaleFactor;\r\n    }\r\n\r\n    setSPS(sps) {\r\n        this.h264.parseSPS(sps);\r\n    }\r\n\r\n    setPPS(pps) {\r\n        this.h264.parsePPS(pps);\r\n    }\r\n\r\n    remux(nalu) {\r\n        if (this.lastGopDTS < nalu.dts) {\r\n            this.gop.sort(BaseRemuxer.dtsSortFunc);\r\n            for (let unit of this.gop) {\r\n                // if (this.firstUnit) {\r\n                //     unit.ntype = 5;//NALU.IDR;\r\n                //     this.firstUnit = false;\r\n                // }\r\n                if (super.remux.call(this, unit)) {\r\n                    this.mp4track.len += unit.getSize();\r\n                }\r\n            }\r\n            this.gop = [];\r\n            this.lastGopDTS = nalu.dts;\r\n        }\r\n        if (this.h264.parseNAL(nalu)) {\r\n            this.gop.push(nalu);\r\n        }\r\n    }\r\n\r\n    getPayload() {\r\n        if (!this.getPayloadBase()) {\r\n            return null;\r\n        }\r\n\r\n        let payload = new Uint8Array(this.mp4track.len);\r\n        let offset = 0;\r\n        let samples=this.mp4track.samples;\r\n        let mp4Sample, lastDTS, pts, dts;\r\n\r\n\r\n        // Log.debug(this.samples.map((e)=>{\r\n        //     return Math.round((e.dts - this.initDTS));\r\n        // }));\r\n\r\n        // let minDuration = Number.MAX_SAFE_INTEGER;\r\n        while (this.samples.length) {\r\n            let sample = this.samples.shift();\r\n            if (sample === null) {\r\n                // discontinuity\r\n                this.nextDts = undefined;\r\n                break;\r\n            }\r\n\r\n            let unit = sample.unit;\r\n            \r\n            pts = sample.pts- this.initDTS; // /*Math.round(*/(sample.pts - this.initDTS)/*/this.tsAlign)*this.tsAlign*/;\r\n            dts = sample.dts - this.initDTS; ///*Math.round(*/(sample.dts - this.initDTS)/*/this.tsAlign)*this.tsAlign*/;\r\n            // ensure DTS is not bigger than PTS\r\n            dts = Math.min(pts,dts);\r\n            // if not first AVC sample of video track, normalize PTS/DTS with previous sample value\r\n            // and ensure that sample duration is positive\r\n            if (lastDTS !== undefined) {\r\n                let sampleDuration = this.scaled(dts - lastDTS);\r\n                // Log.debug(`Sample duration: ${sampleDuration}`);\r\n                if (sampleDuration < 0) {\r\n                    Log$4.log(`invalid AVC sample duration at PTS/DTS: ${pts}/${dts}|lastDTS: ${lastDTS}:${sampleDuration}`);\r\n                    this.mp4track.len -= unit.getSize();\r\n                    continue;\r\n                }\r\n                // minDuration = Math.min(sampleDuration, minDuration);\r\n                this.lastDurations.push(sampleDuration);\r\n                if (this.lastDurations.length > 100) {\r\n                    this.lastDurations.shift();\r\n                }\r\n                mp4Sample.duration = sampleDuration;\r\n            } else {\r\n                if (this.nextDts) {\r\n                    let delta = dts - this.nextDts;\r\n                    // if fragment are contiguous, or delta less than 600ms, ensure there is no overlap/hole between fragments\r\n                    if (/*contiguous ||*/ Math.abs(Math.round(BaseRemuxer.toMS(delta))) < 600) {\r\n\r\n                        if (delta) {\r\n                            // set DTS to next DTS\r\n                            // Log.debug(`Video/PTS/DTS adjusted: ${pts}->${Math.max(pts - delta, this.nextDts)}/${dts}->${this.nextDts},delta:${delta}`);\r\n                            dts = this.nextDts;\r\n                            // offset PTS as well, ensure that PTS is smaller or equal than new DTS\r\n                            pts = Math.max(pts - delta, dts);\r\n                        }\r\n                    } else {\r\n                        if (delta < 0) {\r\n                            Log$4.log(`skip frame from the past at DTS=${dts} with expected DTS=${this.nextDts}`);\r\n                            this.mp4track.len -= unit.getSize();\r\n                            continue;\r\n                        }\r\n                    }\r\n                }\r\n                // remember first DTS of our avcSamples, ensure value is positive\r\n                this.firstDTS = Math.max(0, dts);\r\n            }\r\n\r\n            mp4Sample = {\r\n                size: unit.getSize(),\r\n                duration: 0,\r\n                cts: this.scaled(pts - dts),\r\n                flags: {\r\n                    isLeading: 0,\r\n                    isDependedOn: 0,\r\n                    hasRedundancy: 0,\r\n                    degradPrio: 0\r\n                }\r\n            };\r\n            let flags = mp4Sample.flags;\r\n            if (sample.unit.isKeyframe() === true) {\r\n                // the current sample is a key frame\r\n                flags.dependsOn = 2;\r\n                flags.isNonSync = 0;\r\n            } else {\r\n                flags.dependsOn = 1;\r\n                flags.isNonSync = 1;\r\n            }\r\n\r\n            payload.set(unit.getData(), offset);\r\n            offset += unit.getSize();\r\n\r\n            samples.push(mp4Sample);\r\n            lastDTS = dts;\r\n        }\r\n\r\n        if (!samples.length) return null;\r\n\r\n        let avgDuration = this.lastDurations.reduce(function(a, b) { return (a|0) + (b|0); }, 0) / (this.lastDurations.length||1)|0;\r\n        if (samples.length >= 2) {\r\n            this.lastSampleDuration = avgDuration;\r\n            mp4Sample.duration = avgDuration;\r\n        } else {\r\n            mp4Sample.duration = this.lastSampleDuration;\r\n        }\r\n\r\n        if(samples.length && (!this.nextDts || navigator.userAgent.toLowerCase().indexOf('chrome') > -1)) {\r\n            let flags = samples[0].flags;\r\n            // chrome workaround, mark first sample as being a Random Access Point to avoid sourcebuffer append issue\r\n            // https://code.google.com/p/chromium/issues/detail?id=229412\r\n            flags.dependsOn = 2;\r\n            flags.isNonSync = 0;\r\n        }\r\n\r\n        // next AVC sample DTS should be equal to last sample DTS + last sample duration\r\n        this.nextDts = dts + this.unscaled(this.lastSampleDuration);\r\n        // Log.debug(`next dts: ${this.nextDts}, last duration: ${this.lastSampleDuration}, last dts: ${dts}`);\r\n\r\n        return new Uint8Array(payload.buffer, 0, this.mp4track.len);\r\n    }\r\n}\r\n\r\nclass PayloadType {\r\n    static get H264() {return 1;}\r\n    static get AAC() {return 2;}\r\n\r\n    static get map() {return {\r\n        [PayloadType.H264]: 'video',\r\n        [PayloadType.AAC]: 'audio'\r\n    }};\r\n\r\n    static get string_map() {return  {\r\n        H264: PayloadType.H264,\r\n        AAC: PayloadType.AAC,\r\n        'MP4A-LATM': PayloadType.AAC,\r\n        'MPEG4-GENERIC': PayloadType.AAC\r\n    }}\r\n}\r\n\r\nconst LOG_TAG$1 = \"remuxer\";\r\nconst Log$5 = getTagged(LOG_TAG$1);\r\n\r\nclass Remuxer {\r\n    static get TrackConverters() {return {\r\n        [PayloadType.H264]: H264Remuxer,\r\n        [PayloadType.AAC]:  AACRemuxer\r\n    }};\r\n\r\n    static get TrackScaleFactor() {return {\r\n        [PayloadType.H264]: 1,//4,\r\n        [PayloadType.AAC]:  0\r\n    }};\r\n\r\n    static get TrackTimescale() {return {\r\n        [PayloadType.H264]: 90000,//22500,\r\n        [PayloadType.AAC]:  0\r\n    }};\r\n\r\n    constructor(mediaElement) {\r\n        this.mse = new MSE([mediaElement]);\r\n        this.eventSource = new EventEmitter();\r\n        this.mseEventSource = new EventSourceWrapper(this.mse.eventSource);\r\n        this.mse_ready = true;\r\n\r\n        this.reset();\r\n\r\n        this.errorListener = this.mseClose.bind(this);\r\n        this.closeListener = this.mseClose.bind(this);\r\n\r\n        this.eventSource.addEventListener('ready', this.init.bind(this));\r\n    }\r\n\r\n    initMSEHandlers() {\r\n        this.mseEventSource.on('error', this.errorListener);\r\n        this.mseEventSource.on('sourceclosed', this.closeListener);\r\n    }\r\n\r\n    async reset() {\r\n        this.tracks = {};\r\n        this.initialized = false;\r\n        this.initSegments = {};\r\n        this.codecs = [];\r\n        this.streams = {};\r\n        this.enabled = false;\r\n        await this.mse.clear();\r\n        this.initMSEHandlers();\r\n    }\r\n\r\n    destroy() {\r\n        this.mseEventSource.destroy();\r\n        this.mse.destroy();\r\n        this.mse = null;\r\n\r\n        this.detachClient();\r\n\r\n        this.eventSource.destroy();\r\n    }\r\n\r\n    onTracks(tracks) {\r\n        Log$5.debug(`ontracks: `, tracks.detail);\r\n        // store available track types\r\n        for (let track of tracks.detail) {\r\n            this.tracks[track.type] = new Remuxer.TrackConverters[track.type](Remuxer.TrackTimescale[track.type], Remuxer.TrackScaleFactor[track.type], track.params);\r\n            if (track.offset) {\r\n                this.tracks[track.type].timeOffset = track.offset;\r\n            }\r\n            if (track.duration) {\r\n                this.tracks[track.type].mp4track.duration = track.duration*(this.tracks[track.type].timescale || Remuxer.TrackTimescale[track.type]);\r\n                this.tracks[track.type].duration = track.duration;\r\n            } else {\r\n                this.tracks[track.type].duration = 1;\r\n            }\r\n\r\n            // this.tracks[track.type].duration\r\n        }\r\n        this.mse.setLive(!this.client.seekable);\r\n    }\r\n\r\n    setTimeOffset(timeOffset, track) {\r\n        if (this.tracks[track.type]) {\r\n            this.tracks[track.type].timeOffset = timeOffset;///this.tracks[track.type].scaleFactor;\r\n        }\r\n    }\r\n\r\n    init() {\r\n        let tracks = [];\r\n        this.codecs = [];\r\n        let initmse = [];\r\n        let initPts = Infinity;\r\n        let initDts = Infinity;\r\n        for (let track_type in this.tracks) {\r\n            let track = this.tracks[track_type];\r\n            if (!MSE.isSupported([track.mp4track.codec])) {\r\n                throw new Error(`${track.mp4track.type} codec ${track.mp4track.codec} is not supported`);\r\n            }\r\n            tracks.push(track.mp4track);\r\n            this.codecs.push(track.mp4track.codec);\r\n            track.init(initPts, initDts/*, false*/);\r\n            // initPts = Math.min(track.initPTS, initPts);\r\n            // initDts = Math.min(track.initDTS, initDts);\r\n        }\r\n\r\n        for (let track_type in this.tracks) {\r\n            let track = this.tracks[track_type];\r\n            //track.init(initPts, initDts);\r\n            this.initSegments[track_type] = MP4.initSegment([track.mp4track], track.duration*track.timescale, track.timescale);\r\n            initmse.push(this.initMSE(track_type, track.mp4track.codec));\r\n        }\r\n        this.initialized = true;\r\n        return Promise.all(initmse).then(()=>{\r\n            //this.mse.play();\r\n            this.enabled = true;\r\n        });\r\n        \r\n    }\r\n\r\n    initMSE(track_type, codec) {\r\n        if (MSE.isSupported(this.codecs)) {\r\n            return this.mse.setCodec(track_type, `${PayloadType.map[track_type]}/mp4; codecs=\"${codec}\"`).then(()=>{\r\n                this.mse.feed(track_type, this.initSegments[track_type]);\r\n                // this.mse.play();\r\n                // this.enabled = true;\r\n            });\r\n        } else {\r\n            throw new Error('Codecs are not supported');\r\n        }\r\n    }\r\n\r\n    mseClose() {\r\n        // this.mse.clear();\r\n        this.client.stop();\r\n        this.eventSource.dispatchEvent('stopped');\r\n    }\r\n\r\n    flush() {\r\n        this.onSamples();\r\n\r\n        if (!this.initialized) {\r\n            // Log.debug(`Initialize...`);\r\n            if (Object.keys(this.tracks).length) {\r\n                for (let track_type in this.tracks) {\r\n                    if (!this.tracks[track_type].readyToDecode || !this.tracks[track_type].samples.length) return;\r\n                    Log$5.debug(`Init MSE for track ${this.tracks[track_type].mp4track.type}`);\r\n                }\r\n                this.eventSource.dispatchEvent('ready');\r\n            }\r\n        } else {\r\n\r\n            for (let track_type in this.tracks) {\r\n                let track = this.tracks[track_type];\r\n                let pay = track.getPayload();\r\n                if (pay && pay.byteLength) {\r\n                    this.mse.feed(track_type, [MP4.moof(track.seq, track.scaled(track.firstDTS), track.mp4track), MP4.mdat(pay)]);\r\n                    track.flush();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    onSamples(ev) {\r\n        // TODO: check format\r\n        // let data = ev.detail;\r\n        // if (this.tracks[data.pay] && this.client.sampleQueues[data.pay].length) {\r\n            // console.log(`video ${data.units[0].dts}`);\r\n        for (let qidx in this.client.sampleQueues) {\r\n            let queue = this.client.sampleQueues[qidx];\r\n            while (queue.length) {\r\n                let units = queue.shift();\r\n                for (let chunk of units) {\r\n                    this.tracks[qidx].remux(chunk);\r\n                }\r\n            }\r\n        }\r\n        // }\r\n    }\r\n\r\n    onAudioConfig(ev) {\r\n        if (this.tracks[ev.detail.pay]) {\r\n            this.tracks[ev.detail.pay].setConfig(ev.detail.config);\r\n        }\r\n    }\r\n\r\n    attachClient(client) {\r\n        this.detachClient();\r\n        this.client = client;\r\n        this.clientEventSource = new EventSourceWrapper(this.client.eventSource);\r\n        this.clientEventSource.on('samples', this.samplesListener);\r\n        this.clientEventSource.on('audio_config', this.audioConfigListener);\r\n        this.clientEventSource.on('tracks', this.onTracks.bind(this));\r\n        this.clientEventSource.on('flush', this.flush.bind(this));\r\n        this.clientEventSource.on('clear', ()=>{\r\n            this.reset();\r\n            this.mse.clear().then(()=>{\r\n                //this.mse.play();\r\n                this.initMSEHandlers();\r\n            });\r\n        });\r\n    }\r\n\r\n    detachClient() {\r\n        if (this.client) {\r\n            this.clientEventSource.destroy();\r\n            // this.client.eventSource.removeEventListener('samples', this.onSamples.bind(this));\r\n            // this.client.eventSource.removeEventListener('audio_config', this.onAudioConfig.bind(this));\r\n            // // TODO: clear other listeners\r\n            // this.client.eventSource.removeEventListener('clear', this._clearListener);\r\n            // this.client.eventSource.removeEventListener('tracks', this._tracksListener);\r\n            // this.client.eventSource.removeEventListener('flush', this._flushListener);\r\n            this.client = null;\r\n        }\r\n    }\r\n}\r\n\r\nclass State {\r\n    constructor(name, stateMachine) {\r\n        this.stateMachine = stateMachine;\r\n        this.transitions = new Set();\r\n        this.name = name;\r\n    }\r\n\r\n\r\n    activate() {\r\n        return Promise.resolve(null);\r\n    }\r\n\r\n    finishTransition() {}\r\n\r\n    failHandler() {}\r\n\r\n    deactivate() {\r\n        return Promise.resolve(null);\r\n    }\r\n}\r\n\r\nclass StateMachine {\r\n    constructor() {\r\n        this.storage = {};\r\n        this.currentState = null;\r\n        this.states = new Map();\r\n    }\r\n\r\n    addState(name, {activate, finishTransition, deactivate}) {\r\n        let state = new State(name, this);\r\n        if (activate) state.activate = activate;\r\n        if (finishTransition) state.finishTransition = finishTransition;\r\n        if (deactivate) state.deactivate = deactivate;\r\n        this.states.set(name, state);\r\n        return this;\r\n    }\r\n\r\n    addTransition(fromName, toName){\r\n        if (!this.states.has(fromName)) {\r\n            throw ReferenceError(`No such state: ${fromName} while connecting to ${toName}`);\r\n        }\r\n        if (!this.states.has(toName)) {\r\n            throw ReferenceError(`No such state: ${toName} while connecting from ${fromName}`);\r\n        }\r\n        this.states.get(fromName).transitions.add(toName);\r\n        return this;\r\n    }\r\n\r\n    _promisify(res) {\r\n        let promise;\r\n        try {\r\n            promise = res;\r\n            if (!promise.then) {\r\n                promise = Promise.resolve(promise);\r\n            }\r\n        } catch (e) {\r\n            promise = Promise.reject(e);\r\n        }\r\n        return promise;\r\n    }\r\n\r\n    transitionTo(stateName) {\r\n        if (this.currentState == null) {\r\n            let state = this.states.get(stateName);\r\n            return this._promisify(state.activate.call(this))\r\n                .then((data)=> {\r\n                    this.currentState = state;\r\n                    return data;\r\n                }).then(state.finishTransition.bind(this)).catch((e)=>{\r\n                    state.failHandler();\r\n                    throw e;\r\n                });\r\n        }\r\n        if (this.currentState.name == stateName) return Promise.resolve();\r\n        if (this.currentState.transitions.has(stateName)) {\r\n            let state = this.states.get(stateName);\r\n            return this._promisify(state.deactivate.call(this))\r\n                .then(state.activate.bind(this)).then((data)=> {\r\n                    this.currentState = state;\r\n                    return data;\r\n                }).then(state.finishTransition.bind(this)).catch((e)=>{\r\n                    state.failHandler();\r\n                    throw e;\r\n                });\r\n        } else {\r\n            return Promise.reject(`No such transition: ${this.currentState.name} to ${stateName}`);\r\n        }\r\n    }\r\n\r\n}\r\n\r\n// export * from 'bp_statemachine';\r\n\r\nconst Log$6 = getTagged(\"parser:sdp\");\r\n\r\nclass SDPParser {\r\n    constructor() {\r\n        this.version = -1;\r\n        this.origin = null;\r\n        this.sessionName = null;\r\n        this.timing = null;\r\n        this.sessionBlock = {};\r\n        this.media = {};\r\n        this.tracks = {};\r\n        this.mediaMap = {};\r\n    }\r\n\r\n    parse(content) {\r\n        // Log.debug(content);\r\n        return new Promise((resolve, reject) => {\r\n            var dataString = content;\r\n            var success = true;\r\n            var currentMediaBlock = this.sessionBlock;\r\n\r\n            // TODO: multiple audio/video tracks\r\n\r\n            for (let line of dataString.split(\"\\n\")) {\r\n                line = line.replace(/\\r/, '');\r\n                if (0 === line.length) {\r\n                    /* Empty row (last row perhaps?), skip to next */\r\n                    continue;\r\n                }\r\n\r\n                switch (line.charAt(0)) {\r\n                    case 'v':\r\n                        if (-1 !== this.version) {\r\n                            Log$6.log('Version present multiple times in SDP');\r\n                            reject();\r\n                            return false;\r\n                        }\r\n                        success = success && this._parseVersion(line);\r\n                        break;\r\n\r\n                    case 'o':\r\n                        if (null !== this.origin) {\r\n                            Log$6.log('Origin present multiple times in SDP');\r\n                            reject();\r\n                            return false;\r\n                        }\r\n                        success = success && this._parseOrigin(line);\r\n                        break;\r\n\r\n                    case 's':\r\n                        if (null !== this.sessionName) {\r\n                            Log$6.log('Session Name present multiple times in SDP');\r\n                            reject();\r\n                            return false;\r\n                        }\r\n                        success = success && this._parseSessionName(line);\r\n                        break;\r\n\r\n                    case 't':\r\n                        if (null !== this.timing) {\r\n                            Log$6.log('Timing present multiple times in SDP');\r\n                            reject();\r\n                            return false;\r\n                        }\r\n                        success = success && this._parseTiming(line);\r\n                        break;\r\n\r\n                    case 'm':\r\n                        if (null !== currentMediaBlock && this.sessionBlock !== currentMediaBlock) {\r\n                            /* Complete previous block and store it */\r\n                            this.media[currentMediaBlock.type] = currentMediaBlock;\r\n                        }\r\n\r\n                        /* A wild media block appears */\r\n                        currentMediaBlock = {};\r\n                        currentMediaBlock.rtpmap = {};\r\n                        this._parseMediaDescription(line, currentMediaBlock);\r\n                        break;\r\n\r\n                    case 'a':\r\n                        SDPParser._parseAttribute(line, currentMediaBlock);\r\n                        break;\r\n\r\n                    default:\r\n                        Log$6.log('Ignored unknown SDP directive: ' + line);\r\n                        break;\r\n                }\r\n\r\n                if (!success) {\r\n                    reject();\r\n                    return;\r\n                }\r\n            }\r\n\r\n            this.media[currentMediaBlock.type] = currentMediaBlock;\r\n\r\n            success ? resolve() : reject();\r\n        });\r\n    }\r\n\r\n    _parseVersion(line) {\r\n        let matches = line.match(/^v=([0-9]+)$/);\r\n        if (!matches || !matches.length) {\r\n            Log$6.log('\\'v=\\' (Version) formatted incorrectly: ' + line);\r\n            return false;\r\n        }\r\n\r\n        this.version = matches[1];\r\n        if (0 != this.version) {\r\n            Log$6.log('Unsupported SDP version:' + this.version);\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    _parseOrigin(line) {\r\n        let matches = line.match(/^o=([^ ]+) (-?[0-9]+) (-?[0-9]+) (IN) (IP4|IP6) ([^ ]+)$/);\r\n        if (!matches || !matches.length) {\r\n            Log$6.log('\\'o=\\' (Origin) formatted incorrectly: ' + line);\r\n            return false;\r\n        }\r\n\r\n        this.origin = {};\r\n        this.origin.username = matches[1];\r\n        this.origin.sessionid = matches[2];\r\n        this.origin.sessionversion = matches[3];\r\n        this.origin.nettype = matches[4];\r\n        this.origin.addresstype = matches[5];\r\n        this.origin.unicastaddress = matches[6];\r\n\r\n        return true;\r\n    }\r\n\r\n    _parseSessionName(line) {\r\n        let matches = line.match(/^s=([^\\r\\n]+)$/);\r\n        if (!matches || !matches.length) {\r\n            Log$6.log('\\'s=\\' (Session Name) formatted incorrectly: ' + line);\r\n            return false;\r\n        }\r\n\r\n        this.sessionName = matches[1];\r\n\r\n        return true;\r\n    }\r\n\r\n    _parseTiming(line) {\r\n        let matches = line.match(/^t=([0-9]+) ([0-9]+)$/);\r\n        if (!matches || !matches.length) {\r\n            Log$6.log('\\'t=\\' (Timing) formatted incorrectly: ' + line);\r\n            return false;\r\n        }\r\n\r\n        this.timing = {};\r\n        this.timing.start = matches[1];\r\n        this.timing.stop = matches[2];\r\n\r\n        return true;\r\n    }\r\n\r\n    _parseMediaDescription(line, media) {\r\n        let matches = line.match(/^m=([^ ]+) ([^ ]+) ([^ ]+)[ ]/);\r\n        if (!matches || !matches.length) {\r\n            Log$6.log('\\'m=\\' (Media) formatted incorrectly: ' + line);\r\n            return false;\r\n        }\r\n\r\n        media.type = matches[1];\r\n        media.port = matches[2];\r\n        media.proto = matches[3];\r\n        media.fmt = line.substr(matches[0].length).split(' ').map(function (fmt, index, array) {\r\n            return parseInt(fmt);\r\n        });\r\n\r\n        for (let fmt of media.fmt) {\r\n            this.mediaMap[fmt] = media;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    static _parseAttribute(line, media) {\r\n        if (null === media) {\r\n            /* Not in a media block, can't be bothered parsing attributes for session */\r\n            return true;\r\n        }\r\n\r\n        var matches;\r\n        /* Used for some cases of below switch-case */\r\n        var separator = line.indexOf(':');\r\n        var attribute = line.substr(0, (-1 === separator) ? 0x7FFFFFFF : separator);\r\n        /* 0x7FF.. is default */\r\n\r\n        switch (attribute) {\r\n            case 'a=recvonly':\r\n            case 'a=sendrecv':\r\n            case 'a=sendonly':\r\n            case 'a=inactive':\r\n                media.mode = line.substr('a='.length);\r\n                break;\r\n            case 'a=range':\r\n                matches = line.match(/^a=range:\\s*([a-zA-Z-]+)=([0-9.]+|now)\\s*-\\s*([0-9.]*)$/);\r\n                media.range = [Number(matches[2] == \"now\" ? -1 : matches[2]), Number(matches[3]), matches[1]];\r\n                break;\r\n            case 'a=control':\r\n                media.control = line.substr('a=control:'.length);\r\n                break;\r\n\r\n            case 'a=rtpmap':\r\n                matches = line.match(/^a=rtpmap:(\\d+) (.*)$/);\r\n                if (null === matches) {\r\n                    Log$6.log('Could not parse \\'rtpmap\\' of \\'a=\\'');\r\n                    return false;\r\n                }\r\n\r\n                var payload = parseInt(matches[1]);\r\n                media.rtpmap[payload] = {};\r\n\r\n                var attrs = matches[2].split('/');\r\n                media.rtpmap[payload].name = attrs[0].toUpperCase();\r\n                media.rtpmap[payload].clock = attrs[1];\r\n                if (undefined !== attrs[2]) {\r\n                    media.rtpmap[payload].encparams = attrs[2];\r\n                }\r\n                media.ptype = PayloadType.string_map[attrs[0].toUpperCase()];\r\n\r\n                break;\r\n\r\n            case 'a=fmtp':\r\n                matches = line.match(/^a=fmtp:(\\d+) (.*)$/);\r\n                if (0 === matches.length) {\r\n                    Log$6.log('Could not parse \\'fmtp\\'  of \\'a=\\'');\r\n                    return false;\r\n                }\r\n\r\n                media.fmtp = {};\r\n                for (var param of matches[2].split(';')) {\r\n                    var idx = param.indexOf('=');\r\n                    media.fmtp[param.substr(0, idx).toLowerCase().trim()] = param.substr(idx + 1).trim();\r\n                }\r\n                break;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    getSessionBlock() {\r\n        return this.sessionBlock;\r\n    }\r\n\r\n    hasMedia(mediaType) {\r\n        return this.media[mediaType] != undefined;\r\n    }\r\n\r\n    getMediaBlock(mediaType) {\r\n        return this.media[mediaType];\r\n    }\r\n\r\n    getMediaBlockByPayloadType(pt) {\r\n        // for (var m in this.media) {\r\n        //     if (-1 !== this.media[m].fmt.indexOf(pt)) {\r\n        //         return this.media[m];\r\n        //     }\r\n        // }\r\n        return this.mediaMap[pt] || null;\r\n\r\n        //ErrorManager.dispatchError(826, [pt], true);\r\n        // Log.error(`failed to find media with payload type ${pt}`);\r\n        //\r\n        // return null;\r\n    }\r\n\r\n    getMediaBlockList() {\r\n        var res = [];\r\n        for (var m in this.media) {\r\n            res.push(m);\r\n        }\r\n\r\n        return res;\r\n    }\r\n}\r\n\r\nconst LOG_TAG$2 = \"rtsp:stream\";\r\nconst Log$7 = getTagged(LOG_TAG$2);\r\n\r\nclass RTSPStream {\r\n\r\n    constructor(client, track) {\r\n        this.state = null;\r\n        this.client = client;\r\n        this.track = track;\r\n        this.rtpChannel = 1;\r\n\r\n        this.stopKeepAlive();\r\n        this.keepaliveInterval = null;\r\n        this.keepaliveTime = 30000;\r\n    }\r\n\r\n    reset() {\r\n        this.stopKeepAlive();\r\n        this.client.forgetRTPChannel(this.rtpChannel);\r\n        this.client = null;\r\n        this.track = null;\r\n    }\r\n\r\n    start() {\r\n        return this.sendSetup();//.then(this.sendPlay.bind(this));\r\n    }\r\n\r\n    stop() {\r\n        return this.sendTeardown();\r\n    }\r\n\r\n    getSetupURL(track) {\r\n        let sessionBlock = this.client.sdp.getSessionBlock();\r\n        if (Url.isAbsolute(track.control)) {\r\n            return track.control;\r\n        } else if (Url.isAbsolute(`${sessionBlock.control}${track.control}`)) {\r\n            return `${sessionBlock.control}${track.control}`;\r\n        } else if (Url.isAbsolute(`${this.client.contentBase}${track.control}`)) {\r\n            /* Should probably check session level control before this */\r\n            return `${this.client.contentBase}${track.control}`;\r\n        }\r\n        else {//need return default\r\n            return track.control;\r\n        }\r\n        Log$7.error('Can\\'t determine track URL from ' +\r\n            'block.control:' + track.control + ', ' +\r\n            'session.control:' + sessionBlock.control + ', and ' +\r\n            'content-base:' + this.client.contentBase);\r\n    }\r\n\r\n    getControlURL() {\r\n        let ctrl = this.client.sdp.getSessionBlock().control;\r\n        if (Url.isAbsolute(ctrl)) {\r\n            return ctrl;\r\n        } else if (!ctrl || '*' === ctrl) {\r\n            return this.client.contentBase;\r\n        } else {\r\n            return `${this.client.contentBase}${ctrl}`;\r\n        }\r\n    }\r\n\r\n    sendKeepalive() {\r\n        if (this.client.methods.includes('GET_PARAMETER')) {\r\n            return this.client.sendRequest('GET_PARAMETER', this.getSetupURL(this.track), {\r\n                'Session': this.session\r\n            });\r\n        } else {\r\n            return this.client.sendRequest('OPTIONS', '*');\r\n        }\r\n    }\r\n\r\n    stopKeepAlive() {\r\n        clearInterval(this.keepaliveInterval);\r\n    }\r\n\r\n    startKeepAlive() {\r\n        this.keepaliveInterval = setInterval(() => {\r\n            this.sendKeepalive().catch((e) => {\r\n                Log$7.error(e);\r\n                if (e instanceof RTSPError) {\r\n                    if (Number(e.data.parsed.code) == 501) {\r\n                        return;\r\n                    }\r\n                }\r\n                this.client.reconnect();\r\n            });\r\n        }, this.keepaliveTime);\r\n    }\r\n\r\n    sendRequest(_cmd, _params = {}) {\r\n        let params = {};\r\n        if (this.session) {\r\n            params['Session'] = this.session;\r\n        }\r\n        Object.assign(params, _params);\r\n        return this.client.sendRequest(_cmd, this.getControlURL(), params);\r\n    }\r\n\r\n    sendSetup() {\r\n        this.state = RTSPClientSM.STATE_SETUP;\r\n        this.rtpChannel = this.client.interleaveChannelIndex;\r\n        let interleavedChannels = this.client.interleaveChannelIndex++ + \"-\" + this.client.interleaveChannelIndex++;\r\n        return this.client.sendRequest('SETUP', this.getSetupURL(this.track), {\r\n            'Transport': `RTP/AVP/TCP;unicast;interleaved=${interleavedChannels}`,\r\n            'Date': new Date().toUTCString()\r\n        }).then((_data) => {\r\n            this.session = _data.headers['session'];\r\n            let transport = _data.headers['transport'];\r\n            if (transport) {\r\n                let interleaved = transport.match(/interleaved=([0-9]+)-([0-9]+)/)[1];\r\n                if (interleaved) {\r\n                    this.rtpChannel = Number(interleaved);\r\n                }\r\n            }\r\n            let sessionParamsChunks = this.session.split(';').slice(1);\r\n            let sessionParams = {};\r\n            for (let chunk of sessionParamsChunks) {\r\n                let kv = chunk.split('=');\r\n                sessionParams[kv[0]]=kv[1];\r\n            }\r\n            if (sessionParams['timeout']) {\r\n                this.keepaliveInterval = Number(sessionParams['timeout']) * 500; // * 1000 / 2\r\n            }\r\n            /*if (!/RTP\\/AVP\\/TCP;unicast;interleaved=/.test(_data.headers[\"transport\"])) {\r\n                // TODO: disconnect stream and notify client\r\n                throw new Error(\"Connection broken\");\r\n            }*/\r\n            this.client.useRTPChannel(this.rtpChannel);\r\n            this.startKeepAlive();\r\n            return {track: this.track, data: _data};\r\n        });\r\n    }\r\n}\r\n\r\n/*\r\n * JavaScript MD5\r\n * https://github.com/blueimp/JavaScript-MD5\r\n *\r\n * Copyright 2011, Sebastian Tschan\r\n * https://blueimp.net\r\n *\r\n * Licensed under the MIT license:\r\n * https://opensource.org/licenses/MIT\r\n *\r\n * Based on\r\n * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message\r\n * Digest Algorithm, as defined in RFC 1321.\r\n * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009\r\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\r\n * Distributed under the BSD License\r\n * See http://pajhome.org.uk/crypt/md5 for more info.\r\n */\r\n\r\n\r\n/*\r\n* Add integers, wrapping at 2^32. This uses 16-bit operations internally\r\n* to work around bugs in some JS interpreters.\r\n*/\r\nfunction safeAdd(x, y) {\r\n    var lsw = (x & 0xFFFF) + (y & 0xFFFF);\r\n    var msw = (x >> 16) + (y >> 16) + (lsw >> 16);\r\n    return (msw << 16) | (lsw & 0xFFFF)\r\n}\r\n\r\n/*\r\n* Bitwise rotate a 32-bit number to the left.\r\n*/\r\nfunction bitRotateLeft(num, cnt) {\r\n    return (num << cnt) | (num >>> (32 - cnt))\r\n}\r\n\r\n/*\r\n* These functions implement the four basic operations the algorithm uses.\r\n*/\r\nfunction md5cmn(q, a, b, x, s, t) {\r\n    return safeAdd(bitRotateLeft(safeAdd(safeAdd(a, q), safeAdd(x, t)), s), b)\r\n}\r\nfunction md5ff(a, b, c, d, x, s, t) {\r\n    return md5cmn((b & c) | ((~b) & d), a, b, x, s, t)\r\n}\r\nfunction md5gg(a, b, c, d, x, s, t) {\r\n    return md5cmn((b & d) | (c & (~d)), a, b, x, s, t)\r\n}\r\nfunction md5hh(a, b, c, d, x, s, t) {\r\n    return md5cmn(b ^ c ^ d, a, b, x, s, t)\r\n}\r\nfunction md5ii(a, b, c, d, x, s, t) {\r\n    return md5cmn(c ^ (b | (~d)), a, b, x, s, t)\r\n}\r\n\r\n/*\r\n* Calculate the MD5 of an array of little-endian words, and a bit length.\r\n*/\r\nfunction binlMD5(x, len) {\r\n    /* append padding */\r\n    x[len >> 5] |= 0x80 << (len % 32);\r\n    x[(((len + 64) >>> 9) << 4) + 14] = len;\r\n\r\n    var i;\r\n    var olda;\r\n    var oldb;\r\n    var oldc;\r\n    var oldd;\r\n    var a = 1732584193;\r\n    var b = -271733879;\r\n    var c = -1732584194;\r\n    var d = 271733878;\r\n\r\n    for (i = 0; i < x.length; i += 16) {\r\n        olda = a;\r\n        oldb = b;\r\n        oldc = c;\r\n        oldd = d;\r\n\r\n        a = md5ff(a, b, c, d, x[i], 7, -680876936);\r\n        d = md5ff(d, a, b, c, x[i + 1], 12, -389564586);\r\n        c = md5ff(c, d, a, b, x[i + 2], 17, 606105819);\r\n        b = md5ff(b, c, d, a, x[i + 3], 22, -1044525330);\r\n        a = md5ff(a, b, c, d, x[i + 4], 7, -176418897);\r\n        d = md5ff(d, a, b, c, x[i + 5], 12, 1200080426);\r\n        c = md5ff(c, d, a, b, x[i + 6], 17, -1473231341);\r\n        b = md5ff(b, c, d, a, x[i + 7], 22, -45705983);\r\n        a = md5ff(a, b, c, d, x[i + 8], 7, 1770035416);\r\n        d = md5ff(d, a, b, c, x[i + 9], 12, -1958414417);\r\n        c = md5ff(c, d, a, b, x[i + 10], 17, -42063);\r\n        b = md5ff(b, c, d, a, x[i + 11], 22, -1990404162);\r\n        a = md5ff(a, b, c, d, x[i + 12], 7, 1804603682);\r\n        d = md5ff(d, a, b, c, x[i + 13], 12, -40341101);\r\n        c = md5ff(c, d, a, b, x[i + 14], 17, -1502002290);\r\n        b = md5ff(b, c, d, a, x[i + 15], 22, 1236535329);\r\n\r\n        a = md5gg(a, b, c, d, x[i + 1], 5, -165796510);\r\n        d = md5gg(d, a, b, c, x[i + 6], 9, -1069501632);\r\n        c = md5gg(c, d, a, b, x[i + 11], 14, 643717713);\r\n        b = md5gg(b, c, d, a, x[i], 20, -373897302);\r\n        a = md5gg(a, b, c, d, x[i + 5], 5, -701558691);\r\n        d = md5gg(d, a, b, c, x[i + 10], 9, 38016083);\r\n        c = md5gg(c, d, a, b, x[i + 15], 14, -660478335);\r\n        b = md5gg(b, c, d, a, x[i + 4], 20, -405537848);\r\n        a = md5gg(a, b, c, d, x[i + 9], 5, 568446438);\r\n        d = md5gg(d, a, b, c, x[i + 14], 9, -1019803690);\r\n        c = md5gg(c, d, a, b, x[i + 3], 14, -187363961);\r\n        b = md5gg(b, c, d, a, x[i + 8], 20, 1163531501);\r\n        a = md5gg(a, b, c, d, x[i + 13], 5, -1444681467);\r\n        d = md5gg(d, a, b, c, x[i + 2], 9, -51403784);\r\n        c = md5gg(c, d, a, b, x[i + 7], 14, 1735328473);\r\n        b = md5gg(b, c, d, a, x[i + 12], 20, -1926607734);\r\n\r\n        a = md5hh(a, b, c, d, x[i + 5], 4, -378558);\r\n        d = md5hh(d, a, b, c, x[i + 8], 11, -2022574463);\r\n        c = md5hh(c, d, a, b, x[i + 11], 16, 1839030562);\r\n        b = md5hh(b, c, d, a, x[i + 14], 23, -35309556);\r\n        a = md5hh(a, b, c, d, x[i + 1], 4, -1530992060);\r\n        d = md5hh(d, a, b, c, x[i + 4], 11, 1272893353);\r\n        c = md5hh(c, d, a, b, x[i + 7], 16, -155497632);\r\n        b = md5hh(b, c, d, a, x[i + 10], 23, -1094730640);\r\n        a = md5hh(a, b, c, d, x[i + 13], 4, 681279174);\r\n        d = md5hh(d, a, b, c, x[i], 11, -358537222);\r\n        c = md5hh(c, d, a, b, x[i + 3], 16, -722521979);\r\n        b = md5hh(b, c, d, a, x[i + 6], 23, 76029189);\r\n        a = md5hh(a, b, c, d, x[i + 9], 4, -640364487);\r\n        d = md5hh(d, a, b, c, x[i + 12], 11, -421815835);\r\n        c = md5hh(c, d, a, b, x[i + 15], 16, 530742520);\r\n        b = md5hh(b, c, d, a, x[i + 2], 23, -995338651);\r\n\r\n        a = md5ii(a, b, c, d, x[i], 6, -198630844);\r\n        d = md5ii(d, a, b, c, x[i + 7], 10, 1126891415);\r\n        c = md5ii(c, d, a, b, x[i + 14], 15, -1416354905);\r\n        b = md5ii(b, c, d, a, x[i + 5], 21, -57434055);\r\n        a = md5ii(a, b, c, d, x[i + 12], 6, 1700485571);\r\n        d = md5ii(d, a, b, c, x[i + 3], 10, -1894986606);\r\n        c = md5ii(c, d, a, b, x[i + 10], 15, -1051523);\r\n        b = md5ii(b, c, d, a, x[i + 1], 21, -2054922799);\r\n        a = md5ii(a, b, c, d, x[i + 8], 6, 1873313359);\r\n        d = md5ii(d, a, b, c, x[i + 15], 10, -30611744);\r\n        c = md5ii(c, d, a, b, x[i + 6], 15, -1560198380);\r\n        b = md5ii(b, c, d, a, x[i + 13], 21, 1309151649);\r\n        a = md5ii(a, b, c, d, x[i + 4], 6, -145523070);\r\n        d = md5ii(d, a, b, c, x[i + 11], 10, -1120210379);\r\n        c = md5ii(c, d, a, b, x[i + 2], 15, 718787259);\r\n        b = md5ii(b, c, d, a, x[i + 9], 21, -343485551);\r\n\r\n        a = safeAdd(a, olda);\r\n        b = safeAdd(b, oldb);\r\n        c = safeAdd(c, oldc);\r\n        d = safeAdd(d, oldd);\r\n    }\r\n    return [a, b, c, d]\r\n}\r\n\r\n/*\r\n* Convert an array of little-endian words to a string\r\n*/\r\nfunction binl2rstr(input) {\r\n    var i;\r\n    var output = '';\r\n    var length32 = input.length * 32;\r\n    for (i = 0; i < length32; i += 8) {\r\n        output += String.fromCharCode((input[i >> 5] >>> (i % 32)) & 0xFF);\r\n    }\r\n    return output\r\n}\r\n\r\n/*\r\n* Convert a raw string to an array of little-endian words\r\n* Characters >255 have their high-byte silently ignored.\r\n*/\r\nfunction rstr2binl(input) {\r\n    var i;\r\n    var output = [];\r\n    output[(input.length >> 2) - 1] = undefined;\r\n    for (i = 0; i < output.length; i += 1) {\r\n        output[i] = 0;\r\n    }\r\n    var length8 = input.length * 8;\r\n    for (i = 0; i < length8; i += 8) {\r\n        output[i >> 5] |= (input.charCodeAt(i / 8) & 0xFF) << (i % 32);\r\n    }\r\n    return output\r\n}\r\n\r\n/*\r\n* Calculate the MD5 of a raw string\r\n*/\r\nfunction rstrMD5(s) {\r\n    return binl2rstr(binlMD5(rstr2binl(s), s.length * 8))\r\n}\r\n\r\n/*\r\n* Calculate the HMAC-MD5, of a key and some data (raw strings)\r\n*/\r\nfunction rstrHMACMD5(key, data) {\r\n    var i;\r\n    var bkey = rstr2binl(key);\r\n    var ipad = [];\r\n    var opad = [];\r\n    var hash;\r\n    ipad[15] = opad[15] = undefined;\r\n    if (bkey.length > 16) {\r\n        bkey = binlMD5(bkey, key.length * 8);\r\n    }\r\n    for (i = 0; i < 16; i += 1) {\r\n        ipad[i] = bkey[i] ^ 0x36363636;\r\n        opad[i] = bkey[i] ^ 0x5C5C5C5C;\r\n    }\r\n    hash = binlMD5(ipad.concat(rstr2binl(data)), 512 + data.length * 8);\r\n    return binl2rstr(binlMD5(opad.concat(hash), 512 + 128))\r\n}\r\n\r\n/*\r\n* Convert a raw string to a hex string\r\n*/\r\nfunction rstr2hex(input) {\r\n    var hexTab = '0123456789abcdef';\r\n    var output = '';\r\n    var x;\r\n    var i;\r\n    for (i = 0; i < input.length; i += 1) {\r\n        x = input.charCodeAt(i);\r\n        output += hexTab.charAt((x >>> 4) & 0x0F) +\r\n            hexTab.charAt(x & 0x0F);\r\n    }\r\n    return output\r\n}\r\n\r\n/*\r\n* Encode a string as utf-8\r\n*/\r\nfunction str2rstrUTF8(input) {\r\n    return unescape(encodeURIComponent(input))\r\n}\r\n\r\n/*\r\n* Take string arguments and return either raw or hex encoded strings\r\n*/\r\nfunction rawMD5(s) {\r\n    return rstrMD5(str2rstrUTF8(s))\r\n}\r\nfunction hexMD5(s) {\r\n    return rstr2hex(rawMD5(s))\r\n}\r\nfunction rawHMACMD5(k, d) {\r\n    return rstrHMACMD5(str2rstrUTF8(k), str2rstrUTF8(d))\r\n}\r\nfunction hexHMACMD5(k, d) {\r\n    return rstr2hex(rawHMACMD5(k, d))\r\n}\r\n\r\nfunction md5(string, key, raw) {\r\n    if (!key) {\r\n        if (!raw) {\r\n            return hexMD5(string)\r\n        }\r\n        return rawMD5(string)\r\n    }\r\n    if (!raw) {\r\n        return hexHMACMD5(key, string)\r\n    }\r\n    return rawHMACMD5(key, string)\r\n}\r\n\r\n// TODO: asm.js\r\nclass RTP {\r\n    constructor(pkt/*uint8array*/, sdp) {\r\n        let bytes = new DataView(pkt.buffer, pkt.byteOffset, pkt.byteLength);\r\n\r\n        this.version   = bytes.getUint8(0) >>> 6;\r\n        this.padding   = bytes.getUint8(0) & 0x20 >>> 5;\r\n        this.has_extension = bytes.getUint8(0) & 0x10 >>> 4;\r\n        this.csrc      = bytes.getUint8(0) & 0x0F;\r\n        this.marker    = bytes.getUint8(1) >>> 7;\r\n        this.pt        = bytes.getUint8(1) & 0x7F;\r\n        this.sequence  = bytes.getUint16(2) ;\r\n        this.timestamp = bytes.getUint32(4);\r\n        this.ssrc      = bytes.getUint32(8);\r\n        this.csrcs     = [];\r\n\r\n        let pktIndex=12;\r\n        if (this.csrc>0) {\r\n            this.csrcs.push(bytes.getUint32(pktIndex));\r\n            pktIndex+=4;\r\n        }\r\n        if (this.has_extension==1) {\r\n            this.extension = bytes.getUint16(pktIndex);\r\n            this.ehl = bytes.getUint16(pktIndex+2);\r\n            pktIndex+=4;\r\n            this.header_data = pkt.slice(pktIndex, this.ehl);\r\n            pktIndex += this.ehl;\r\n        }\r\n\r\n        this.headerLength = pktIndex;\r\n        let padLength = 0;\r\n        if (this.padding) {\r\n            padLength = bytes.getUint8(pkt.byteLength-1);\r\n        }\r\n\r\n        // this.bodyLength   = pkt.byteLength-this.headerLength-padLength;\r\n\r\n        this.media = sdp.getMediaBlockByPayloadType(this.pt);\r\n        if (null === this.media) {\r\n            Log.log(`Media description for payload type: ${this.pt} not provided.`);\r\n        } else {\r\n            this.type = this.media.ptype;//PayloadType.string_map[this.media.rtpmap[this.media.fmt[0]].name];\r\n        }\r\n\r\n        this.data = pkt.subarray(pktIndex);\r\n        // this.timestamp = 1000 * (this.timestamp / this.media.rtpmap[this.pt].clock);\r\n        // console.log(this);\r\n    }\r\n    getPayload() {\r\n        return this.data;\r\n    }\r\n\r\n    getTimestampMS() {\r\n        return this.timestamp; //1000 * (this.timestamp / this.media.rtpmap[this.pt].clock);\r\n    }\r\n\r\n    toString() {\r\n        return \"RTP(\" +\r\n            \"version:\"   + this.version   + \", \" +\r\n            \"padding:\"   + this.padding   + \", \" +\r\n            \"has_extension:\" + this.has_extension + \", \" +\r\n            \"csrc:\"      + this.csrc      + \", \" +\r\n            \"marker:\"    + this.marker    + \", \" +\r\n            \"pt:\"        + this.pt        + \", \" +\r\n            \"sequence:\"  + this.sequence  + \", \" +\r\n            \"timestamp:\" + this.timestamp + \", \" +\r\n            \"ssrc:\"      + this.ssrc      + \")\";\r\n    }\r\n\r\n    isVideo(){return this.media.type == 'video';}\r\n    isAudio(){return this.media.type == 'audio';}\r\n\r\n    \r\n}\r\n\r\nclass RTPFactory {\r\n    constructor(sdp) {\r\n        this.tsOffsets={};\r\n        for (let pay in sdp.media) {\r\n            for (let pt of sdp.media[pay].fmt) {\r\n                this.tsOffsets[pt] = {last: 0, overflow: 0};\r\n            }\r\n        }\r\n    }\r\n\r\n    build(pkt/*uint8array*/, sdp) {\r\n        let rtp = new RTP(pkt, sdp);\r\n\r\n        let tsOffset = this.tsOffsets[rtp.pt];\r\n        if (tsOffset) {\r\n            rtp.timestamp += tsOffset.overflow;\r\n            if (tsOffset.last && Math.abs(rtp.timestamp - tsOffset.last) > 0x7fffffff) {\r\n                console.log(`\\nlast ts: ${tsOffset.last}\\n\r\n                            new ts: ${rtp.timestamp}\\n\r\n                            new ts adjusted: ${rtp.timestamp+0xffffffff}\\n\r\n                            last overflow: ${tsOffset.overflow}\\n\r\n                            new overflow: ${tsOffset.overflow+0xffffffff}\\n\r\n                            `);\r\n                tsOffset.overflow += 0xffffffff;\r\n                rtp.timestamp += 0xffffffff;\r\n            }\r\n            /*if (rtp.timestamp>0xffffffff) {\r\n                console.log(`ts: ${rtp.timestamp}, seq: ${rtp.sequence}`);\r\n            }*/\r\n            tsOffset.last = rtp.timestamp;\r\n        }\r\n\r\n        return rtp;\r\n    }\r\n}\r\n\r\nclass RTSPMessage {\r\n    static get RTSP_1_0() {return  \"RTSP/1.0\";}\r\n\r\n    constructor(_rtsp_version) {\r\n        this.version = _rtsp_version;\r\n    }\r\n\r\n    build(_cmd, _host, _params={}, _payload=null) {\r\n        let requestString = `${_cmd} ${_host} ${this.version}\\r\\n`;\r\n        for (let param in _params) {\r\n            requestString+=`${param}: ${_params[param]}\\r\\n`;\r\n        }\r\n        // TODO: binary payload\r\n        if (_payload) {\r\n            requestString+=`Content-Length: ${_payload.length}\\r\\n`;\r\n        }\r\n        requestString+='\\r\\n';\r\n        if (_payload) {\r\n            requestString+=_payload;\r\n        }\r\n        return requestString;\r\n    }\r\n\r\n    parse(_data) {\r\n        let lines = _data.split('\\r\\n');\r\n        let parsed = {\r\n            headers:{},\r\n            body:null,\r\n            code: 0,\r\n            statusLine: ''\r\n        };\r\n\r\n        let match;\r\n        [match, parsed.code, parsed.statusLine] = lines[0].match(new RegExp(`${this.version}[ ]+([0-9]{3})[ ]+(.*)`));\r\n        parsed.code = Number(parsed.code);\r\n        let lineIdx = 1;\r\n\r\n        while (lines[lineIdx]) {\r\n            let [k,v] = lines[lineIdx].split(/:(.+)/);\r\n            parsed.headers[k.toLowerCase()] = v.trim();\r\n            lineIdx++;\r\n        }\r\n\r\n        parsed.body = lines.slice(lineIdx).join('\\n\\r');\r\n\r\n        return parsed;\r\n    }\r\n\r\n}\r\n\r\nconst MessageBuilder = new RTSPMessage(RTSPMessage.RTSP_1_0);\r\n\r\n// TODO: asm.js\r\nclass NALUAsm {\r\n\r\n    constructor() {\r\n        this.fragmented_nalu = null;\r\n    }\r\n\r\n\r\n    static parseNALHeader(hdr) {\r\n        return {\r\n            nri: hdr & 0x60,\r\n            type: hdr & 0x1F\r\n        }\r\n    }\r\n\r\n    parseSingleNALUPacket(rawData, header, dts, pts) {\r\n        return new NALU(header.type,  header.nri, rawData.subarray(0), dts, pts);\r\n    }\r\n\r\n    parseAggregationPacket(rawData, header, dts, pts) {\r\n        let data = new DataView(rawData.buffer, rawData.byteOffset, rawData.byteLength);\r\n        let nal_start_idx = 0;\r\n        let don = null;\r\n        if (NALU.STAP_B === header.type) {\r\n            don = data.getUint16(nal_start_idx);\r\n            nal_start_idx += 2;\r\n        }\r\n        let ret = [];\r\n        while (nal_start_idx < data.byteLength) {\r\n            let size = data.getUint16(nal_start_idx);\r\n            nal_start_idx += 2;\r\n            let header = NALUAsm.parseNALHeader(data.getInt8(nal_start_idx));\r\n            nal_start_idx++;\r\n            let nalu = this.parseSingleNALUPacket(rawData.subarray(nal_start_idx, nal_start_idx+size), header, dts, pts);\r\n            if (nalu !== null) {\r\n                ret.push(nalu);\r\n            }\r\n            nal_start_idx+=size;\r\n        }\r\n        return ret;\r\n    }\r\n\r\n    parseFragmentationUnit(rawData, header, dts, pts) {\r\n        let data = new DataView(rawData.buffer, rawData.byteOffset, rawData.byteLength);\r\n        let nal_start_idx = 0;\r\n        let fu_header = data.getUint8(nal_start_idx);\r\n        let is_start = (fu_header & 0x80) >>> 7;\r\n        let is_end = (fu_header & 0x40) >>> 6;\r\n        let payload_type = fu_header & 0x1F;\r\n        let ret = null;\r\n\r\n        nal_start_idx++;\r\n        let don = 0;\r\n        if (NALU.FU_B === header.type) {\r\n            don = data.getUint16(nal_start_idx);\r\n            nal_start_idx += 2;\r\n        }\r\n\r\n        if (is_start) {\r\n            this.fragmented_nalu = new NALU(payload_type, header.nri, rawData.subarray(nal_start_idx), dts, pts);\r\n        }\r\n        if (this.fragmented_nalu && this.fragmented_nalu.ntype === payload_type) {\r\n            if (!is_start) {\r\n                this.fragmented_nalu.appendData(rawData.subarray(nal_start_idx));\r\n            }\r\n            if (is_end) {\r\n                ret = this.fragmented_nalu;\r\n                this.fragmented_nalu = null;\r\n                return ret;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    onNALUFragment(rawData, dts, pts) {\r\n\r\n        let data = new DataView(rawData.buffer, rawData.byteOffset, rawData.byteLength);\r\n\r\n        let header = NALUAsm.parseNALHeader(data.getUint8(0));\r\n\r\n        let nal_start_idx = 1;\r\n\r\n        let unit = null;\r\n        if (header.type > 0 && header.type < 24) {\r\n            unit = this.parseSingleNALUPacket(rawData.subarray(nal_start_idx), header, dts, pts);\r\n        } else if (NALU.FU_A ===  header.type || NALU.FU_B ===  header.type) {\r\n            unit = this.parseFragmentationUnit(rawData.subarray(nal_start_idx), header, dts, pts);\r\n        } else if (NALU.STAP_A === header.type || NALU.STAP_B === header.type) {\r\n            return this.parseAggregationPacket(rawData.subarray(nal_start_idx), header, dts, pts);\r\n        } else {\r\n            /* 30 - 31 is undefined, ignore those (RFC3984). */\r\n            Log.log('Undefined NAL unit, type: ' + header.type);\r\n            return null;\r\n        }\r\n        if (unit) {\r\n            return [unit];\r\n        }\r\n        return null;\r\n    }\r\n}\r\n\r\nclass AACFrame {\r\n\r\n    constructor(data, dts, pts) {\r\n        this.dts = dts;\r\n        this.pts = pts ? pts : this.dts;\r\n\r\n        this.data=data;//.subarray(offset);\r\n    }\r\n\r\n    getData() {\r\n        return this.data;\r\n    }\r\n\r\n    getSize() {\r\n        return this.data.byteLength;\r\n    }\r\n}\r\n\r\n// import {AACParser} from \"../parsers/aac.js\";\r\n// TODO: asm.js\r\nclass AACAsm {\r\n    constructor() {\r\n        this.config = null;\r\n    }\r\n\r\n    onAACFragment(pkt) {\r\n        let rawData = pkt.getPayload();\r\n        if (!pkt.media) {\r\n            return null;\r\n        }\r\n        let data = new DataView(rawData.buffer, rawData.byteOffset, rawData.byteLength);\r\n\r\n        let sizeLength = Number(pkt.media.fmtp['sizelength'] || 0);\r\n        let indexLength = Number(pkt.media.fmtp['indexlength'] || 0);\r\n        let indexDeltaLength = Number(pkt.media.fmtp['indexdeltalength'] || 0);\r\n        let CTSDeltaLength = Number(pkt.media.fmtp['ctsdeltalength'] || 0);\r\n        let DTSDeltaLength = Number(pkt.media.fmtp['dtsdeltalength'] || 0);\r\n        let RandomAccessIndication = Number(pkt.media.fmtp['randomaccessindication'] || 0);\r\n        let StreamStateIndication = Number(pkt.media.fmtp['streamstateindication'] || 0);\r\n        let AuxiliaryDataSizeLength = Number(pkt.media.fmtp['auxiliarydatasizelength'] || 0);\r\n\r\n        let configHeaderLength =\r\n            sizeLength + Math.max(indexLength, indexDeltaLength) + CTSDeltaLength + DTSDeltaLength +\r\n            RandomAccessIndication + StreamStateIndication + AuxiliaryDataSizeLength;\r\n\r\n\r\n        let auHeadersLengthPadded = 0;\r\n        let offset = 0;\r\n        let ts = (Math.round(pkt.getTimestampMS()/1024) << 10) * 90000 / this.config.samplerate;\r\n        if (0 !== configHeaderLength) {\r\n            /* The AU header section is not empty, read it from payload */\r\n            let auHeadersLengthInBits = data.getUint16(0); // Always 2 octets, without padding\r\n            auHeadersLengthPadded = 2 + (auHeadersLengthInBits>>>3) + ((auHeadersLengthInBits & 0x7)?1:0); // Add padding\r\n\r\n            //this.config = AACParser.parseAudioSpecificConfig(new Uint8Array(rawData, 0 , auHeadersLengthPadded));\r\n            // TODO: parse config\r\n            let frames = [];\r\n            let frameOffset=0;\r\n            let bits = new BitArray(rawData.subarray(2 + offset));\r\n            let cts = 0;\r\n            let dts = 0;\r\n            for (let offset=0; offset<auHeadersLengthInBits;) {\r\n                let size = bits.readBits(sizeLength);\r\n                let idx = bits.readBits(offset?indexDeltaLength:indexLength);\r\n                offset+=sizeLength+(offset?indexDeltaLength:indexLength)/*+2*/;\r\n                if (/*ctsPresent &&*/ CTSDeltaLength) {\r\n                    let ctsPresent = bits.readBits(1);\r\n                    cts = bits.readBits(CTSDeltaLength);\r\n                    offset+=CTSDeltaLength;\r\n                }\r\n                if (/*dtsPresent && */DTSDeltaLength) {\r\n                    let dtsPresent = bits.readBits(1);\r\n                    dts = bits.readBits(DTSDeltaLength);\r\n                    offset+=CTSDeltaLength;\r\n                }\r\n                if (RandomAccessIndication) {\r\n                    bits.skipBits(1);\r\n                    offset+=1;\r\n                }\r\n                if (StreamStateIndication) {\r\n                    bits.skipBits(StreamStateIndication);\r\n                    offset+=StreamStateIndication;\r\n                }\r\n                frames.push(new AACFrame(rawData.subarray(auHeadersLengthPadded + frameOffset, auHeadersLengthPadded + frameOffset + size), ts+dts, ts+cts));\r\n                frameOffset+=size;\r\n            }\r\n            return frames;\r\n        } else {\r\n            let aacData = rawData.subarray(auHeadersLengthPadded);\r\n            while (true) {\r\n                if (aacData[offset] !=255) break;\r\n                ++offset;\r\n            }\r\n            ++offset;\r\n            return [new AACFrame(rawData.subarray(auHeadersLengthPadded+offset), ts)];\r\n        }\r\n    }\r\n}\r\n\r\nclass RTPPayloadParser {\r\n\r\n    constructor() {\r\n        this.h264parser = new RTPH264Parser();\r\n        this.aacparser = new RTPAACParser();\r\n    }\r\n\r\n    parse(rtp) {\r\n        if (rtp.media.type=='video') {\r\n            return this.h264parser.parse(rtp);\r\n        } else if (rtp.media.type == 'audio') {\r\n            return this.aacparser.parse(rtp);\r\n        }\r\n        return null;\r\n    }\r\n}\r\n\r\nclass RTPH264Parser {\r\n    constructor() {\r\n        this.naluasm = new NALUAsm();\r\n    }\r\n\r\n    parse(rtp) {\r\n        return this.naluasm.onNALUFragment(rtp.getPayload(), rtp.getTimestampMS());\r\n    }\r\n}\r\n\r\nclass RTPAACParser {\r\n\r\n    constructor() {\r\n        this.scale = 1;\r\n        this.asm = new AACAsm();\r\n    }\r\n\r\n    setConfig(conf) {\r\n        this.asm.config = conf;\r\n    }\r\n\r\n    parse(rtp) {\r\n        return this.asm.onAACFragment(rtp);\r\n    }\r\n}\r\n\r\nclass BaseClient {\r\n    constructor(options={flush: 100}) {\r\n        this.options = options;\r\n        this.eventSource = new EventEmitter();\r\n\r\n        Object.defineProperties(this, {\r\n            sourceUrl: {value: null, writable: true},   // TODO: getter with validator\r\n            paused: {value: true, writable: true},\r\n            seekable: {value: false, writable: true},\r\n            connected: {value: false, writable: true}\r\n        });\r\n\r\n        this._onData = ()=>{\r\n            if (this.connected) {\r\n                while (this.transport.dataQueue.length) {\r\n                    this.onData(this.transport.dataQueue.pop());\r\n                }\r\n            }\r\n        };\r\n        this._onConnect = this.onConnected.bind(this);\r\n        this._onDisconnect = this.onDisconnected.bind(this);\r\n    }\r\n\r\n    static streamType() {\r\n        return null;    \r\n    }\r\n    \r\n    destroy() {\r\n        this.detachTransport();\r\n    }\r\n\r\n    attachTransport(transport) {\r\n        if (this.transport) {\r\n            this.detachTransport();\r\n        }\r\n        this.transport = transport;\r\n        this.transport.eventSource.addEventListener('data', this._onData);\r\n        this.transport.eventSource.addEventListener('connected', this._onConnect);\r\n        this.transport.eventSource.addEventListener('disconnected', this._onDisconnect);\r\n    }\r\n\r\n    detachTransport() {\r\n        if (this.transport) {\r\n            this.transport.eventSource.removeEventListener('data', this._onData);\r\n            this.transport.eventSource.removeEventListener('connected', this._onConnect);\r\n            this.transport.eventSource.removeEventListener('disconnected', this._onDisconnect);\r\n            this.transport = null;\r\n        }\r\n    }\r\n    reset() {\r\n\r\n    }\r\n\r\n    start() {\r\n        Log.log('Client started');\r\n        this.paused = false;\r\n        // this.startStreamFlush();\r\n    }\r\n\r\n    stop() {\r\n        Log.log('Client paused');\r\n        this.paused = true;\r\n        // this.stopStreamFlush();\r\n    }\r\n\r\n    seek(timeOffset) {\r\n\r\n    }\r\n\r\n    setSource(source) {\r\n        this.stop();\r\n        this.endpoint = source;\r\n        this.sourceUrl = source.urlpath;\r\n    }\r\n\r\n    startStreamFlush() {\r\n        this.flushInterval = setInterval(()=>{\r\n            if (!this.paused) {\r\n                this.eventSource.dispatchEvent('flush');\r\n            }\r\n        }, this.options.flush);\r\n    }\r\n\r\n    stopStreamFlush() {\r\n        clearInterval(this.flushInterval);\r\n    }\r\n\r\n    onData(data) {\r\n\r\n    }\r\n\r\n    onConnected() {\r\n        if (!this.seekable) {\r\n            this.transport.dataQueue = [];\r\n            this.eventSource.dispatchEvent('clear');\r\n        }\r\n        this.connected = true;\r\n    }\r\n\r\n    onDisconnected() {\r\n        this.connected = false;\r\n    }\r\n\r\n    queryCredentials() {\r\n        return Promise.resolve();\r\n    }\r\n\r\n    setCredentials(user, password) {\r\n        this.endpoint.user = user;\r\n        this.endpoint.pass = password;\r\n        this.endpoint.auth = `${user}:${password}`;\r\n    }\r\n}\r\n\r\nclass AACParser {\r\n    static get SampleRates() {return  [\r\n        96000, 88200,\r\n        64000, 48000,\r\n        44100, 32000,\r\n        24000, 22050,\r\n        16000, 12000,\r\n        11025, 8000,\r\n        7350];}\r\n\r\n    // static Profile = [\r\n    //     0: Null\r\n    //     1: AAC Main\r\n    //     2: AAC LC (Low Complexity)\r\n    //     3: AAC SSR (Scalable Sample Rate)\r\n    //     4: AAC LTP (Long Term Prediction)\r\n    //     5: SBR (Spectral Band Replication)\r\n    //     6: AAC Scalable\r\n    // ]\r\n\r\n    static parseAudioSpecificConfig(bytesOrBits) {\r\n        let config;\r\n        if (bytesOrBits.byteLength) { // is byteArray\r\n            config = new BitArray(bytesOrBits);\r\n        } else {\r\n            config = bytesOrBits;\r\n        }\r\n\r\n        let bitpos = config.bitpos+(config.src.byteOffset+config.bytepos)*8;\r\n        let prof = config.readBits(5);\r\n        this.codec = `mp4a.40.${prof}`;\r\n        let sfi = config.readBits(4);\r\n        if (sfi == 0xf) config.skipBits(24);\r\n        let channels = config.readBits(4);\r\n\r\n        return {\r\n            config: bitSlice(new Uint8Array(config.src.buffer), bitpos, bitpos+16),\r\n            codec: `mp4a.40.${prof}`,\r\n            samplerate: AACParser.SampleRates[sfi],\r\n            channels: channels\r\n        }\r\n    }\r\n\r\n    static parseStreamMuxConfig(bytes) {\r\n        // ISO_IEC_14496-3 Part 3 Audio. StreamMuxConfig\r\n        let config = new BitArray(bytes);\r\n\r\n        if (!config.readBits(1)) {\r\n            config.skipBits(14);\r\n            return AACParser.parseAudioSpecificConfig(config);\r\n        }\r\n    }\r\n}\r\n\r\nconst LOG_TAG$3 = \"rtsp:session\";\r\nconst Log$8 = getTagged(LOG_TAG$3);\r\n\r\nclass RTSPSession {\r\n\r\n    constructor(client, sessionId) {\r\n        this.state = null;\r\n        this.client = client;\r\n        this.sessionId = sessionId;\r\n        this.url = this.getControlURL();\r\n    }\r\n\r\n    reset() {\r\n        this.client = null;\r\n    }\r\n\r\n    start() {\r\n        return this.sendPlay();\r\n    }\r\n\r\n    stop() {\r\n        return this.sendTeardown();\r\n    }\r\n\r\n    getControlURL() {\r\n        let ctrl = this.client.sdp.getSessionBlock().control;\r\n        if (Url.isAbsolute(ctrl)) {\r\n            return ctrl;\r\n        } else if (!ctrl || '*' === ctrl) {\r\n            return this.client.contentBase;\r\n        } else {\r\n            return `${this.client.contentBase}${ctrl}`;\r\n        }\r\n    }\r\n\r\n    sendRequest(_cmd, _params = {}) {\r\n        let params = {};\r\n        if (this.sessionId) {\r\n            params['Session'] = this.sessionId;\r\n        }\r\n        Object.assign(params, _params);\r\n        return this.client.sendRequest(_cmd, this.getControlURL(), params);\r\n    }\r\n\r\n    async sendPlay(pos = 0) {\r\n        this.state = RTSPClientSM.STATE_PLAY;\r\n        let params = {};\r\n        let range = this.client.sdp.sessionBlock.range;\r\n        if (range) {\r\n            // TODO: seekable\r\n            if (range[0] == -1) {\r\n                range[0] = 0;// Do not handle now at the moment\r\n            }\r\n            // params['Range'] = `${range[2]}=${range[0]}-`;\r\n        }\r\n        let data = await this.sendRequest('PLAY', params);\r\n        this.state = RTSPClientSM.STATE_PLAYING;\r\n        return {data: data};\r\n    }\r\n\r\n    async sendPause() {\r\n        if (!this.client.supports(\"PAUSE\")) {\r\n            return;\r\n        }\r\n        this.state = RTSPClientSM.STATE_PAUSE;\r\n        await this.sendRequest(\"PAUSE\");\r\n        this.state = RTSPClientSM.STATE_PAUSED;\r\n    }\r\n\r\n    async sendTeardown() {\r\n        if (this.state != RTSPClientSM.STATE_TEARDOWN) {\r\n            this.state = RTSPClientSM.STATE_TEARDOWN;\r\n            await this.sendRequest(\"TEARDOWN\");\r\n            Log$8.log('RTSPClient: STATE_TEARDOWN');\r\n            ///this.client.connection.disconnect();\r\n            // TODO: Notify client\r\n        }\r\n    }\r\n}\r\n\r\n// import {RTP} from './rtp/rtp';\r\nconst LOG_TAG$4 = \"client:rtsp\";\r\nconst Log$9 = getTagged(LOG_TAG$4);\r\n\r\n\r\n\r\nclass RTSPClient extends BaseClient {\r\n    constructor(options={flush: 200}) {\r\n        super(options);\r\n        this.clientSM = new RTSPClientSM(this);\r\n        this.clientSM.ontracks = (tracks) => {\r\n            this.eventSource.dispatchEvent('tracks', tracks);\r\n            this.startStreamFlush();\r\n        };\r\n        this.sampleQueues={};\r\n    }\r\n    \r\n    static streamType() {\r\n        return 'rtsp';\r\n    }\r\n\r\n    setSource(url) {\r\n        super.setSource(url);\r\n        this.clientSM.setSource(url);\r\n    }\r\n    attachTransport(transport) {\r\n        super.attachTransport(transport);\r\n        this.clientSM.transport = transport\r\n        ;\r\n    }\r\n\r\n    detachTransport() {\r\n        super.detachTransport();\r\n        this.clientSM.transport = null;\r\n    }\r\n\r\n    reset() {\r\n        super.reset();\r\n        this.sampleQueues={};\r\n    }\r\n\r\n    destroy() {\r\n        this.clientSM.destroy();\r\n        return super.destroy();\r\n    }\r\n\r\n    start() {\r\n        super.start();\r\n        if (this.transport) {\r\n            return this.transport.ready.then(() => {\r\n                return this.clientSM.start();\r\n            });\r\n        } else {\r\n            return Promise.reject(\"no transport attached\");\r\n        }\r\n    }\r\n\r\n    stop() {\r\n        super.stop();\r\n        return this.clientSM.stop();\r\n    }\r\n\r\n    onData(data) {\r\n        this.clientSM.onData(data);\r\n    }\r\n\r\n    onConnected() {\r\n        this.clientSM.onConnected();\r\n        super.onConnected();\r\n    }\r\n\r\n    onDisconnected() {\r\n        super.onDisconnected();\r\n        this.clientSM.onDisconnected();\r\n    }\r\n}\r\n\r\nclass AuthError extends Error {\r\n    constructor(msg) {\r\n        super(msg);\r\n    }\r\n}\r\n\r\nclass RTSPError extends Error {\r\n    constructor(data) {\r\n        super(data.msg);\r\n        this.data = data;\r\n    }\r\n}\r\n\r\nclass RTSPClientSM extends StateMachine {\r\n    static get USER_AGENT() {return 'SFRtsp 0.3';}\r\n    static get STATE_INITIAL() {return  1 << 0;}\r\n    static get STATE_OPTIONS() {return 1 << 1;}\r\n    static get STATE_DESCRIBE () {return  1 << 2;}\r\n    static get STATE_SETUP() {return  1 << 3;}\r\n    static get STATE_STREAMS() {return 1 << 4;}\r\n    static get STATE_TEARDOWN() {return  1 << 5;}\r\n    static get STATE_PLAY() {return  1 << 6;}\r\n    static get STATE_PLAYING() {return  1 << 7;}\r\n    static get STATE_PAUSE() {return  1 << 8;}\r\n    static get STATE_PAUSED() {return  1 << 9;}\r\n    // static STATE_PAUSED = 1 << 6;\r\n\r\n    constructor(parent) {\r\n        super();\r\n\r\n        this.parent = parent;\r\n        this.transport = null;\r\n        this.payParser = new RTPPayloadParser();\r\n        this.rtp_channels = new Set();\r\n        this.sessions = {};\r\n        this.ontracks = null;\r\n\r\n        this.addState(RTSPClientSM.STATE_INITIAL,{\r\n        }).addState(RTSPClientSM.STATE_OPTIONS, {\r\n            activate: this.sendOptions,\r\n            finishTransition: this.onOptions\r\n        }).addState(RTSPClientSM.STATE_DESCRIBE, {\r\n            activate: this.sendDescribe,\r\n            finishTransition: this.onDescribe\r\n        }).addState(RTSPClientSM.STATE_SETUP, {\r\n            activate: this.sendSetup,\r\n            finishTransition: this.onSetup\r\n        }).addState(RTSPClientSM.STATE_STREAMS, {\r\n\r\n        }).addState(RTSPClientSM.STATE_TEARDOWN, {\r\n            activate: ()=>{\r\n                this.started = false;\r\n            },\r\n            finishTransition: ()=>{\r\n                return this.transitionTo(RTSPClientSM.STATE_INITIAL)\r\n            }\r\n        }).addTransition(RTSPClientSM.STATE_INITIAL, RTSPClientSM.STATE_OPTIONS)\r\n            .addTransition(RTSPClientSM.STATE_INITIAL, RTSPClientSM.STATE_TEARDOWN)\r\n            .addTransition(RTSPClientSM.STATE_OPTIONS, RTSPClientSM.STATE_DESCRIBE)\r\n            .addTransition(RTSPClientSM.STATE_DESCRIBE, RTSPClientSM.STATE_SETUP)\r\n            .addTransition(RTSPClientSM.STATE_SETUP, RTSPClientSM.STATE_STREAMS)\r\n            .addTransition(RTSPClientSM.STATE_TEARDOWN, RTSPClientSM.STATE_INITIAL)\r\n            // .addTransition(RTSPClientSM.STATE_STREAMS, RTSPClientSM.STATE_PAUSED)\r\n            // .addTransition(RTSPClientSM.STATE_PAUSED, RTSPClientSM.STATE_STREAMS)\r\n            .addTransition(RTSPClientSM.STATE_STREAMS, RTSPClientSM.STATE_TEARDOWN)\r\n            // .addTransition(RTSPClientSM.STATE_PAUSED, RTSPClientSM.STATE_TEARDOWN)\r\n            .addTransition(RTSPClientSM.STATE_SETUP, RTSPClientSM.STATE_TEARDOWN)\r\n            .addTransition(RTSPClientSM.STATE_DESCRIBE, RTSPClientSM.STATE_TEARDOWN)\r\n            .addTransition(RTSPClientSM.STATE_OPTIONS, RTSPClientSM.STATE_TEARDOWN);\r\n\r\n        this.reset();\r\n\r\n        this.shouldReconnect = false;\r\n\r\n        // TODO: remove listeners\r\n        // this.connection.eventSource.addEventListener('connected', ()=>{\r\n        //     if (this.shouldReconnect) {\r\n        //         this.reconnect();\r\n        //     }\r\n        // });\r\n        // this.connection.eventSource.addEventListener('disconnected', ()=>{\r\n        //     if (this.started) {\r\n        //         this.shouldReconnect = true;\r\n        //     }\r\n        // });\r\n        // this.connection.eventSource.addEventListener('data', (data)=>{\r\n        //     let channel = new DataView(data).getUint8(1);\r\n        //     if (this.rtp_channels.has(channel)) {\r\n        //         this.onRTP({packet: new Uint8Array(data, 4), type: channel});\r\n        //     }\r\n        //\r\n        // });\r\n    }\r\n\r\n    destroy() {\r\n        this.parent = null;\r\n    }\r\n\r\n    setSource(url) {\r\n        this.reset();\r\n        this.endpoint = url;\r\n        this.url = `${url.protocol}://${url.location}${url.urlpath}`;\r\n    }\r\n\r\n    onConnected() {\r\n        if (this.rtpFactory) {\r\n            this.rtpFactory = null;\r\n        }\r\n        if (this.shouldReconnect) {\r\n            this.start();\r\n        }\r\n    }\r\n\r\n    async onDisconnected() {\r\n        this.reset();\r\n        this.shouldReconnect = true;\r\n        await this.transitionTo(RTSPClientSM.STATE_TEARDOWN);\r\n        await this.transitionTo(RTSPClientSM.STATE_INITIAL);\r\n    }\r\n\r\n    start() {\r\n        if (this.currentState.name !== RTSPClientSM.STATE_STREAMS) {\r\n            return this.transitionTo(RTSPClientSM.STATE_OPTIONS);\r\n        } else {\r\n            // TODO: seekable\r\n            let promises = [];\r\n            for (let session in this.sessions) {\r\n                promises.push(this.sessions[session].sendPlay());\r\n            }\r\n            return Promise.all(promises);\r\n        }\r\n    }\r\n\r\n    onData(data) {\r\n        let channel = data[1];\r\n        if (this.rtp_channels.has(channel)) {\r\n            this.onRTP({packet: data.subarray(4), type: channel});\r\n        }\r\n    }\r\n\r\n    useRTPChannel(channel) {\r\n        this.rtp_channels.add(channel);\r\n    }\r\n\r\n    forgetRTPChannel(channel) {\r\n        this.rtp_channels.delete(channel);\r\n    }\r\n\r\n    stop() {\r\n        this.shouldReconnect = false;\r\n        let promises = [];\r\n        for (let session in this.sessions) {\r\n            promises.push(this.sessions[session].sendPause());\r\n        }\r\n        return Promise.all(promises);\r\n        // this.mse = null;\r\n    }\r\n\r\n    async reset() {\r\n        this.authenticator = '';\r\n        this.methods = [];\r\n        this.tracks = [];\r\n        this.rtpBuffer={};\r\n        for (let stream in this.streams) {\r\n            this.streams[stream].reset();\r\n        }\r\n        for (let session in this.sessions) {\r\n            this.sessions[session].reset();\r\n        }\r\n        this.streams={};\r\n        this.sessions={};\r\n        this.contentBase = \"\";\r\n        if (this.currentState) {\r\n            if (this.currentState.name != RTSPClientSM.STATE_INITIAL) {\r\n                await this.transitionTo(RTSPClientSM.STATE_TEARDOWN);\r\n                await this.transitionTo(RTSPClientSM.STATE_INITIAL);\r\n            }\r\n        } else {\r\n            await this.transitionTo(RTSPClientSM.STATE_INITIAL);\r\n        }\r\n        this.sdp = null;\r\n        this.interleaveChannelIndex = 0;\r\n        this.session = null;\r\n        this.timeOffset = {};\r\n        this.lastTimestamp = {};\r\n    }\r\n\r\n    async reconnect() {\r\n        //this.parent.eventSource.dispatchEvent('clear');\r\n        await this.reset();\r\n        if (this.currentState.name != RTSPClientSM.STATE_INITIAL) {\r\n            await this.transitionTo(RTSPClientSM.STATE_TEARDOWN);\r\n            return this.transitionTo(RTSPClientSM.STATE_OPTIONS);\r\n        } else {\r\n            return this.transitionTo(RTSPClientSM.STATE_OPTIONS);\r\n        }\r\n    }\r\n\r\n    supports(method) {\r\n        return this.methods.includes(method)\r\n    }\r\n\r\n    parse(_data) {\r\n        Log$9.debug(_data.payload);\r\n        let d=_data.payload.split('\\r\\n\\r\\n');\r\n        let parsed =  MessageBuilder.parse(d[0]);\r\n        let len = Number(parsed.headers['content-length']);\r\n        if (len) {\r\n            let d=_data.payload.split('\\r\\n\\r\\n');\r\n            parsed.body = d[1];\r\n        } else {\r\n            parsed.body=\"\";\r\n        }\r\n        return parsed\r\n    }\r\n\r\n    sendRequest(_cmd, _host, _params={}, _payload=null) {\r\n        this.cSeq++;\r\n        Object.assign(_params, {\r\n            CSeq: this.cSeq,\r\n            'User-Agent': RTSPClientSM.USER_AGENT\r\n        });\r\n        if (this.authenticator) {\r\n            _params['Authorization'] = this.authenticator(_cmd);\r\n        }\r\n        return this.send(MessageBuilder.build(_cmd, _host, _params, _payload), _cmd).catch((e)=>{\r\n            if ((e instanceof AuthError) && !_params['Authorization'] ) {\r\n                return this.sendRequest(_cmd, _host, _params, _payload);\r\n            } else {\r\n                throw e;\r\n            }\r\n        });\r\n    }\r\n\r\n    async send(_data, _method) {\r\n        if (this.transport) {\r\n            try {\r\n                await this.transport.ready;\r\n            } catch(e) {\r\n                this.onDisconnected();\r\n                throw e;\r\n            }\r\n            Log$9.debug(_data);\r\n            let response = await this.transport.send(_data);\r\n            let parsed = this.parse(response);\r\n            // TODO: parse status codes\r\n            if (parsed.code == 401 /*&& !this.authenticator */) {\r\n                Log$9.debug(parsed.headers['www-authenticate']);\r\n                let auth = parsed.headers['www-authenticate'];\r\n                let method = auth.substring(0, auth.indexOf(' '));\r\n                auth = auth.substr(method.length+1);\r\n                let chunks = auth.split(',');\r\n\r\n                let ep = this.parent.endpoint;\r\n                if (!ep.user || !ep.pass) {\r\n                    try {\r\n                        await this.parent.queryCredentials.call(this.parent);\r\n                    } catch (e) {\r\n                        throw new AuthError();\r\n                    }\r\n                }\r\n\r\n                if (method.toLowerCase() == 'digest') {\r\n                    let parsedChunks = {};\r\n                    for (let chunk of chunks) {\r\n                        let c = chunk.trim();\r\n                        let [k,v] = c.split('=');\r\n                        parsedChunks[k] = v.substr(1, v.length-2);\r\n                    }\r\n                    this.authenticator = (_method)=>{\r\n                        let ep = this.parent.endpoint;\r\n                        let ha1 = md5(`${ep.user}:${parsedChunks.realm}:${ep.pass}`);\r\n                        let ha2 = md5(`${_method}:${this.url}`);\r\n                        let response = md5(`${ha1}:${parsedChunks.nonce}:${ha2}`);\r\n                        let tail=''; // TODO: handle other params\r\n                        return `Digest username=\"${ep.user}\", realm=\"${parsedChunks.realm}\", nonce=\"${parsedChunks.nonce}\", uri=\"${this.url}\", response=\"${response}\"${tail}`;\r\n                    };\r\n                } else {\r\n                    this.authenticator = ()=>{return `Basic ${btoa(this.parent.endpoint.auth)}`;};\r\n                }\r\n\r\n                throw new AuthError(parsed);\r\n            }\r\n            if (parsed.code >= 300) {\r\n                Log$9.error(parsed.statusLine);\r\n                throw new RTSPError({msg: `RTSP error: ${parsed.code} ${parsed.statusLine}`, parsed: parsed});\r\n            }\r\n            return parsed;\r\n        } else {\r\n            return Promise.reject(\"No transport attached\");\r\n        }\r\n    }\r\n\r\n    sendOptions() {\r\n        this.reset();\r\n        this.started = true;\r\n        this.cSeq = 0;\r\n        return this.sendRequest('OPTIONS', '*', {});\r\n    }\r\n\r\n    onOptions(data) {\r\n        this.methods = data.headers['public'].split(',').map((e)=>e.trim());\r\n        this.transitionTo(RTSPClientSM.STATE_DESCRIBE);\r\n    }\r\n\r\n    sendDescribe() {\r\n        return this.sendRequest('DESCRIBE', this.url, {\r\n            'Accept': 'application/sdp'\r\n        }).then((data)=>{\r\n            this.sdp = new SDPParser();\r\n            return this.sdp.parse(data.body).catch(()=>{\r\n                throw new Error(\"Failed to parse SDP\");\r\n            }).then(()=>{return data;});\r\n        });\r\n    }\r\n\r\n    onDescribe(data) {\r\n        this.contentBase = data.headers['content-base'] || this.url;// `${this.endpoint.protocol}://${this.endpoint.location}${this.endpoint.urlpath}/`;\r\n        this.tracks = this.sdp.getMediaBlockList();\r\n        this.rtpFactory = new RTPFactory(this.sdp);\r\n\r\n        Log$9.log('SDP contained ' + this.tracks.length + ' track(s). Calling SETUP for each.');\r\n\r\n        if (data.headers['session']) {\r\n            this.session = data.headers['session'];\r\n        }\r\n\r\n        if (!this.tracks.length) {\r\n            throw new Error(\"No tracks in SDP\");\r\n        }\r\n\r\n        this.transitionTo(RTSPClientSM.STATE_SETUP);\r\n    }\r\n\r\n    sendSetup() {\r\n        let streams=[];\r\n\r\n        // TODO: select first video and first audio tracks\r\n        for (let track_type of this.tracks) {\r\n            Log$9.log(\"setup track: \"+track_type);\r\n            // if (track_type=='audio') continue;\r\n            // if (track_type=='video') continue;\r\n            let track = this.sdp.getMediaBlock(track_type);\r\n            if (!PayloadType.string_map[track.rtpmap[track.fmt[0]].name]) continue;\r\n\r\n            this.streams[track_type] = new RTSPStream(this, track);\r\n            let setupPromise = this.streams[track_type].start();\r\n            this.parent.sampleQueues[PayloadType.string_map[track.rtpmap[track.fmt[0]].name]]=[];\r\n            this.rtpBuffer[track.fmt[0]]=[];\r\n            streams.push(setupPromise.then(({track, data})=>{\r\n                this.timeOffset[track.fmt[0]] = 0;\r\n                try {\r\n                    let rtp_info = data.headers[\"rtp-info\"].split(';');\r\n                    for (let chunk of rtp_info) {\r\n                        let [key, val] = chunk.split(\"=\");\r\n                        if (key === \"rtptime\") {\r\n                            this.timeOffset[track.fmt[0]] = 0;//Number(val);\r\n                        }\r\n                    }\r\n                } catch (e) {\r\n                    // new Date().getTime();\r\n                }\r\n                let params = {\r\n                    timescale: 0,\r\n                    scaleFactor: 0\r\n                };\r\n                if (track.fmtp['sprop-parameter-sets']) {\r\n                    let sps_pps = track.fmtp['sprop-parameter-sets'].split(',');\r\n                    params = {\r\n                        sps:base64ToArrayBuffer(sps_pps[0]),\r\n                        pps:base64ToArrayBuffer(sps_pps[1])\r\n                    };\r\n                } else if (track.fmtp['config']) {\r\n                    let config = track.fmtp['config'];\r\n                    this.has_config = track.fmtp['cpresent']!='0';\r\n                    let generic = track.rtpmap[track.fmt[0]].name == 'MPEG4-GENERIC';\r\n                    if (generic) {\r\n                        params={config:\r\n                            AACParser.parseAudioSpecificConfig(hexToByteArray(config))\r\n                        };\r\n                        this.payParser.aacparser.setConfig(params.config);\r\n                    } else if (config) {\r\n                        // todo: parse audio specific config for mpeg4-generic\r\n                        params={config:\r\n                            AACParser.parseStreamMuxConfig(hexToByteArray(config))\r\n                        };\r\n                        this.payParser.aacparser.setConfig(params.config);\r\n                    }\r\n                }\r\n                params.duration = this.sdp.sessionBlock.range?this.sdp.sessionBlock.range[1]-this.sdp.sessionBlock.range[0]:1;\r\n                this.parent.seekable = (params.duration > 1);\r\n                let res = {\r\n                    track: track,\r\n                    offset: this.timeOffset[track.fmt[0]],\r\n                    type: PayloadType.string_map[track.rtpmap[track.fmt[0]].name],\r\n                    params: params,\r\n                    duration: params.duration\r\n                };\r\n                console.log(res, this.timeOffset);\r\n                let session = data.headers.session.split(';')[0];\r\n                if (!this.sessions[session]) {\r\n                    this.sessions[session] = new RTSPSession(this, session);\r\n                }\r\n                return res;\r\n            }));\r\n        }\r\n        return Promise.all(streams).then((tracks)=>{\r\n            let sessionPromises = [];\r\n            for (let session in this.sessions) {\r\n                sessionPromises.push(this.sessions[session].start());\r\n            }\r\n            return Promise.all(sessionPromises).then(()=>{\r\n                if (this.ontracks) {\r\n                    this.ontracks(tracks);\r\n                }\r\n            })\r\n        }).catch((e)=>{\r\n            console.error(e);\r\n            this.stop();\r\n            this.reset();\r\n        });\r\n    }\r\n\r\n    onSetup() {\r\n        this.transitionTo(RTSPClientSM.STATE_STREAMS);\r\n    }\r\n\r\n    onRTP(_data) {\r\n        if (!this.rtpFactory) return;\r\n\r\n        let rtp = this.rtpFactory.build(_data.packet, this.sdp);\r\n        if (!rtp.type) {\r\n            return;\r\n        }\r\n\r\n        if (this.timeOffset[rtp.pt] === undefined) {\r\n            //console.log(rtp.pt, this.timeOffset[rtp.pt]);\r\n            this.rtpBuffer[rtp.pt].push(rtp);\r\n            return;\r\n        }\r\n\r\n        if (this.lastTimestamp[rtp.pt] === undefined) {\r\n            this.lastTimestamp[rtp.pt] = rtp.timestamp-this.timeOffset[rtp.pt];\r\n        }\r\n\r\n        let queue = this.rtpBuffer[rtp.pt];\r\n        queue.push(rtp);\r\n\r\n        while (queue.length) {\r\n            let rtp = queue.shift();\r\n\r\n            rtp.timestamp = rtp.timestamp-this.timeOffset[rtp.pt]-this.lastTimestamp[rtp.pt];\r\n            // TODO: overflow\r\n            // if (rtp.timestamp < 0) {\r\n            //     rtp.timestamp = (rtp.timestamp + Number.MAX_SAFE_INTEGER) % 0x7fffffff;\r\n            // }\r\n            if (rtp.media) {\r\n                let pay = this.payParser.parse(rtp);\r\n                if (pay) {\r\n                    // if (typeof pay == typeof []) {\r\n                    this.parent.sampleQueues[rtp.type].push(pay);\r\n                    // } else {\r\n                    //     this.parent.sampleQueues[rtp.type].push([pay]);\r\n                    // }\r\n                }\r\n            }\r\n        }\r\n        // this.remuxer.feedRTP();\r\n    }\r\n}\r\n\r\n// ASN.1 JavaScript decoder\r\n// Copyright (c) 2008-2013 Lapo Luchini <lapo@lapo.it>\r\n\r\n// Permission to use, copy, modify, and/or distribute this software for any\r\n// purpose with or without fee is hereby granted, provided that the above\r\n// copyright notice and this permission notice appear in all copies.\r\n// \r\n// THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES\r\n// WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF\r\n// MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR\r\n// ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES\r\n// WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN\r\n// ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF\r\n// OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.\r\n\r\n/*jshint browser: true, strict: true, immed: true, latedef: true, undef: true, regexdash: false */\r\n/*global oids */\r\n\r\nvar hardLimit = 100;\r\nvar ellipsis = \"\\u2026\";\r\nvar DOM = {\r\n        tag: function (tagName, className) {\r\n            var t = document.createElement(tagName);\r\n            t.className = className;\r\n            return t;\r\n        },\r\n        text: function (str) {\r\n            return document.createTextNode(str);\r\n        }\r\n    };\r\n\r\nclass Stream {\r\n    static get hexDigits() {\r\n        return \"0123456789ABCDEF\";\r\n    };\r\n\r\n    static get reTime() {\r\n        return /^((?:1[89]|2\\d)?\\d\\d)(0[1-9]|1[0-2])(0[1-9]|[12]\\d|3[01])([01]\\d|2[0-3])(?:([0-5]\\d)(?:([0-5]\\d)(?:[.,](\\d{1,3}))?)?)?(Z|[-+](?:[0]\\d|1[0-2])([0-5]\\d)?)?$/;\r\n    }\r\n\r\n\r\n    constructor(enc, pos) {\r\n        if (enc instanceof Stream) {\r\n            this.enc = enc.enc;\r\n            this.pos = enc.pos;\r\n        } else {\r\n            this.enc = enc;\r\n            this.pos = pos;\r\n        }\r\n    }\r\n\r\n    get(pos) {\r\n        if (pos === undefined)\r\n            pos = this.pos++;\r\n        if (pos >= this.enc.length)\r\n            throw 'Requesting byte offset ' + pos + ' on a stream of length ' + this.enc.length;\r\n        return this.enc[pos];\r\n    };\r\n\r\n    hexByte(b) {\r\n        return Stream.hexDigits.charAt((b >> 4) & 0xF) + Stream.hexDigits.charAt(b & 0xF);\r\n    };\r\n\r\n    hexDump(start, end, raw) {\r\n        var s = \"\";\r\n        for (var i = start; i < end; ++i) {\r\n            s += this.hexByte(this.get(i));\r\n            if (raw !== true)\r\n                switch (i & 0xF) {\r\n                    case 0x7:\r\n                        s += \"  \";\r\n                        break;\r\n                    case 0xF:\r\n                        s += \"\\n\";\r\n                        break;\r\n                    default:\r\n                        s += \" \";\r\n                }\r\n        }\r\n        return s;\r\n    };\r\n\r\n    parseStringISO(start, end) {\r\n        var s = \"\";\r\n        for (var i = start; i < end; ++i)\r\n            s += String.fromCharCode(this.get(i));\r\n        return s;\r\n    };\r\n\r\n    parseStringUTF(start, end) {\r\n        var s = \"\";\r\n        for (var i = start; i < end;) {\r\n            var c = this.get(i++);\r\n            if (c < 128)\r\n                s += String.fromCharCode(c);\r\n            else if ((c > 191) && (c < 224))\r\n                s += String.fromCharCode(((c & 0x1F) << 6) | (this.get(i++) & 0x3F));\r\n            else\r\n                s += String.fromCharCode(((c & 0x0F) << 12) | ((this.get(i++) & 0x3F) << 6) | (this.get(i++) & 0x3F));\r\n        }\r\n        return s;\r\n    };\r\n\r\n    parseStringBMP(start, end) {\r\n        var str = \"\";\r\n        for (var i = start; i < end; i += 2) {\r\n            var high_byte = this.get(i);\r\n            var low_byte = this.get(i + 1);\r\n            str += String.fromCharCode((high_byte << 8) + low_byte);\r\n        }\r\n\r\n        return str;\r\n    };\r\n\r\n    parseTime(start, end) {\r\n        var s = this.parseStringISO(start, end),\r\n            m = Stream.reTime.exec(s);\r\n        if (!m)\r\n            return \"Unrecognized time: \" + s;\r\n        s = m[1] + \"-\" + m[2] + \"-\" + m[3] + \" \" + m[4];\r\n        if (m[5]) {\r\n            s += \":\" + m[5];\r\n            if (m[6]) {\r\n                s += \":\" + m[6];\r\n                if (m[7])\r\n                    s += \".\" + m[7];\r\n            }\r\n        }\r\n        if (m[8]) {\r\n            s += \" UTC\";\r\n            if (m[8] != 'Z') {\r\n                s += m[8];\r\n                if (m[9])\r\n                    s += \":\" + m[9];\r\n            }\r\n        }\r\n        return s;\r\n    };\r\n\r\n    parseInteger(start, end) {\r\n        //TODO support negative numbers\r\n        var len = end - start;\r\n        if (len > 4) {\r\n            len <<= 3;\r\n            var s = this.get(start);\r\n            if (s === 0)\r\n                len -= 8;\r\n            else\r\n                while (s < 128) {\r\n                    s <<= 1;\r\n                    --len;\r\n                }\r\n            return \"(\" + len + \" bit)\";\r\n        }\r\n        var n = 0;\r\n        for (var i = start; i < end; ++i)\r\n            n = (n << 8) | this.get(i);\r\n        return n;\r\n    };\r\n\r\n    parseBitString(start, end) {\r\n        var unusedBit = this.get(start),\r\n            lenBit = ((end - start - 1) << 3) - unusedBit,\r\n            s = \"(\" + lenBit + \" bit)\";\r\n        if (lenBit <= 20) {\r\n            var skip = unusedBit;\r\n            s += \" \";\r\n            for (var i = end - 1; i > start; --i) {\r\n                var b = this.get(i);\r\n                for (var j = skip; j < 8; ++j)\r\n                    s += (b >> j) & 1 ? \"1\" : \"0\";\r\n                skip = 0;\r\n            }\r\n        }\r\n        return s;\r\n    };\r\n\r\n    parseOctetString(start, end) {\r\n        var len = end - start,\r\n            s = \"(\" + len + \" byte) \";\r\n        if (len > hardLimit)\r\n            end = start + hardLimit;\r\n        for (var i = start; i < end; ++i)\r\n            s += this.hexByte(this.get(i)); //TODO: also try Latin1?\r\n        if (len > hardLimit)\r\n            s += ellipsis;\r\n        return s;\r\n    };\r\n\r\n    parseOID(start, end) {\r\n        var s = '',\r\n            n = 0,\r\n            bits = 0;\r\n        for (var i = start; i < end; ++i) {\r\n            var v = this.get(i);\r\n            n = (n << 7) | (v & 0x7F);\r\n            bits += 7;\r\n            if (!(v & 0x80)) { // finished\r\n                if (s === '') {\r\n                    var m = n < 80 ? n < 40 ? 0 : 1 : 2;\r\n                    s = m + \".\" + (n - m * 40);\r\n                } else\r\n                    s += \".\" + ((bits >= 31) ? \"bigint\" : n);\r\n                n = bits = 0;\r\n            }\r\n        }\r\n        return s;\r\n    };\r\n}\r\n\r\nclass ASN1 {\r\n    static get reSeemsASCII() {\r\n        return /^[ -~]+$/;\r\n    }\r\n\r\n    constructor(stream, header, length, tag, sub) {\r\n        this.stream = stream;\r\n        this.header = header;\r\n        this.length = length;\r\n        this.tag = tag;\r\n        this.sub = sub;\r\n    }\r\n\r\n    typeName() {\r\n        if (this.tag === undefined)\r\n            return \"unknown\";\r\n        var tagClass = this.tag >> 6,\r\n            tagConstructed = (this.tag >> 5) & 1,\r\n            tagNumber = this.tag & 0x1F;\r\n        switch (tagClass) {\r\n            case 0: // universal\r\n                switch (tagNumber) {\r\n                    case 0x00:\r\n                        return \"EOC\";\r\n                    case 0x01:\r\n                        return \"BOOLEAN\";\r\n                    case 0x02:\r\n                        return \"INTEGER\";\r\n                    case 0x03:\r\n                        return \"BIT_STRING\";\r\n                    case 0x04:\r\n                        return \"OCTET_STRING\";\r\n                    case 0x05:\r\n                        return \"NULL\";\r\n                    case 0x06:\r\n                        return \"OBJECT_IDENTIFIER\";\r\n                    case 0x07:\r\n                        return \"ObjectDescriptor\";\r\n                    case 0x08:\r\n                        return \"EXTERNAL\";\r\n                    case 0x09:\r\n                        return \"REAL\";\r\n                    case 0x0A:\r\n                        return \"ENUMERATED\";\r\n                    case 0x0B:\r\n                        return \"EMBEDDED_PDV\";\r\n                    case 0x0C:\r\n                        return \"UTF8String\";\r\n                    case 0x10:\r\n                        return \"SEQUENCE\";\r\n                    case 0x11:\r\n                        return \"SET\";\r\n                    case 0x12:\r\n                        return \"NumericString\";\r\n                    case 0x13:\r\n                        return \"PrintableString\"; // ASCII subset\r\n                    case 0x14:\r\n                        return \"TeletexString\"; // aka T61String\r\n                    case 0x15:\r\n                        return \"VideotexString\";\r\n                    case 0x16:\r\n                        return \"IA5String\"; // ASCII\r\n                    case 0x17:\r\n                        return \"UTCTime\";\r\n                    case 0x18:\r\n                        return \"GeneralizedTime\";\r\n                    case 0x19:\r\n                        return \"GraphicString\";\r\n                    case 0x1A:\r\n                        return \"VisibleString\"; // ASCII subset\r\n                    case 0x1B:\r\n                        return \"GeneralString\";\r\n                    case 0x1C:\r\n                        return \"UniversalString\";\r\n                    case 0x1E:\r\n                        return \"BMPString\";\r\n                    default:\r\n                        return \"Universal_\" + tagNumber.toString(16);\r\n                }\r\n            case 1:\r\n                return \"Application_\" + tagNumber.toString(16);\r\n            case 2:\r\n                return \"[\" + tagNumber + \"]\"; // Context\r\n            case 3:\r\n                return \"Private_\" + tagNumber.toString(16);\r\n        }\r\n    }\r\n\r\n    content() {\r\n        if (this.tag === undefined)\r\n            return null;\r\n        var tagClass = this.tag >> 6,\r\n            tagNumber = this.tag & 0x1F,\r\n            content = this.posContent(),\r\n            len = Math.abs(this.length);\r\n        if (tagClass !== 0) { // universal\r\n            if (this.sub !== null)\r\n                return \"(\" + this.sub.length + \" elem)\";\r\n            //TODO: TRY TO PARSE ASCII STRING\r\n            var s = this.stream.parseStringISO(content, content + Math.min(len, hardLimit));\r\n            if (ASN1.reSeemsASCII.test(s))\r\n                return s.substring(0, 2 * hardLimit) + ((s.length > 2 * hardLimit) ? ellipsis : \"\");\r\n            else\r\n                return this.stream.parseOctetString(content, content + len);\r\n        }\r\n        switch (tagNumber) {\r\n            case 0x01: // BOOLEAN\r\n                return (this.stream.get(content) === 0) ? \"false\" : \"true\";\r\n            case 0x02: // INTEGER\r\n                return this.stream.parseInteger(content, content + len);\r\n            case 0x03: // BIT_STRING\r\n                return this.sub ? \"(\" + this.sub.length + \" elem)\" :\r\n                    this.stream.parseBitString(content, content + len);\r\n            case 0x04: // OCTET_STRING\r\n                return this.sub ? \"(\" + this.sub.length + \" elem)\" :\r\n                    this.stream.parseOctetString(content, content + len);\r\n            //case 0x05: // NULL\r\n            case 0x06: // OBJECT_IDENTIFIER\r\n                return this.stream.parseOID(content, content + len);\r\n            //case 0x07: // ObjectDescriptor\r\n            //case 0x08: // EXTERNAL\r\n            //case 0x09: // REAL\r\n            //case 0x0A: // ENUMERATED\r\n            //case 0x0B: // EMBEDDED_PDV\r\n            case 0x10: // SEQUENCE\r\n            case 0x11: // SET\r\n                return \"(\" + this.sub.length + \" elem)\";\r\n            case 0x0C: // UTF8String\r\n                return this.stream.parseStringUTF(content, content + len);\r\n            case 0x12: // NumericString\r\n            case 0x13: // PrintableString\r\n            case 0x14: // TeletexString\r\n            case 0x15: // VideotexString\r\n            case 0x16: // IA5String\r\n            //case 0x19: // GraphicString\r\n            case 0x1A: // VisibleString\r\n                //case 0x1B: // GeneralString\r\n                //case 0x1C: // UniversalString\r\n                return this.stream.parseStringISO(content, content + len);\r\n            case 0x1E: // BMPString\r\n                return this.stream.parseStringBMP(content, content + len);\r\n            case 0x17: // UTCTime\r\n            case 0x18: // GeneralizedTime\r\n                return this.stream.parseTime(content, content + len);\r\n        }\r\n        return null;\r\n    };\r\n\r\n    toString() {\r\n        return this.typeName() + \"@\" + this.stream.pos + \"[header:\" + this.header + \",length:\" + this.length + \",sub:\" + ((this.sub === null) ? 'null' : this.sub.length) + \"]\";\r\n    };\r\n\r\n    print(indent) {\r\n        if (indent === undefined) indent = '';\r\n        document.writeln(indent + this);\r\n        if (this.sub !== null) {\r\n            indent += '  ';\r\n            for (var i = 0, max = this.sub.length; i < max; ++i)\r\n                this.sub[i].print(indent);\r\n        }\r\n    };\r\n\r\n    toPrettyString(indent) {\r\n        if (indent === undefined) indent = '';\r\n        var s = indent + this.typeName() + \" @\" + this.stream.pos;\r\n        if (this.length >= 0)\r\n            s += \"+\";\r\n        s += this.length;\r\n        if (this.tag & 0x20)\r\n            s += \" (constructed)\";\r\n        else if (((this.tag == 0x03) || (this.tag == 0x04)) && (this.sub !== null))\r\n            s += \" (encapsulates)\";\r\n        s += \"\\n\";\r\n        if (this.sub !== null) {\r\n            indent += '  ';\r\n            for (var i = 0, max = this.sub.length; i < max; ++i)\r\n                s += this.sub[i].toPrettyString(indent);\r\n        }\r\n        return s;\r\n    };\r\n\r\n    toDOM() {\r\n        var node = DOM.tag(\"div\", \"node\");\r\n        node.asn1 = this;\r\n        var head = DOM.tag(\"div\", \"head\");\r\n        var s = this.typeName().replace(/_/g, \" \");\r\n        head.innerHTML = s;\r\n        var content = this.content();\r\n        if (content !== null) {\r\n            content = String(content).replace(/</g, \"&lt;\");\r\n            var preview = DOM.tag(\"span\", \"preview\");\r\n            preview.appendChild(DOM.text(content));\r\n            head.appendChild(preview);\r\n        }\r\n        node.appendChild(head);\r\n        this.node = node;\r\n        this.head = head;\r\n        var value = DOM.tag(\"div\", \"value\");\r\n        s = \"Offset: \" + this.stream.pos + \"<br/>\";\r\n        s += \"Length: \" + this.header + \"+\";\r\n        if (this.length >= 0)\r\n            s += this.length;\r\n        else\r\n            s += (-this.length) + \" (undefined)\";\r\n        if (this.tag & 0x20)\r\n            s += \"<br/>(constructed)\";\r\n        else if (((this.tag == 0x03) || (this.tag == 0x04)) && (this.sub !== null))\r\n            s += \"<br/>(encapsulates)\";\r\n        //TODO if (this.tag == 0x03) s += \"Unused bits: \"\r\n        if (content !== null) {\r\n            s += \"<br/>Value:<br/><b>\" + content + \"</b>\";\r\n            if ((typeof oids === 'object') && (this.tag == 0x06)) {\r\n                var oid = oids[content];\r\n                if (oid) {\r\n                    if (oid.d) s += \"<br/>\" + oid.d;\r\n                    if (oid.c) s += \"<br/>\" + oid.c;\r\n                    if (oid.w) s += \"<br/>(warning!)\";\r\n                }\r\n            }\r\n        }\r\n        value.innerHTML = s;\r\n        node.appendChild(value);\r\n        var sub = DOM.tag(\"div\", \"sub\");\r\n        if (this.sub !== null) {\r\n            for (var i = 0, max = this.sub.length; i < max; ++i)\r\n                sub.appendChild(this.sub[i].toDOM());\r\n        }\r\n        node.appendChild(sub);\r\n        head.onclick = function () {\r\n            node.className = (node.className == \"node collapsed\") ? \"node\" : \"node collapsed\";\r\n        };\r\n        return node;\r\n    };\r\n\r\n    posStart() {\r\n        return this.stream.pos;\r\n    };\r\n\r\n    posContent() {\r\n        return this.stream.pos + this.header;\r\n    };\r\n\r\n    posEnd() {\r\n        return this.stream.pos + this.header + Math.abs(this.length);\r\n    };\r\n\r\n    fakeHover(current) {\r\n        this.node.className += \" hover\";\r\n        if (current)\r\n            this.head.className += \" hover\";\r\n    };\r\n\r\n    fakeOut(current) {\r\n        var re = / ?hover/;\r\n        this.node.className = this.node.className.replace(re, \"\");\r\n        if (current)\r\n            this.head.className = this.head.className.replace(re, \"\");\r\n    };\r\n\r\n    toHexDOM_sub(node, className, stream, start, end) {\r\n        if (start >= end)\r\n            return;\r\n        var sub = DOM.tag(\"span\", className);\r\n        sub.appendChild(DOM.text(\r\n            stream.hexDump(start, end)));\r\n        node.appendChild(sub);\r\n    };\r\n\r\n    toHexDOM(root) {\r\n        var node = DOM.tag(\"span\", \"hex\");\r\n        if (root === undefined) root = node;\r\n        this.head.hexNode = node;\r\n        this.head.onmouseover = function () {\r\n            this.hexNode.className = \"hexCurrent\";\r\n        };\r\n        this.head.onmouseout = function () {\r\n            this.hexNode.className = \"hex\";\r\n        };\r\n        node.asn1 = this;\r\n        node.onmouseover = function () {\r\n            var current = !root.selected;\r\n            if (current) {\r\n                root.selected = this.asn1;\r\n                this.className = \"hexCurrent\";\r\n            }\r\n            this.asn1.fakeHover(current);\r\n        };\r\n        node.onmouseout = function () {\r\n            var current = (root.selected == this.asn1);\r\n            this.asn1.fakeOut(current);\r\n            if (current) {\r\n                root.selected = null;\r\n                this.className = \"hex\";\r\n            }\r\n        };\r\n        this.toHexDOM_sub(node, \"tag\", this.stream, this.posStart(), this.posStart() + 1);\r\n        this.toHexDOM_sub(node, (this.length >= 0) ? \"dlen\" : \"ulen\", this.stream, this.posStart() + 1, this.posContent());\r\n        if (this.sub === null)\r\n            node.appendChild(DOM.text(\r\n                this.stream.hexDump(this.posContent(), this.posEnd())));\r\n        else if (this.sub.length > 0) {\r\n            var first = this.sub[0];\r\n            var last = this.sub[this.sub.length - 1];\r\n            this.toHexDOM_sub(node, \"intro\", this.stream, this.posContent(), first.posStart());\r\n            for (var i = 0, max = this.sub.length; i < max; ++i)\r\n                node.appendChild(this.sub[i].toHexDOM(root));\r\n            this.toHexDOM_sub(node, \"outro\", this.stream, last.posEnd(), this.posEnd());\r\n        }\r\n        return node;\r\n    };\r\n\r\n    toHexString(root) {\r\n        return this.stream.hexDump(this.posStart(), this.posEnd(), true);\r\n    };\r\n\r\n}\r\n\r\nASN1.decodeLength = function (stream) {\r\n    var buf = stream.get(),\r\n        len = buf & 0x7F;\r\n    if (len == buf)\r\n        return len;\r\n    if (len > 3)\r\n        throw \"Length over 24 bits not supported at position \" + (stream.pos - 1);\r\n    if (len === 0)\r\n        return -1; // undefined\r\n    buf = 0;\r\n    for (var i = 0; i < len; ++i)\r\n        buf = (buf << 8) | stream.get();\r\n    return buf;\r\n};\r\nASN1.hasContent = function (tag, len, stream) {\r\n    if (tag & 0x20) // constructed\r\n        return true;\r\n    if ((tag < 0x03) || (tag > 0x04))\r\n        return false;\r\n    var p = new Stream(stream);\r\n    if (tag == 0x03) p.get(); // BitString unused bits, must be in [0, 7]\r\n    var subTag = p.get();\r\n    if ((subTag >> 6) & 0x01) // not (universal or context)\r\n        return false;\r\n    try {\r\n        var subLength = ASN1.decodeLength(p);\r\n        return ((p.pos - stream.pos) + subLength == len);\r\n    } catch (exception) {\r\n        return false;\r\n    }\r\n};\r\nASN1.decode = function (stream) {\r\n    if (!(stream instanceof Stream))\r\n        stream = new Stream(stream, 0);\r\n    var streamStart = new Stream(stream),\r\n        tag = stream.get(),\r\n        len = ASN1.decodeLength(stream),\r\n        header = stream.pos - streamStart.pos,\r\n        sub = null;\r\n    if (ASN1.hasContent(tag, len, stream)) {\r\n        // it has content, so we decode it\r\n        var start = stream.pos;\r\n        if (tag == 0x03) stream.get(); // skip BitString unused bits, must be in [0, 7]\r\n        sub = [];\r\n        if (len >= 0) {\r\n            // definite length\r\n            var end = start + len;\r\n            while (stream.pos < end)\r\n                sub[sub.length] = ASN1.decode(stream);\r\n            if (stream.pos != end)\r\n                throw \"Content size is not correct for container starting at offset \" + start;\r\n        } else {\r\n            // undefined length\r\n            try {\r\n                for (; ;) {\r\n                    var s = ASN1.decode(stream);\r\n                    if (s.tag === 0)\r\n                        break;\r\n                    sub[sub.length] = s;\r\n                }\r\n                len = start - stream.pos;\r\n            } catch (e) {\r\n                throw \"Exception while decoding undefined length content: \" + e;\r\n            }\r\n        }\r\n    } else\r\n        stream.pos += len; // skip content\r\n    return new ASN1(streamStart, header, len, tag, sub);\r\n};\r\nASN1.test = function () {\r\n    var test = [\r\n        {value: [0x27], expected: 0x27},\r\n        {value: [0x81, 0xC9], expected: 0xC9},\r\n        {value: [0x83, 0xFE, 0xDC, 0xBA], expected: 0xFEDCBA}\r\n    ];\r\n    for (var i = 0, max = test.length; i < max; ++i) {\r\n        var pos = 0,\r\n            stream = new Stream(test[i].value, 0),\r\n            res = ASN1.decodeLength(stream);\r\n        if (res != test[i].expected)\r\n            document.write(\"In test[\" + i + \"] expected \" + test[i].expected + \" got \" + res + \"\\n\");\r\n    }\r\n};\r\n\r\n// prng4.js - uses Arcfour as a PRNG\r\n\r\nclass Arcfour {\r\n  constructor() {\r\n    this.i = 0;\r\n    this.j = 0;\r\n    this.S = [];\r\n  }\r\n}\r\n\r\n// Initialize arcfour context from key, an array of ints, each from [0..255]\r\nfunction ARC4init(key) {\r\n  var i, j, t;\r\n  for(i = 0; i < 256; ++i)\r\n    this.S[i] = i;\r\n  j = 0;\r\n  for(i = 0; i < 256; ++i) {\r\n    j = (j + this.S[i] + key[i % key.length]) & 255;\r\n    t = this.S[i];\r\n    this.S[i] = this.S[j];\r\n    this.S[j] = t;\r\n  }\r\n  this.i = 0;\r\n  this.j = 0;\r\n}\r\n\r\nfunction ARC4next() {\r\n  var t;\r\n  this.i = (this.i + 1) & 255;\r\n  this.j = (this.j + this.S[this.i]) & 255;\r\n  t = this.S[this.i];\r\n  this.S[this.i] = this.S[this.j];\r\n  this.S[this.j] = t;\r\n  return this.S[(t + this.S[this.i]) & 255];\r\n}\r\n\r\nArcfour.prototype.init = ARC4init;\r\nArcfour.prototype.next = ARC4next;\r\n\r\n// Plug in your RNG constructor here\r\nfunction prng_newstate() {\r\n  return new Arcfour();\r\n}\r\n\r\n// Pool size must be a multiple of 4 and greater than 32.\r\n// An array of bytes the size of the pool will be passed to init()\r\nvar rng_psize = 256;\r\n\r\n// Random number generator - requires a PRNG backend, e.g. prng4.js\r\nvar rng_state;\r\nvar rng_pool;\r\nvar rng_pptr;\r\n\r\n// Initialize the pool with junk if needed.\r\nif(rng_pool == null) {\r\n  rng_pool = new Array();\r\n  rng_pptr = 0;\r\n  var t;\r\n  if(window.crypto && window.crypto.getRandomValues) {\r\n    // Extract entropy (2048 bits) from RNG if available\r\n    var z = new Uint32Array(256);\r\n    window.crypto.getRandomValues(z);\r\n    for (t = 0; t < z.length; ++t)\r\n      rng_pool[rng_pptr++] = z[t] & 255;\r\n  }\r\n\r\n  // Use mouse events for entropy, if we do not have enough entropy by the time\r\n  // we need it, entropy will be generated by Math.random.\r\n  var onMouseMoveListener = function(ev) {\r\n    this.count = this.count || 0;\r\n    if (this.count >= 256 || rng_pptr >= rng_psize) {\r\n      if (window.removeEventListener)\r\n        window.removeEventListener(\"mousemove\", onMouseMoveListener, false);\r\n      else if (window.detachEvent)\r\n        window.detachEvent(\"onmousemove\", onMouseMoveListener);\r\n      return;\r\n    }\r\n    try {\r\n      var mouseCoordinates = ev.x + ev.y;\r\n      rng_pool[rng_pptr++] = mouseCoordinates & 255;\r\n      this.count += 1;\r\n    } catch (e) {\r\n      // Sometimes Firefox will deny permission to access event properties for some reason. Ignore.\r\n    }\r\n  };\r\n  if (window.addEventListener)\r\n    window.addEventListener(\"mousemove\", onMouseMoveListener, false);\r\n  else if (window.attachEvent)\r\n    window.attachEvent(\"onmousemove\", onMouseMoveListener);\r\n\r\n}\r\n\r\nfunction rng_get_byte() {\r\n  if(rng_state == null) {\r\n    rng_state = prng_newstate();\r\n    // At this point, we may not have collected enough entropy.  If not, fall back to Math.random\r\n    while (rng_pptr < rng_psize) {\r\n      var random = Math.floor(65536 * Math.random());\r\n      rng_pool[rng_pptr++] = random & 255;\r\n    }\r\n    rng_state.init(rng_pool);\r\n    for(rng_pptr = 0; rng_pptr < rng_pool.length; ++rng_pptr)\r\n      rng_pool[rng_pptr] = 0;\r\n    rng_pptr = 0;\r\n  }\r\n  // TODO: allow reseeding after first request\r\n  return rng_state.next();\r\n}\r\n\r\nfunction rng_get_bytes(ba) {\r\n  var i;\r\n  for(i = 0; i < ba.length; ++i) ba[i] = rng_get_byte();\r\n}\r\n\r\nclass SecureRandom {\r\n  constructor(){}\r\n}\r\n\r\nSecureRandom.prototype.nextBytes = rng_get_bytes;\r\n\r\n// Copyright (c) 2005  Tom Wu\r\n// All Rights Reserved.\r\n// See \"LICENSE\" for details.\r\n\r\n// Basic JavaScript BN library - subset useful for RSA encryption.\r\n\r\n// Bits per digit\r\nvar dbits;\r\n\r\n// JavaScript engine analysis\r\nvar canary = 0xdeadbeefcafe;\r\nvar j_lm = ((canary&0xffffff)==0xefcafe);\r\n\r\n// (public) Constructor\r\nclass BigInteger {\r\n  constructor(a,b,c) {\r\n    if (a != null)\r\n      if (\"number\" == typeof a) this.fromNumber(a, b, c);\r\n      else if (b == null && \"string\" != typeof a) this.fromString(a, 256);\r\n      else this.fromString(a, b);\r\n  }\r\n}\r\n\r\n// return new, unset BigInteger\r\nfunction nbi() { return new BigInteger(null); }\r\n\r\n// am: Compute w_j += (x*this_i), propagate carries,\r\n// c is initial carry, returns final carry.\r\n// c < 3*dvalue, x < 2*dvalue, this_i < dvalue\r\n// We need to select the fastest one that works in this environment.\r\n\r\n// am1: use a single mult and divide to get the high bits,\r\n// max digit bits should be 26 because\r\n// max internal value = 2*dvalue^2-2*dvalue (< 2^53)\r\nfunction am1(i,x,w,j,c,n) {\r\n  while(--n >= 0) {\r\n    var v = x*this[i++]+w[j]+c;\r\n    c = Math.floor(v/0x4000000);\r\n    w[j++] = v&0x3ffffff;\r\n  }\r\n  return c;\r\n}\r\n// am2 avoids a big mult-and-extract completely.\r\n// Max digit bits should be <= 30 because we do bitwise ops\r\n// on values up to 2*hdvalue^2-hdvalue-1 (< 2^31)\r\nfunction am2(i,x,w,j,c,n) {\r\n  var xl = x&0x7fff, xh = x>>15;\r\n  while(--n >= 0) {\r\n    var l = this[i]&0x7fff;\r\n    var h = this[i++]>>15;\r\n    var m = xh*l+h*xl;\r\n    l = xl*l+((m&0x7fff)<<15)+w[j]+(c&0x3fffffff);\r\n    c = (l>>>30)+(m>>>15)+xh*h+(c>>>30);\r\n    w[j++] = l&0x3fffffff;\r\n  }\r\n  return c;\r\n}\r\n// Alternately, set max digit bits to 28 since some\r\n// browsers slow down when dealing with 32-bit numbers.\r\nfunction am3(i,x,w,j,c,n) {\r\n  var xl = x&0x3fff, xh = x>>14;\r\n  while(--n >= 0) {\r\n    var l = this[i]&0x3fff;\r\n    var h = this[i++]>>14;\r\n    var m = xh*l+h*xl;\r\n    l = xl*l+((m&0x3fff)<<14)+w[j]+c;\r\n    c = (l>>28)+(m>>14)+xh*h;\r\n    w[j++] = l&0xfffffff;\r\n  }\r\n  return c;\r\n}\r\nif(j_lm && (navigator.appName == \"Microsoft Internet Explorer\")) {\r\n  BigInteger.prototype.am = am2;\r\n  dbits = 30;\r\n}\r\nelse if(j_lm && (navigator.appName != \"Netscape\")) {\r\n  BigInteger.prototype.am = am1;\r\n  dbits = 26;\r\n}\r\nelse { // Mozilla/Netscape seems to prefer am3\r\n  BigInteger.prototype.am = am3;\r\n  dbits = 28;\r\n}\r\n\r\nBigInteger.prototype.DB = dbits;\r\nBigInteger.prototype.DM = ((1<<dbits)-1);\r\nBigInteger.prototype.DV = (1<<dbits);\r\n\r\nvar BI_FP = 52;\r\nBigInteger.prototype.FV = Math.pow(2,BI_FP);\r\nBigInteger.prototype.F1 = BI_FP-dbits;\r\nBigInteger.prototype.F2 = 2*dbits-BI_FP;\r\n\r\n// Digit conversions\r\nvar BI_RM = \"0123456789abcdefghijklmnopqrstuvwxyz\";\r\nvar BI_RC = [];\r\nvar rr;\r\nvar vv;\r\nrr = \"0\".charCodeAt(0);\r\nfor(vv = 0; vv <= 9; ++vv) BI_RC[rr++] = vv;\r\nrr = \"a\".charCodeAt(0);\r\nfor(vv = 10; vv < 36; ++vv) BI_RC[rr++] = vv;\r\nrr = \"A\".charCodeAt(0);\r\nfor(vv = 10; vv < 36; ++vv) BI_RC[rr++] = vv;\r\n\r\nfunction int2char(n) { return BI_RM.charAt(n); }\r\nfunction intAt(s,i) {\r\n  var c = BI_RC[s.charCodeAt(i)];\r\n  return (c==null)?-1:c;\r\n}\r\n\r\n// (protected) copy this to r\r\nfunction bnpCopyTo(r) {\r\n  for(var i = this.t-1; i >= 0; --i) r[i] = this[i];\r\n  r.t = this.t;\r\n  r.s = this.s;\r\n}\r\n\r\n// (protected) set from integer value x, -DV <= x < DV\r\nfunction bnpFromInt(x) {\r\n  this.t = 1;\r\n  this.s = (x<0)?-1:0;\r\n  if(x > 0) this[0] = x;\r\n  else if(x < -1) this[0] = x+this.DV;\r\n  else this.t = 0;\r\n}\r\n\r\n// return bigint initialized to value\r\nfunction nbv(i) { var r = nbi(); r.fromInt(i); return r; }\r\n\r\n// (protected) set from string and radix\r\nfunction bnpFromString(s,b) {\r\n  var k;\r\n  if(b == 16) k = 4;\r\n  else if(b == 8) k = 3;\r\n  else if(b == 256) k = 8; // byte array\r\n  else if(b == 2) k = 1;\r\n  else if(b == 32) k = 5;\r\n  else if(b == 4) k = 2;\r\n  else { this.fromRadix(s,b); return; }\r\n  this.t = 0;\r\n  this.s = 0;\r\n  var i = s.length, mi = false, sh = 0;\r\n  while(--i >= 0) {\r\n    var x = (k==8)?s[i]&0xff:intAt(s,i);\r\n    if(x < 0) {\r\n      if(s.charAt(i) == \"-\") mi = true;\r\n      continue;\r\n    }\r\n    mi = false;\r\n    if(sh == 0)\r\n      this[this.t++] = x;\r\n    else if(sh+k > this.DB) {\r\n      this[this.t-1] |= (x&((1<<(this.DB-sh))-1))<<sh;\r\n      this[this.t++] = (x>>(this.DB-sh));\r\n    }\r\n    else\r\n      this[this.t-1] |= x<<sh;\r\n    sh += k;\r\n    if(sh >= this.DB) sh -= this.DB;\r\n  }\r\n  if(k == 8 && (s[0]&0x80) != 0) {\r\n    this.s = -1;\r\n    if(sh > 0) this[this.t-1] |= ((1<<(this.DB-sh))-1)<<sh;\r\n  }\r\n  this.clamp();\r\n  if(mi) BigInteger.ZERO.subTo(this,this);\r\n}\r\n\r\n// (protected) clamp off excess high words\r\nfunction bnpClamp() {\r\n  var c = this.s&this.DM;\r\n  while(this.t > 0 && this[this.t-1] == c) --this.t;\r\n}\r\n\r\n// (public) return string representation in given radix\r\nfunction bnToString(b) {\r\n  if(this.s < 0) return \"-\"+this.negate().toString(b);\r\n  var k;\r\n  if(b == 16) k = 4;\r\n  else if(b == 8) k = 3;\r\n  else if(b == 2) k = 1;\r\n  else if(b == 32) k = 5;\r\n  else if(b == 4) k = 2;\r\n  else return this.toRadix(b);\r\n  var km = (1<<k)-1, d, m = false, r = \"\", i = this.t;\r\n  var p = this.DB-(i*this.DB)%k;\r\n  if(i-- > 0) {\r\n    if(p < this.DB && (d = this[i]>>p) > 0) { m = true; r = int2char(d); }\r\n    while(i >= 0) {\r\n      if(p < k) {\r\n        d = (this[i]&((1<<p)-1))<<(k-p);\r\n        d |= this[--i]>>(p+=this.DB-k);\r\n      }\r\n      else {\r\n        d = (this[i]>>(p-=k))&km;\r\n        if(p <= 0) { p += this.DB; --i; }\r\n      }\r\n      if(d > 0) m = true;\r\n      if(m) r += int2char(d);\r\n    }\r\n  }\r\n  return m?r:\"0\";\r\n}\r\n\r\n// (public) -this\r\nfunction bnNegate() { var r = nbi(); BigInteger.ZERO.subTo(this,r); return r; }\r\n\r\n// (public) |this|\r\nfunction bnAbs() { return (this.s<0)?this.negate():this; }\r\n\r\n// (public) return + if this > a, - if this < a, 0 if equal\r\nfunction bnCompareTo(a) {\r\n  var r = this.s-a.s;\r\n  if(r != 0) return r;\r\n  var i = this.t;\r\n  r = i-a.t;\r\n  if(r != 0) return (this.s<0)?-r:r;\r\n  while(--i >= 0) if((r=this[i]-a[i]) != 0) return r;\r\n  return 0;\r\n}\r\n\r\n// returns bit length of the integer x\r\nfunction nbits(x) {\r\n  var r = 1, t;\r\n  if((t=x>>>16) != 0) { x = t; r += 16; }\r\n  if((t=x>>8) != 0) { x = t; r += 8; }\r\n  if((t=x>>4) != 0) { x = t; r += 4; }\r\n  if((t=x>>2) != 0) { x = t; r += 2; }\r\n  if((t=x>>1) != 0) { x = t; r += 1; }\r\n  return r;\r\n}\r\n\r\n// (public) return the number of bits in \"this\"\r\nfunction bnBitLength() {\r\n  if(this.t <= 0) return 0;\r\n  return this.DB*(this.t-1)+nbits(this[this.t-1]^(this.s&this.DM));\r\n}\r\n\r\n// (protected) r = this << n*DB\r\nfunction bnpDLShiftTo(n,r) {\r\n  var i;\r\n  for(i = this.t-1; i >= 0; --i) r[i+n] = this[i];\r\n  for(i = n-1; i >= 0; --i) r[i] = 0;\r\n  r.t = this.t+n;\r\n  r.s = this.s;\r\n}\r\n\r\n// (protected) r = this >> n*DB\r\nfunction bnpDRShiftTo(n,r) {\r\n  for(var i = n; i < this.t; ++i) r[i-n] = this[i];\r\n  r.t = Math.max(this.t-n,0);\r\n  r.s = this.s;\r\n}\r\n\r\n// (protected) r = this << n\r\nfunction bnpLShiftTo(n,r) {\r\n  var bs = n%this.DB;\r\n  var cbs = this.DB-bs;\r\n  var bm = (1<<cbs)-1;\r\n  var ds = Math.floor(n/this.DB), c = (this.s<<bs)&this.DM, i;\r\n  for(i = this.t-1; i >= 0; --i) {\r\n    r[i+ds+1] = (this[i]>>cbs)|c;\r\n    c = (this[i]&bm)<<bs;\r\n  }\r\n  for(i = ds-1; i >= 0; --i) r[i] = 0;\r\n  r[ds] = c;\r\n  r.t = this.t+ds+1;\r\n  r.s = this.s;\r\n  r.clamp();\r\n}\r\n\r\n// (protected) r = this >> n\r\nfunction bnpRShiftTo(n,r) {\r\n  r.s = this.s;\r\n  var ds = Math.floor(n/this.DB);\r\n  if(ds >= this.t) { r.t = 0; return; }\r\n  var bs = n%this.DB;\r\n  var cbs = this.DB-bs;\r\n  var bm = (1<<bs)-1;\r\n  r[0] = this[ds]>>bs;\r\n  for(var i = ds+1; i < this.t; ++i) {\r\n    r[i-ds-1] |= (this[i]&bm)<<cbs;\r\n    r[i-ds] = this[i]>>bs;\r\n  }\r\n  if(bs > 0) r[this.t-ds-1] |= (this.s&bm)<<cbs;\r\n  r.t = this.t-ds;\r\n  r.clamp();\r\n}\r\n\r\n// (protected) r = this - a\r\nfunction bnpSubTo(a,r) {\r\n  var i = 0, c = 0, m = Math.min(a.t,this.t);\r\n  while(i < m) {\r\n    c += this[i]-a[i];\r\n    r[i++] = c&this.DM;\r\n    c >>= this.DB;\r\n  }\r\n  if(a.t < this.t) {\r\n    c -= a.s;\r\n    while(i < this.t) {\r\n      c += this[i];\r\n      r[i++] = c&this.DM;\r\n      c >>= this.DB;\r\n    }\r\n    c += this.s;\r\n  }\r\n  else {\r\n    c += this.s;\r\n    while(i < a.t) {\r\n      c -= a[i];\r\n      r[i++] = c&this.DM;\r\n      c >>= this.DB;\r\n    }\r\n    c -= a.s;\r\n  }\r\n  r.s = (c<0)?-1:0;\r\n  if(c < -1) r[i++] = this.DV+c;\r\n  else if(c > 0) r[i++] = c;\r\n  r.t = i;\r\n  r.clamp();\r\n}\r\n\r\n// (protected) r = this * a, r != this,a (HAC 14.12)\r\n// \"this\" should be the larger one if appropriate.\r\nfunction bnpMultiplyTo(a,r) {\r\n  var x = this.abs(), y = a.abs();\r\n  var i = x.t;\r\n  r.t = i+y.t;\r\n  while(--i >= 0) r[i] = 0;\r\n  for(i = 0; i < y.t; ++i) r[i+x.t] = x.am(0,y[i],r,i,0,x.t);\r\n  r.s = 0;\r\n  r.clamp();\r\n  if(this.s != a.s) BigInteger.ZERO.subTo(r,r);\r\n}\r\n\r\n// (protected) r = this^2, r != this (HAC 14.16)\r\nfunction bnpSquareTo(r) {\r\n  var x = this.abs();\r\n  var i = r.t = 2*x.t;\r\n  while(--i >= 0) r[i] = 0;\r\n  for(i = 0; i < x.t-1; ++i) {\r\n    var c = x.am(i,x[i],r,2*i,0,1);\r\n    if((r[i+x.t]+=x.am(i+1,2*x[i],r,2*i+1,c,x.t-i-1)) >= x.DV) {\r\n      r[i+x.t] -= x.DV;\r\n      r[i+x.t+1] = 1;\r\n    }\r\n  }\r\n  if(r.t > 0) r[r.t-1] += x.am(i,x[i],r,2*i,0,1);\r\n  r.s = 0;\r\n  r.clamp();\r\n}\r\n\r\n// (protected) divide this by m, quotient and remainder to q, r (HAC 14.20)\r\n// r != q, this != m.  q or r may be null.\r\nfunction bnpDivRemTo(m,q,r) {\r\n  var pm = m.abs();\r\n  if(pm.t <= 0) return;\r\n  var pt = this.abs();\r\n  if(pt.t < pm.t) {\r\n    if(q != null) q.fromInt(0);\r\n    if(r != null) this.copyTo(r);\r\n    return;\r\n  }\r\n  if(r == null) r = nbi();\r\n  var y = nbi(), ts = this.s, ms = m.s;\r\n  var nsh = this.DB-nbits(pm[pm.t-1]);\t// normalize modulus\r\n  if(nsh > 0) { pm.lShiftTo(nsh,y); pt.lShiftTo(nsh,r); }\r\n  else { pm.copyTo(y); pt.copyTo(r); }\r\n  var ys = y.t;\r\n  var y0 = y[ys-1];\r\n  if(y0 == 0) return;\r\n  var yt = y0*(1<<this.F1)+((ys>1)?y[ys-2]>>this.F2:0);\r\n  var d1 = this.FV/yt, d2 = (1<<this.F1)/yt, e = 1<<this.F2;\r\n  var i = r.t, j = i-ys, t = (q==null)?nbi():q;\r\n  y.dlShiftTo(j,t);\r\n  if(r.compareTo(t) >= 0) {\r\n    r[r.t++] = 1;\r\n    r.subTo(t,r);\r\n  }\r\n  BigInteger.ONE.dlShiftTo(ys,t);\r\n  t.subTo(y,y);\t// \"negative\" y so we can replace sub with am later\r\n  while(y.t < ys) y[y.t++] = 0;\r\n  while(--j >= 0) {\r\n    // Estimate quotient digit\r\n    var qd = (r[--i]==y0)?this.DM:Math.floor(r[i]*d1+(r[i-1]+e)*d2);\r\n    if((r[i]+=y.am(0,qd,r,j,0,ys)) < qd) {\t// Try it out\r\n      y.dlShiftTo(j,t);\r\n      r.subTo(t,r);\r\n      while(r[i] < --qd) r.subTo(t,r);\r\n    }\r\n  }\r\n  if(q != null) {\r\n    r.drShiftTo(ys,q);\r\n    if(ts != ms) BigInteger.ZERO.subTo(q,q);\r\n  }\r\n  r.t = ys;\r\n  r.clamp();\r\n  if(nsh > 0) r.rShiftTo(nsh,r);\t// Denormalize remainder\r\n  if(ts < 0) BigInteger.ZERO.subTo(r,r);\r\n}\r\n\r\n// (public) this mod a\r\nfunction bnMod(a) {\r\n  var r = nbi();\r\n  this.abs().divRemTo(a,null,r);\r\n  if(this.s < 0 && r.compareTo(BigInteger.ZERO) > 0) a.subTo(r,r);\r\n  return r;\r\n}\r\n\r\n// Modular reduction using \"classic\" algorithm\r\nclass Classic{\r\n  constructor(m){\r\n    this.m = m;\r\n  }\r\n}\r\nfunction cConvert(x) {\r\n  if(x.s < 0 || x.compareTo(this.m) >= 0) return x.mod(this.m);\r\n  else return x;\r\n}\r\nfunction cRevert(x) { return x; }\r\nfunction cReduce(x) { x.divRemTo(this.m,null,x); }\r\nfunction cMulTo(x,y,r) { x.multiplyTo(y,r); this.reduce(r); }\r\nfunction cSqrTo(x,r) { x.squareTo(r); this.reduce(r); }\r\n\r\nClassic.prototype.convert = cConvert;\r\nClassic.prototype.revert = cRevert;\r\nClassic.prototype.reduce = cReduce;\r\nClassic.prototype.mulTo = cMulTo;\r\nClassic.prototype.sqrTo = cSqrTo;\r\n\r\n// (protected) return \"-1/this % 2^DB\"; useful for Mont. reduction\r\n// justification:\r\n//         xy == 1 (mod m)\r\n//         xy =  1+km\r\n//   xy(2-xy) = (1+km)(1-km)\r\n// x[y(2-xy)] = 1-k^2m^2\r\n// x[y(2-xy)] == 1 (mod m^2)\r\n// if y is 1/x mod m, then y(2-xy) is 1/x mod m^2\r\n// should reduce x and y(2-xy) by m^2 at each step to keep size bounded.\r\n// JS multiply \"overflows\" differently from C/C++, so care is needed here.\r\nfunction bnpInvDigit() {\r\n  if(this.t < 1) return 0;\r\n  var x = this[0];\r\n  if((x&1) == 0) return 0;\r\n  var y = x&3;\t\t// y == 1/x mod 2^2\r\n  y = (y*(2-(x&0xf)*y))&0xf;\t// y == 1/x mod 2^4\r\n  y = (y*(2-(x&0xff)*y))&0xff;\t// y == 1/x mod 2^8\r\n  y = (y*(2-(((x&0xffff)*y)&0xffff)))&0xffff;\t// y == 1/x mod 2^16\r\n  // last step - calculate inverse mod DV directly;\r\n  // assumes 16 < DB <= 32 and assumes ability to handle 48-bit ints\r\n  y = (y*(2-x*y%this.DV))%this.DV;\t\t// y == 1/x mod 2^dbits\r\n  // we really want the negative inverse, and -DV < y < DV\r\n  return (y>0)?this.DV-y:-y;\r\n}\r\n\r\n// Montgomery reduction\r\nclass Montgomery {\r\n  constructor(m) {\r\n    this.m = m;\r\n    this.mp = m.invDigit();\r\n    this.mpl = this.mp & 0x7fff;\r\n    this.mph = this.mp >> 15;\r\n    this.um = (1 << (m.DB - 15)) - 1;\r\n    this.mt2 = 2 * m.t;\r\n  }\r\n}\r\n\r\n// xR mod m\r\nfunction montConvert(x) {\r\n  var r = nbi();\r\n  x.abs().dlShiftTo(this.m.t,r);\r\n  r.divRemTo(this.m,null,r);\r\n  if(x.s < 0 && r.compareTo(BigInteger.ZERO) > 0) this.m.subTo(r,r);\r\n  return r;\r\n}\r\n\r\n// x/R mod m\r\nfunction montRevert(x) {\r\n  var r = nbi();\r\n  x.copyTo(r);\r\n  this.reduce(r);\r\n  return r;\r\n}\r\n\r\n// x = x/R mod m (HAC 14.32)\r\nfunction montReduce(x) {\r\n  while(x.t <= this.mt2)\t// pad x so am has enough room later\r\n    x[x.t++] = 0;\r\n  for(var i = 0; i < this.m.t; ++i) {\r\n    // faster way of calculating u0 = x[i]*mp mod DV\r\n    var j = x[i]&0x7fff;\r\n    var u0 = (j*this.mpl+(((j*this.mph+(x[i]>>15)*this.mpl)&this.um)<<15))&x.DM;\r\n    // use am to combine the multiply-shift-add into one call\r\n    j = i+this.m.t;\r\n    x[j] += this.m.am(0,u0,x,i,0,this.m.t);\r\n    // propagate carry\r\n    while(x[j] >= x.DV) { x[j] -= x.DV; x[++j]++; }\r\n  }\r\n  x.clamp();\r\n  x.drShiftTo(this.m.t,x);\r\n  if(x.compareTo(this.m) >= 0) x.subTo(this.m,x);\r\n}\r\n\r\n// r = \"x^2/R mod m\"; x != r\r\nfunction montSqrTo(x,r) { x.squareTo(r); this.reduce(r); }\r\n\r\n// r = \"xy/R mod m\"; x,y != r\r\nfunction montMulTo(x,y,r) { x.multiplyTo(y,r); this.reduce(r); }\r\n\r\nMontgomery.prototype.convert = montConvert;\r\nMontgomery.prototype.revert = montRevert;\r\nMontgomery.prototype.reduce = montReduce;\r\nMontgomery.prototype.mulTo = montMulTo;\r\nMontgomery.prototype.sqrTo = montSqrTo;\r\n\r\n// (protected) true iff this is even\r\nfunction bnpIsEven() { return ((this.t>0)?(this[0]&1):this.s) == 0; }\r\n\r\n// (protected) this^e, e < 2^32, doing sqr and mul with \"r\" (HAC 14.79)\r\nfunction bnpExp(e,z) {\r\n  if(e > 0xffffffff || e < 1) return BigInteger.ONE;\r\n  var r = nbi(), r2 = nbi(), g = z.convert(this), i = nbits(e)-1;\r\n  g.copyTo(r);\r\n  while(--i >= 0) {\r\n    z.sqrTo(r,r2);\r\n    if((e&(1<<i)) > 0) z.mulTo(r2,g,r);\r\n    else { var t = r; r = r2; r2 = t; }\r\n  }\r\n  return z.revert(r);\r\n}\r\n\r\n// (public) this^e % m, 0 <= e < 2^32\r\nfunction bnModPowInt(e,m) {\r\n  var z;\r\n  if(e < 256 || m.isEven()) z = new Classic(m); else z = new Montgomery(m);\r\n  return this.exp(e,z);\r\n}\r\n\r\n// protected\r\nBigInteger.prototype.copyTo = bnpCopyTo;\r\nBigInteger.prototype.fromInt = bnpFromInt;\r\nBigInteger.prototype.fromString = bnpFromString;\r\nBigInteger.prototype.clamp = bnpClamp;\r\nBigInteger.prototype.dlShiftTo = bnpDLShiftTo;\r\nBigInteger.prototype.drShiftTo = bnpDRShiftTo;\r\nBigInteger.prototype.lShiftTo = bnpLShiftTo;\r\nBigInteger.prototype.rShiftTo = bnpRShiftTo;\r\nBigInteger.prototype.subTo = bnpSubTo;\r\nBigInteger.prototype.multiplyTo = bnpMultiplyTo;\r\nBigInteger.prototype.squareTo = bnpSquareTo;\r\nBigInteger.prototype.divRemTo = bnpDivRemTo;\r\nBigInteger.prototype.invDigit = bnpInvDigit;\r\nBigInteger.prototype.isEven = bnpIsEven;\r\nBigInteger.prototype.exp = bnpExp;\r\n\r\n// public\r\nBigInteger.prototype.toString = bnToString;\r\nBigInteger.prototype.negate = bnNegate;\r\nBigInteger.prototype.abs = bnAbs;\r\nBigInteger.prototype.compareTo = bnCompareTo;\r\nBigInteger.prototype.bitLength = bnBitLength;\r\nBigInteger.prototype.mod = bnMod;\r\nBigInteger.prototype.modPowInt = bnModPowInt;\r\n\r\n// \"constants\"\r\nBigInteger.ZERO = nbv(0);\r\nBigInteger.ONE = nbv(1);\r\n\r\n// Copyright (c) 2005-2009  Tom Wu\r\n// All Rights Reserved.\r\n// See \"LICENSE\" for details.\r\n\r\n// Extended JavaScript BN functions, required for RSA private ops.\r\n\r\n// Version 1.1: new BigInteger(\"0\", 10) returns \"proper\" zero\r\n// Version 1.2: square() API, isProbablePrime fix\r\n\r\n// (public)\r\nfunction bnClone() { var r = nbi(); this.copyTo(r); return r; }\r\n\r\n// (public) return value as integer\r\nfunction bnIntValue() {\r\n  if(this.s < 0) {\r\n    if(this.t == 1) return this[0]-this.DV;\r\n    else if(this.t == 0) return -1;\r\n  }\r\n  else if(this.t == 1) return this[0];\r\n  else if(this.t == 0) return 0;\r\n  // assumes 16 < DB < 32\r\n  return ((this[1]&((1<<(32-this.DB))-1))<<this.DB)|this[0];\r\n}\r\n\r\n// (public) return value as byte\r\nfunction bnByteValue() { return (this.t==0)?this.s:(this[0]<<24)>>24; }\r\n\r\n// (public) return value as short (assumes DB>=16)\r\nfunction bnShortValue() { return (this.t==0)?this.s:(this[0]<<16)>>16; }\r\n\r\n// (protected) return x s.t. r^x < DV\r\nfunction bnpChunkSize(r) { return Math.floor(Math.LN2*this.DB/Math.log(r)); }\r\n\r\n// (public) 0 if this == 0, 1 if this > 0\r\nfunction bnSigNum() {\r\n  if(this.s < 0) return -1;\r\n  else if(this.t <= 0 || (this.t == 1 && this[0] <= 0)) return 0;\r\n  else return 1;\r\n}\r\n\r\n// (protected) convert to radix string\r\nfunction bnpToRadix(b) {\r\n  if(b == null) b = 10;\r\n  if(this.signum() == 0 || b < 2 || b > 36) return \"0\";\r\n  var cs = this.chunkSize(b);\r\n  var a = Math.pow(b,cs);\r\n  var d = nbv(a), y = nbi(), z = nbi(), r = \"\";\r\n  this.divRemTo(d,y,z);\r\n  while(y.signum() > 0) {\r\n    r = (a+z.intValue()).toString(b).substr(1) + r;\r\n    y.divRemTo(d,y,z);\r\n  }\r\n  return z.intValue().toString(b) + r;\r\n}\r\n\r\n// (protected) convert from radix string\r\nfunction bnpFromRadix(s,b) {\r\n  this.fromInt(0);\r\n  if(b == null) b = 10;\r\n  var cs = this.chunkSize(b);\r\n  var d = Math.pow(b,cs), mi = false, j = 0, w = 0;\r\n  for(var i = 0; i < s.length; ++i) {\r\n    var x = intAt(s,i);\r\n    if(x < 0) {\r\n      if(s.charAt(i) == \"-\" && this.signum() == 0) mi = true;\r\n      continue;\r\n    }\r\n    w = b*w+x;\r\n    if(++j >= cs) {\r\n      this.dMultiply(d);\r\n      this.dAddOffset(w,0);\r\n      j = 0;\r\n      w = 0;\r\n    }\r\n  }\r\n  if(j > 0) {\r\n    this.dMultiply(Math.pow(b,j));\r\n    this.dAddOffset(w,0);\r\n  }\r\n  if(mi) BigInteger.ZERO.subTo(this,this);\r\n}\r\n\r\n// (protected) alternate constructor\r\nfunction bnpFromNumber(a,b,c) {\r\n  if(\"number\" == typeof b) {\r\n    // new BigInteger(int,int,RNG)\r\n    if(a < 2) this.fromInt(1);\r\n    else {\r\n      this.fromNumber(a,c);\r\n      if(!this.testBit(a-1))\t// force MSB set\r\n        this.bitwiseTo(BigInteger.ONE.shiftLeft(a-1),op_or,this);\r\n      if(this.isEven()) this.dAddOffset(1,0); // force odd\r\n      while(!this.isProbablePrime(b)) {\r\n        this.dAddOffset(2,0);\r\n        if(this.bitLength() > a) this.subTo(BigInteger.ONE.shiftLeft(a-1),this);\r\n      }\r\n    }\r\n  }\r\n  else {\r\n    // new BigInteger(int,RNG)\r\n    var x = [], t = a&7;\r\n    x.length = (a>>3)+1;\r\n    b.nextBytes(x);\r\n    if(t > 0) x[0] &= ((1<<t)-1); else x[0] = 0;\r\n    this.fromString(x,256);\r\n  }\r\n}\r\n\r\n// (public) convert to bigendian byte array\r\nfunction bnToByteArray() {\r\n  var i = this.t, r = [];\r\n  r[0] = this.s;\r\n  var p = this.DB-(i*this.DB)%8, d, k = 0;\r\n  if(i-- > 0) {\r\n    if(p < this.DB && (d = this[i]>>p) != (this.s&this.DM)>>p)\r\n      r[k++] = d|(this.s<<(this.DB-p));\r\n    while(i >= 0) {\r\n      if(p < 8) {\r\n        d = (this[i]&((1<<p)-1))<<(8-p);\r\n        d |= this[--i]>>(p+=this.DB-8);\r\n      }\r\n      else {\r\n        d = (this[i]>>(p-=8))&0xff;\r\n        if(p <= 0) { p += this.DB; --i; }\r\n      }\r\n      if((d&0x80) != 0) d |= -256;\r\n      if(k == 0 && (this.s&0x80) != (d&0x80)) ++k;\r\n      if(k > 0 || d != this.s) r[k++] = d;\r\n    }\r\n  }\r\n  return r;\r\n}\r\n\r\nfunction bnEquals(a) { return(this.compareTo(a)==0); }\r\nfunction bnMin(a) { return(this.compareTo(a)<0)?this:a; }\r\nfunction bnMax(a) { return(this.compareTo(a)>0)?this:a; }\r\n\r\n// (protected) r = this op a (bitwise)\r\nfunction bnpBitwiseTo(a,op,r) {\r\n  var i, f, m = Math.min(a.t,this.t);\r\n  for(i = 0; i < m; ++i) r[i] = op(this[i],a[i]);\r\n  if(a.t < this.t) {\r\n    f = a.s&this.DM;\r\n    for(i = m; i < this.t; ++i) r[i] = op(this[i],f);\r\n    r.t = this.t;\r\n  }\r\n  else {\r\n    f = this.s&this.DM;\r\n    for(i = m; i < a.t; ++i) r[i] = op(f,a[i]);\r\n    r.t = a.t;\r\n  }\r\n  r.s = op(this.s,a.s);\r\n  r.clamp();\r\n}\r\n\r\n// (public) this & a\r\nfunction op_and(x,y) { return x&y; }\r\nfunction bnAnd(a) { var r = nbi(); this.bitwiseTo(a,op_and,r); return r; }\r\n\r\n// (public) this | a\r\nfunction op_or(x,y) { return x|y; }\r\nfunction bnOr(a) { var r = nbi(); this.bitwiseTo(a,op_or,r); return r; }\r\n\r\n// (public) this ^ a\r\nfunction op_xor(x,y) { return x^y; }\r\nfunction bnXor(a) { var r = nbi(); this.bitwiseTo(a,op_xor,r); return r; }\r\n\r\n// (public) this & ~a\r\nfunction op_andnot(x,y) { return x&~y; }\r\nfunction bnAndNot(a) { var r = nbi(); this.bitwiseTo(a,op_andnot,r); return r; }\r\n\r\n// (public) ~this\r\nfunction bnNot() {\r\n  var r = nbi();\r\n  for(var i = 0; i < this.t; ++i) r[i] = this.DM&~this[i];\r\n  r.t = this.t;\r\n  r.s = ~this.s;\r\n  return r;\r\n}\r\n\r\n// (public) this << n\r\nfunction bnShiftLeft(n) {\r\n  var r = nbi();\r\n  if(n < 0) this.rShiftTo(-n,r); else this.lShiftTo(n,r);\r\n  return r;\r\n}\r\n\r\n// (public) this >> n\r\nfunction bnShiftRight(n) {\r\n  var r = nbi();\r\n  if(n < 0) this.lShiftTo(-n,r); else this.rShiftTo(n,r);\r\n  return r;\r\n}\r\n\r\n// return index of lowest 1-bit in x, x < 2^31\r\nfunction lbit(x) {\r\n  if(x == 0) return -1;\r\n  var r = 0;\r\n  if((x&0xffff) == 0) { x >>= 16; r += 16; }\r\n  if((x&0xff) == 0) { x >>= 8; r += 8; }\r\n  if((x&0xf) == 0) { x >>= 4; r += 4; }\r\n  if((x&3) == 0) { x >>= 2; r += 2; }\r\n  if((x&1) == 0) ++r;\r\n  return r;\r\n}\r\n\r\n// (public) returns index of lowest 1-bit (or -1 if none)\r\nfunction bnGetLowestSetBit() {\r\n  for(var i = 0; i < this.t; ++i)\r\n    if(this[i] != 0) return i*this.DB+lbit(this[i]);\r\n  if(this.s < 0) return this.t*this.DB;\r\n  return -1;\r\n}\r\n\r\n// return number of 1 bits in x\r\nfunction cbit(x) {\r\n  var r = 0;\r\n  while(x != 0) { x &= x-1; ++r; }\r\n  return r;\r\n}\r\n\r\n// (public) return number of set bits\r\nfunction bnBitCount() {\r\n  var r = 0, x = this.s&this.DM;\r\n  for(var i = 0; i < this.t; ++i) r += cbit(this[i]^x);\r\n  return r;\r\n}\r\n\r\n// (public) true iff nth bit is set\r\nfunction bnTestBit(n) {\r\n  var j = Math.floor(n/this.DB);\r\n  if(j >= this.t) return(this.s!=0);\r\n  return((this[j]&(1<<(n%this.DB)))!=0);\r\n}\r\n\r\n// (protected) this op (1<<n)\r\nfunction bnpChangeBit(n,op) {\r\n  var r = BigInteger.ONE.shiftLeft(n);\r\n  this.bitwiseTo(r,op,r);\r\n  return r;\r\n}\r\n\r\n// (public) this | (1<<n)\r\nfunction bnSetBit(n) { return this.changeBit(n,op_or); }\r\n\r\n// (public) this & ~(1<<n)\r\nfunction bnClearBit(n) { return this.changeBit(n,op_andnot); }\r\n\r\n// (public) this ^ (1<<n)\r\nfunction bnFlipBit(n) { return this.changeBit(n,op_xor); }\r\n\r\n// (protected) r = this + a\r\nfunction bnpAddTo(a,r) {\r\n  var i = 0, c = 0, m = Math.min(a.t,this.t);\r\n  while(i < m) {\r\n    c += this[i]+a[i];\r\n    r[i++] = c&this.DM;\r\n    c >>= this.DB;\r\n  }\r\n  if(a.t < this.t) {\r\n    c += a.s;\r\n    while(i < this.t) {\r\n      c += this[i];\r\n      r[i++] = c&this.DM;\r\n      c >>= this.DB;\r\n    }\r\n    c += this.s;\r\n  }\r\n  else {\r\n    c += this.s;\r\n    while(i < a.t) {\r\n      c += a[i];\r\n      r[i++] = c&this.DM;\r\n      c >>= this.DB;\r\n    }\r\n    c += a.s;\r\n  }\r\n  r.s = (c<0)?-1:0;\r\n  if(c > 0) r[i++] = c;\r\n  else if(c < -1) r[i++] = this.DV+c;\r\n  r.t = i;\r\n  r.clamp();\r\n}\r\n\r\n// (public) this + a\r\nfunction bnAdd(a) { var r = nbi(); this.addTo(a,r); return r; }\r\n\r\n// (public) this - a\r\nfunction bnSubtract(a) { var r = nbi(); this.subTo(a,r); return r; }\r\n\r\n// (public) this * a\r\nfunction bnMultiply(a) { var r = nbi(); this.multiplyTo(a,r); return r; }\r\n\r\n// (public) this^2\r\nfunction bnSquare() { var r = nbi(); this.squareTo(r); return r; }\r\n\r\n// (public) this / a\r\nfunction bnDivide(a) { var r = nbi(); this.divRemTo(a,r,null); return r; }\r\n\r\n// (public) this % a\r\nfunction bnRemainder(a) { var r = nbi(); this.divRemTo(a,null,r); return r; }\r\n\r\n// (public) [this/a,this%a]\r\nfunction bnDivideAndRemainder(a) {\r\n  var q = nbi(), r = nbi();\r\n  this.divRemTo(a,q,r);\r\n  return new Array(q,r);\r\n}\r\n\r\n// (protected) this *= n, this >= 0, 1 < n < DV\r\nfunction bnpDMultiply(n) {\r\n  this[this.t] = this.am(0,n-1,this,0,0,this.t);\r\n  ++this.t;\r\n  this.clamp();\r\n}\r\n\r\n// (protected) this += n << w words, this >= 0\r\nfunction bnpDAddOffset(n,w) {\r\n  if(n == 0) return;\r\n  while(this.t <= w) this[this.t++] = 0;\r\n  this[w] += n;\r\n  while(this[w] >= this.DV) {\r\n    this[w] -= this.DV;\r\n    if(++w >= this.t) this[this.t++] = 0;\r\n    ++this[w];\r\n  }\r\n}\r\n\r\n// A \"null\" reducer\r\nfunction NullExp() {}\r\nfunction nNop(x) { return x; }\r\nfunction nMulTo(x,y,r) { x.multiplyTo(y,r); }\r\nfunction nSqrTo(x,r) { x.squareTo(r); }\r\n\r\nNullExp.prototype.convert = nNop;\r\nNullExp.prototype.revert = nNop;\r\nNullExp.prototype.mulTo = nMulTo;\r\nNullExp.prototype.sqrTo = nSqrTo;\r\n\r\n// (public) this^e\r\nfunction bnPow(e) { return this.exp(e,new NullExp()); }\r\n\r\n// (protected) r = lower n words of \"this * a\", a.t <= n\r\n// \"this\" should be the larger one if appropriate.\r\nfunction bnpMultiplyLowerTo(a,n,r) {\r\n  var i = Math.min(this.t+a.t,n);\r\n  r.s = 0; // assumes a,this >= 0\r\n  r.t = i;\r\n  while(i > 0) r[--i] = 0;\r\n  var j;\r\n  for(j = r.t-this.t; i < j; ++i) r[i+this.t] = this.am(0,a[i],r,i,0,this.t);\r\n  for(j = Math.min(a.t,n); i < j; ++i) this.am(0,a[i],r,i,0,n-i);\r\n  r.clamp();\r\n}\r\n\r\n// (protected) r = \"this * a\" without lower n words, n > 0\r\n// \"this\" should be the larger one if appropriate.\r\nfunction bnpMultiplyUpperTo(a,n,r) {\r\n  --n;\r\n  var i = r.t = this.t+a.t-n;\r\n  r.s = 0; // assumes a,this >= 0\r\n  while(--i >= 0) r[i] = 0;\r\n  for(i = Math.max(n-this.t,0); i < a.t; ++i)\r\n    r[this.t+i-n] = this.am(n-i,a[i],r,0,0,this.t+i-n);\r\n  r.clamp();\r\n  r.drShiftTo(1,r);\r\n}\r\n\r\n// Barrett modular reduction\r\nfunction Barrett(m) {\r\n  // setup Barrett\r\n  this.r2 = nbi();\r\n  this.q3 = nbi();\r\n  BigInteger.ONE.dlShiftTo(2*m.t,this.r2);\r\n  this.mu = this.r2.divide(m);\r\n  this.m = m;\r\n}\r\n\r\nfunction barrettConvert(x) {\r\n  if(x.s < 0 || x.t > 2*this.m.t) return x.mod(this.m);\r\n  else if(x.compareTo(this.m) < 0) return x;\r\n  else { var r = nbi(); x.copyTo(r); this.reduce(r); return r; }\r\n}\r\n\r\nfunction barrettRevert(x) { return x; }\r\n\r\n// x = x mod m (HAC 14.42)\r\nfunction barrettReduce(x) {\r\n  x.drShiftTo(this.m.t-1,this.r2);\r\n  if(x.t > this.m.t+1) { x.t = this.m.t+1; x.clamp(); }\r\n  this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3);\r\n  this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);\r\n  while(x.compareTo(this.r2) < 0) x.dAddOffset(1,this.m.t+1);\r\n  x.subTo(this.r2,x);\r\n  while(x.compareTo(this.m) >= 0) x.subTo(this.m,x);\r\n}\r\n\r\n// r = x^2 mod m; x != r\r\nfunction barrettSqrTo(x,r) { x.squareTo(r); this.reduce(r); }\r\n\r\n// r = x*y mod m; x,y != r\r\nfunction barrettMulTo(x,y,r) { x.multiplyTo(y,r); this.reduce(r); }\r\n\r\nBarrett.prototype.convert = barrettConvert;\r\nBarrett.prototype.revert = barrettRevert;\r\nBarrett.prototype.reduce = barrettReduce;\r\nBarrett.prototype.mulTo = barrettMulTo;\r\nBarrett.prototype.sqrTo = barrettSqrTo;\r\n\r\n// (public) this^e % m (HAC 14.85)\r\nfunction bnModPow(e,m) {\r\n  var i = e.bitLength(), k, r = nbv(1), z;\r\n  if(i <= 0) return r;\r\n  else if(i < 18) k = 1;\r\n  else if(i < 48) k = 3;\r\n  else if(i < 144) k = 4;\r\n  else if(i < 768) k = 5;\r\n  else k = 6;\r\n  if(i < 8)\r\n    z = new Classic(m);\r\n  else if(m.isEven())\r\n    z = new Barrett(m);\r\n  else\r\n    z = new Montgomery(m);\r\n\r\n  // precomputation\r\n  var g = [], n = 3, k1 = k-1, km = (1<<k)-1;\r\n  g[1] = z.convert(this);\r\n  if(k > 1) {\r\n    var g2 = nbi();\r\n    z.sqrTo(g[1],g2);\r\n    while(n <= km) {\r\n      g[n] = nbi();\r\n      z.mulTo(g2,g[n-2],g[n]);\r\n      n += 2;\r\n    }\r\n  }\r\n\r\n  var j = e.t-1, w, is1 = true, r2 = nbi(), t;\r\n  i = nbits(e[j])-1;\r\n  while(j >= 0) {\r\n    if(i >= k1) w = (e[j]>>(i-k1))&km;\r\n    else {\r\n      w = (e[j]&((1<<(i+1))-1))<<(k1-i);\r\n      if(j > 0) w |= e[j-1]>>(this.DB+i-k1);\r\n    }\r\n\r\n    n = k;\r\n    while((w&1) == 0) { w >>= 1; --n; }\r\n    if((i -= n) < 0) { i += this.DB; --j; }\r\n    if(is1) {\t// ret == 1, don't bother squaring or multiplying it\r\n      g[w].copyTo(r);\r\n      is1 = false;\r\n    }\r\n    else {\r\n      while(n > 1) { z.sqrTo(r,r2); z.sqrTo(r2,r); n -= 2; }\r\n      if(n > 0) z.sqrTo(r,r2); else { t = r; r = r2; r2 = t; }\r\n      z.mulTo(r2,g[w],r);\r\n    }\r\n\r\n    while(j >= 0 && (e[j]&(1<<i)) == 0) {\r\n      z.sqrTo(r,r2); t = r; r = r2; r2 = t;\r\n      if(--i < 0) { i = this.DB-1; --j; }\r\n    }\r\n  }\r\n  return z.revert(r);\r\n}\r\n\r\n// (public) gcd(this,a) (HAC 14.54)\r\nfunction bnGCD(a) {\r\n  var x = (this.s<0)?this.negate():this.clone();\r\n  var y = (a.s<0)?a.negate():a.clone();\r\n  if(x.compareTo(y) < 0) { var t = x; x = y; y = t; }\r\n  var i = x.getLowestSetBit(), g = y.getLowestSetBit();\r\n  if(g < 0) return x;\r\n  if(i < g) g = i;\r\n  if(g > 0) {\r\n    x.rShiftTo(g,x);\r\n    y.rShiftTo(g,y);\r\n  }\r\n  while(x.signum() > 0) {\r\n    if((i = x.getLowestSetBit()) > 0) x.rShiftTo(i,x);\r\n    if((i = y.getLowestSetBit()) > 0) y.rShiftTo(i,y);\r\n    if(x.compareTo(y) >= 0) {\r\n      x.subTo(y,x);\r\n      x.rShiftTo(1,x);\r\n    }\r\n    else {\r\n      y.subTo(x,y);\r\n      y.rShiftTo(1,y);\r\n    }\r\n  }\r\n  if(g > 0) y.lShiftTo(g,y);\r\n  return y;\r\n}\r\n\r\n// (protected) this % n, n < 2^26\r\nfunction bnpModInt(n) {\r\n  if(n <= 0) return 0;\r\n  var d = this.DV%n, r = (this.s<0)?n-1:0;\r\n  if(this.t > 0)\r\n    if(d == 0) r = this[0]%n;\r\n    else for(var i = this.t-1; i >= 0; --i) r = (d*r+this[i])%n;\r\n  return r;\r\n}\r\n\r\n// (public) 1/this % m (HAC 14.61)\r\nfunction bnModInverse(m) {\r\n  var ac = m.isEven();\r\n  if((this.isEven() && ac) || m.signum() == 0) return BigInteger.ZERO;\r\n  var u = m.clone(), v = this.clone();\r\n  var a = nbv(1), b = nbv(0), c = nbv(0), d = nbv(1);\r\n  while(u.signum() != 0) {\r\n    while(u.isEven()) {\r\n      u.rShiftTo(1,u);\r\n      if(ac) {\r\n        if(!a.isEven() || !b.isEven()) { a.addTo(this,a); b.subTo(m,b); }\r\n        a.rShiftTo(1,a);\r\n      }\r\n      else if(!b.isEven()) b.subTo(m,b);\r\n      b.rShiftTo(1,b);\r\n    }\r\n    while(v.isEven()) {\r\n      v.rShiftTo(1,v);\r\n      if(ac) {\r\n        if(!c.isEven() || !d.isEven()) { c.addTo(this,c); d.subTo(m,d); }\r\n        c.rShiftTo(1,c);\r\n      }\r\n      else if(!d.isEven()) d.subTo(m,d);\r\n      d.rShiftTo(1,d);\r\n    }\r\n    if(u.compareTo(v) >= 0) {\r\n      u.subTo(v,u);\r\n      if(ac) a.subTo(c,a);\r\n      b.subTo(d,b);\r\n    }\r\n    else {\r\n      v.subTo(u,v);\r\n      if(ac) c.subTo(a,c);\r\n      d.subTo(b,d);\r\n    }\r\n  }\r\n  if(v.compareTo(BigInteger.ONE) != 0) return BigInteger.ZERO;\r\n  if(d.compareTo(m) >= 0) return d.subtract(m);\r\n  if(d.signum() < 0) d.addTo(m,d); else return d;\r\n  if(d.signum() < 0) return d.add(m); else return d;\r\n}\r\n\r\nvar lowprimes = [2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997];\r\nvar lplim = (1<<26)/lowprimes[lowprimes.length-1];\r\n\r\n// (public) test primality with certainty >= 1-.5^t\r\nfunction bnIsProbablePrime(t) {\r\n  var i, x = this.abs();\r\n  if(x.t == 1 && x[0] <= lowprimes[lowprimes.length-1]) {\r\n    for(i = 0; i < lowprimes.length; ++i)\r\n      if(x[0] == lowprimes[i]) return true;\r\n    return false;\r\n  }\r\n  if(x.isEven()) return false;\r\n  i = 1;\r\n  while(i < lowprimes.length) {\r\n    var m = lowprimes[i], j = i+1;\r\n    while(j < lowprimes.length && m < lplim) m *= lowprimes[j++];\r\n    m = x.modInt(m);\r\n    while(i < j) if(m%lowprimes[i++] == 0) return false;\r\n  }\r\n  return x.millerRabin(t);\r\n}\r\n\r\n// (protected) true if probably prime (HAC 4.24, Miller-Rabin)\r\nfunction bnpMillerRabin(t) {\r\n  var n1 = this.subtract(BigInteger.ONE);\r\n  var k = n1.getLowestSetBit();\r\n  if(k <= 0) return false;\r\n  var r = n1.shiftRight(k);\r\n  t = (t+1)>>1;\r\n  if(t > lowprimes.length) t = lowprimes.length;\r\n  var a = nbi();\r\n  for(var i = 0; i < t; ++i) {\r\n    //Pick bases at random, instead of starting at 2\r\n    a.fromInt(lowprimes[Math.floor(Math.random()*lowprimes.length)]);\r\n    var y = a.modPow(r,this);\r\n    if(y.compareTo(BigInteger.ONE) != 0 && y.compareTo(n1) != 0) {\r\n      var j = 1;\r\n      while(j++ < k && y.compareTo(n1) != 0) {\r\n        y = y.modPowInt(2,this);\r\n        if(y.compareTo(BigInteger.ONE) == 0) return false;\r\n      }\r\n      if(y.compareTo(n1) != 0) return false;\r\n    }\r\n  }\r\n  return true;\r\n}\r\n\r\n// protected\r\nBigInteger.prototype.chunkSize = bnpChunkSize;\r\nBigInteger.prototype.toRadix = bnpToRadix;\r\nBigInteger.prototype.fromRadix = bnpFromRadix;\r\nBigInteger.prototype.fromNumber = bnpFromNumber;\r\nBigInteger.prototype.bitwiseTo = bnpBitwiseTo;\r\nBigInteger.prototype.changeBit = bnpChangeBit;\r\nBigInteger.prototype.addTo = bnpAddTo;\r\nBigInteger.prototype.dMultiply = bnpDMultiply;\r\nBigInteger.prototype.dAddOffset = bnpDAddOffset;\r\nBigInteger.prototype.multiplyLowerTo = bnpMultiplyLowerTo;\r\nBigInteger.prototype.multiplyUpperTo = bnpMultiplyUpperTo;\r\nBigInteger.prototype.modInt = bnpModInt;\r\nBigInteger.prototype.millerRabin = bnpMillerRabin;\r\n\r\n// public\r\nBigInteger.prototype.clone = bnClone;\r\nBigInteger.prototype.intValue = bnIntValue;\r\nBigInteger.prototype.byteValue = bnByteValue;\r\nBigInteger.prototype.shortValue = bnShortValue;\r\nBigInteger.prototype.signum = bnSigNum;\r\nBigInteger.prototype.toByteArray = bnToByteArray;\r\nBigInteger.prototype.equals = bnEquals;\r\nBigInteger.prototype.min = bnMin;\r\nBigInteger.prototype.max = bnMax;\r\nBigInteger.prototype.and = bnAnd;\r\nBigInteger.prototype.or = bnOr;\r\nBigInteger.prototype.xor = bnXor;\r\nBigInteger.prototype.andNot = bnAndNot;\r\nBigInteger.prototype.not = bnNot;\r\nBigInteger.prototype.shiftLeft = bnShiftLeft;\r\nBigInteger.prototype.shiftRight = bnShiftRight;\r\nBigInteger.prototype.getLowestSetBit = bnGetLowestSetBit;\r\nBigInteger.prototype.bitCount = bnBitCount;\r\nBigInteger.prototype.testBit = bnTestBit;\r\nBigInteger.prototype.setBit = bnSetBit;\r\nBigInteger.prototype.clearBit = bnClearBit;\r\nBigInteger.prototype.flipBit = bnFlipBit;\r\nBigInteger.prototype.add = bnAdd;\r\nBigInteger.prototype.subtract = bnSubtract;\r\nBigInteger.prototype.multiply = bnMultiply;\r\nBigInteger.prototype.divide = bnDivide;\r\nBigInteger.prototype.remainder = bnRemainder;\r\nBigInteger.prototype.divideAndRemainder = bnDivideAndRemainder;\r\nBigInteger.prototype.modPow = bnModPow;\r\nBigInteger.prototype.modInverse = bnModInverse;\r\nBigInteger.prototype.pow = bnPow;\r\nBigInteger.prototype.gcd = bnGCD;\r\nBigInteger.prototype.isProbablePrime = bnIsProbablePrime;\r\n\r\n// JSBN-specific extension\r\nBigInteger.prototype.square = bnSquare;\r\n\r\n// BigInteger interfaces not implemented in jsbn:\r\n\r\n// BigInteger(int signum, byte[] magnitude)\r\n// double doubleValue()\r\n// float floatValue()\r\n// int hashCode()\r\n// long longValue()\r\n// static BigInteger valueOf(long val)\r\n\r\n// Version 1.1: support utf-8 encoding in pkcs1pad2\r\n\r\n// convert a (hex) string to a bignum object\r\n\r\nfunction parseBigInt(str,r) {\r\n  return new BigInteger(str,r);\r\n}\r\n\r\n// PKCS#1 (type 2, random) pad input string s to n bytes, and return a bigint\r\nfunction pkcs1pad2(s,n) {\r\n  if(n < s.length + 11) { // TODO: fix for utf-8\r\n    console.error(\"Message too long for RSA\");\r\n    return null;\r\n  }\r\n  var ba = [];\r\n  var i = s.length - 1;\r\n  while(i >= 0 && n > 0) {\r\n    var c = s.charCodeAt(i--);\r\n    if(c < 128) { // encode using utf-8\r\n      ba[--n] = c;\r\n    }\r\n    else if((c > 127) && (c < 2048)) {\r\n      ba[--n] = (c & 63) | 128;\r\n      ba[--n] = (c >> 6) | 192;\r\n    }\r\n    else {\r\n      ba[--n] = (c & 63) | 128;\r\n      ba[--n] = ((c >> 6) & 63) | 128;\r\n      ba[--n] = (c >> 12) | 224;\r\n    }\r\n  }\r\n  ba[--n] = 0;\r\n  var rng = new SecureRandom();\r\n  var x = [];\r\n  while(n > 2) { // random non-zero pad\r\n    x[0] = 0;\r\n    while(x[0] == 0) rng.nextBytes(x);\r\n    ba[--n] = x[0];\r\n  }\r\n  ba[--n] = 2;\r\n  ba[--n] = 0;\r\n  return new BigInteger(ba);\r\n}\r\n\r\n// \"empty\" RSA key constructor\r\nclass RSAKey {\r\n  constructor() {\r\n    this.n = null;\r\n    this.e = 0;\r\n    this.d = null;\r\n    this.p = null;\r\n    this.q = null;\r\n    this.dmp1 = null;\r\n    this.dmq1 = null;\r\n    this.coeff = null;\r\n  }\r\n}\r\n\r\n// Set the public key fields N and e from hex strings\r\nfunction RSASetPublic(N,E) {\r\n  if(N != null && E != null && N.length > 0 && E.length > 0) {\r\n    this.n = parseBigInt(N,16);\r\n    this.e = parseInt(E,16);\r\n  }\r\n  else\r\n    console.error(\"Invalid RSA public key\");\r\n}\r\n\r\n// Perform raw public operation on \"x\": return x^e (mod n)\r\nfunction RSADoPublic(x) {\r\n  return x.modPowInt(this.e, this.n);\r\n}\r\n\r\n// Return the PKCS#1 RSA encryption of \"text\" as an even-length hex string\r\nfunction RSAEncrypt(text) {\r\n  var m = pkcs1pad2(text,(this.n.bitLength()+7)>>3);\r\n  if(m == null) return null;\r\n  var c = this.doPublic(m);\r\n  if(c == null) return null;\r\n  var h = c.toString(16);\r\n  if((h.length & 1) == 0) return h; else return \"0\" + h;\r\n}\r\n\r\n// Return the PKCS#1 RSA encryption of \"text\" as a Base64-encoded string\r\n//function RSAEncryptB64(text) {\r\n//  var h = this.encrypt(text);\r\n//  if(h) return hex2b64(h); else return null;\r\n//}\r\n\r\n// protected\r\nRSAKey.prototype.doPublic = RSADoPublic;\r\n\r\n// public\r\nRSAKey.prototype.setPublic = RSASetPublic;\r\nRSAKey.prototype.encrypt = RSAEncrypt;\r\n//RSAKey.prototype.encrypt_b64 = RSAEncryptB64;\r\n\r\n// Version 1.1: support utf-8 decoding in pkcs1unpad2\r\n\r\n// Undo PKCS#1 (type 2, random) padding and, if valid, return the plaintext\r\n\r\nfunction pkcs1unpad2(d,n) {\r\n  var b = d.toByteArray();\r\n  var i = 0;\r\n  while(i < b.length && b[i] == 0) ++i;\r\n  if(b.length-i != n-1 || b[i] != 2)\r\n    return null;\r\n  ++i;\r\n  while(b[i] != 0)\r\n    if(++i >= b.length) return null;\r\n  var ret = \"\";\r\n  while(++i < b.length) {\r\n    var c = b[i] & 255;\r\n    if(c < 128) { // utf-8 decode\r\n      ret += String.fromCharCode(c);\r\n    }\r\n    else if((c > 191) && (c < 224)) {\r\n      ret += String.fromCharCode(((c & 31) << 6) | (b[i+1] & 63));\r\n      ++i;\r\n    }\r\n    else {\r\n      ret += String.fromCharCode(((c & 15) << 12) | ((b[i+1] & 63) << 6) | (b[i+2] & 63));\r\n      i += 2;\r\n    }\r\n  }\r\n  return ret;\r\n}\r\n\r\n// Set the private key fields N, e, and d from hex strings\r\nfunction RSASetPrivate(N,E,D) {\r\n  if(N != null && E != null && N.length > 0 && E.length > 0) {\r\n    this.n = parseBigInt(N,16);\r\n    this.e = parseInt(E,16);\r\n    this.d = parseBigInt(D,16);\r\n  }\r\n  else\r\n    console.error(\"Invalid RSA private key\");\r\n}\r\n\r\n// Set the private key fields N, e, d and CRT params from hex strings\r\nfunction RSASetPrivateEx(N,E,D,P,Q,DP,DQ,C) {\r\n  if(N != null && E != null && N.length > 0 && E.length > 0) {\r\n    this.n = parseBigInt(N,16);\r\n    this.e = parseInt(E,16);\r\n    this.d = parseBigInt(D,16);\r\n    this.p = parseBigInt(P,16);\r\n    this.q = parseBigInt(Q,16);\r\n    this.dmp1 = parseBigInt(DP,16);\r\n    this.dmq1 = parseBigInt(DQ,16);\r\n    this.coeff = parseBigInt(C,16);\r\n  }\r\n  else\r\n    console.error(\"Invalid RSA private key\");\r\n}\r\n\r\n// Generate a new random private key B bits long, using public expt E\r\nfunction RSAGenerate(B,E) {\r\n  var rng = new SecureRandom();\r\n  var qs = B>>1;\r\n  this.e = parseInt(E,16);\r\n  var ee = new BigInteger(E,16);\r\n  for(;;) {\r\n    for(;;) {\r\n      this.p = new BigInteger(B-qs,1,rng);\r\n      if(this.p.subtract(BigInteger.ONE).gcd(ee).compareTo(BigInteger.ONE) == 0 && this.p.isProbablePrime(10)) break;\r\n    }\r\n    for(;;) {\r\n      this.q = new BigInteger(qs,1,rng);\r\n      if(this.q.subtract(BigInteger.ONE).gcd(ee).compareTo(BigInteger.ONE) == 0 && this.q.isProbablePrime(10)) break;\r\n    }\r\n    if(this.p.compareTo(this.q) <= 0) {\r\n      var t = this.p;\r\n      this.p = this.q;\r\n      this.q = t;\r\n    }\r\n    var p1 = this.p.subtract(BigInteger.ONE);\r\n    var q1 = this.q.subtract(BigInteger.ONE);\r\n    var phi = p1.multiply(q1);\r\n    if(phi.gcd(ee).compareTo(BigInteger.ONE) == 0) {\r\n      this.n = this.p.multiply(this.q);\r\n      this.d = ee.modInverse(phi);\r\n      this.dmp1 = this.d.mod(p1);\r\n      this.dmq1 = this.d.mod(q1);\r\n      this.coeff = this.q.modInverse(this.p);\r\n      break;\r\n    }\r\n  }\r\n}\r\n\r\n// Perform raw private operation on \"x\": return x^d (mod n)\r\nfunction RSADoPrivate(x) {\r\n  if(this.p == null || this.q == null)\r\n    return x.modPow(this.d, this.n);\r\n\r\n  // TODO: re-calculate any missing CRT params\r\n  var xp = x.mod(this.p).modPow(this.dmp1, this.p);\r\n  var xq = x.mod(this.q).modPow(this.dmq1, this.q);\r\n\r\n  while(xp.compareTo(xq) < 0)\r\n    xp = xp.add(this.p);\r\n  return xp.subtract(xq).multiply(this.coeff).mod(this.p).multiply(this.q).add(xq);\r\n}\r\n\r\n// Return the PKCS#1 RSA decryption of \"ctext\".\r\n// \"ctext\" is an even-length hex string and the output is a plain string.\r\nfunction RSADecrypt(ctext) {\r\n  var c = parseBigInt(ctext, 16);\r\n  var m = this.doPrivate(c);\r\n  if(m == null) return null;\r\n  return pkcs1unpad2(m, (this.n.bitLength()+7)>>3);\r\n}\r\n\r\n// Return the PKCS#1 RSA decryption of \"ctext\".\r\n// \"ctext\" is a Base64-encoded string and the output is a plain string.\r\n//function RSAB64Decrypt(ctext) {\r\n//  var h = b64tohex(ctext);\r\n//  if(h) return this.decrypt(h); else return null;\r\n//}\r\n\r\n// protected\r\nRSAKey.prototype.doPrivate = RSADoPrivate;\r\n\r\n// public\r\nRSAKey.prototype.setPrivate = RSASetPrivate;\r\nRSAKey.prototype.setPrivateEx = RSASetPrivateEx;\r\nRSAKey.prototype.generate = RSAGenerate;\r\nRSAKey.prototype.decrypt = RSADecrypt;\r\n//RSAKey.prototype.b64_decrypt = RSAB64Decrypt;\r\n\r\n// Base64 JavaScript decoder\r\n// Copyright (c) 2008-2013 Lapo Luchini <lapo@lapo.it>\r\n\r\n// Permission to use, copy, modify, and/or distribute this software for any\r\n// purpose with or without fee is hereby granted, provided that the above\r\n// copyright notice and this permission notice appear in all copies.\r\n// \r\n// THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES\r\n// WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF\r\n// MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR\r\n// ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES\r\n// WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN\r\n// ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF\r\n// OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.\r\n\r\n/*jshint browser: true, strict: true, immed: true, latedef: true, undef: true, regexdash: false */\r\n\r\nconst Base64 = {};\r\nlet decoder;\r\n\r\nBase64.decode = function (a) {\r\n    var i;\r\n    if (decoder === undefined) {\r\n        var b64 = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",\r\n            ignore = \"= \\f\\n\\r\\t\\u00A0\\u2028\\u2029\";\r\n        decoder = [];\r\n        for (i = 0; i < 64; ++i)\r\n            decoder[b64.charAt(i)] = i;\r\n        for (i = 0; i < ignore.length; ++i)\r\n            decoder[ignore.charAt(i)] = -1;\r\n    }\r\n    var out = [];\r\n    var bits = 0, char_count = 0;\r\n    for (i = 0; i < a.length; ++i) {\r\n        var c = a.charAt(i);\r\n        if (c == '=')\r\n            break;\r\n        c = decoder[c];\r\n        if (c == -1)\r\n            continue;\r\n        if (c === undefined)\r\n            throw 'Illegal character at offset ' + i;\r\n        bits |= c;\r\n        if (++char_count >= 4) {\r\n            out[out.length] = (bits >> 16);\r\n            out[out.length] = (bits >> 8) & 0xFF;\r\n            out[out.length] = bits & 0xFF;\r\n            bits = 0;\r\n            char_count = 0;\r\n        } else {\r\n            bits <<= 6;\r\n        }\r\n    }\r\n    switch (char_count) {\r\n      case 1:\r\n        throw \"Base64 encoding incomplete: at least 2 bits missing\";\r\n      case 2:\r\n        out[out.length] = (bits >> 10);\r\n        break;\r\n      case 3:\r\n        out[out.length] = (bits >> 16);\r\n        out[out.length] = (bits >> 8) & 0xFF;\r\n        break;\r\n    }\r\n    return out;\r\n};\r\n\r\nBase64.re = /-----BEGIN [^-]+-----([A-Za-z0-9+\\/=\\s]+)-----END [^-]+-----|begin-base64[^\\n]+\\n([A-Za-z0-9+\\/=\\s]+)====/;\r\nBase64.unarmor = function (a) {\r\n    var m = Base64.re.exec(a);\r\n    if (m) {\r\n        if (m[1])\r\n            a = m[1];\r\n        else if (m[2])\r\n            a = m[2];\r\n        else\r\n            throw \"RegExp out of sync\";\r\n    }\r\n    return Base64.decode(a);\r\n};\r\n\r\n// Hex JavaScript decoder\r\n// Copyright (c) 2008-2013 Lapo Luchini <lapo@lapo.it>\r\n\r\n// Permission to use, copy, modify, and/or distribute this software for any\r\n// purpose with or without fee is hereby granted, provided that the above\r\n// copyright notice and this permission notice appear in all copies.\r\n// \r\n// THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES\r\n// WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF\r\n// MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR\r\n// ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES\r\n// WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN\r\n// ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF\r\n// OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.\r\n\r\n/*jshint browser: true, strict: true, immed: true, latedef: true, undef: true, regexdash: false */\r\nconst Hex = {};\r\nlet decoder$1;\r\n\r\nHex.decode = function(a) {\r\n    var i;\r\n    if (decoder$1 === undefined) {\r\n        var hex = \"0123456789ABCDEF\",\r\n            ignore = \" \\f\\n\\r\\t\\u00A0\\u2028\\u2029\";\r\n        decoder$1 = [];\r\n        for (i = 0; i < 16; ++i)\r\n            decoder$1[hex.charAt(i)] = i;\r\n        hex = hex.toLowerCase();\r\n        for (i = 10; i < 16; ++i)\r\n            decoder$1[hex.charAt(i)] = i;\r\n        for (i = 0; i < ignore.length; ++i)\r\n            decoder$1[ignore.charAt(i)] = -1;\r\n    }\r\n    var out = [],\r\n        bits = 0,\r\n        char_count = 0;\r\n    for (i = 0; i < a.length; ++i) {\r\n        var c = a.charAt(i);\r\n        if (c == '=')\r\n            break;\r\n        c = decoder$1[c];\r\n        if (c == -1)\r\n            continue;\r\n        if (c === undefined)\r\n            throw 'Illegal character at offset ' + i;\r\n        bits |= c;\r\n        if (++char_count >= 2) {\r\n            out[out.length] = bits;\r\n            bits = 0;\r\n            char_count = 0;\r\n        } else {\r\n            bits <<= 4;\r\n        }\r\n    }\r\n    if (char_count)\r\n        throw \"Hex encoding incomplete: 4 bits missing\";\r\n    return out;\r\n};\r\n\r\n/*! asn1-1.0.2.js (c) 2013 Kenji Urushima | kjur.github.com/jsrsasign/license\r\n */\r\n\r\nconst JSX = /*window.JSX || */{};\r\nJSX.env = JSX.env || {};\r\n\r\nvar L = JSX;\r\nvar OP = Object.prototype;\r\nvar FUNCTION_TOSTRING = '[object Function]';\r\nvar ADD = [\"toString\", \"valueOf\"];\r\n\r\nJSX.env.parseUA = function(agent) {\r\n\r\n    var numberify = function(s) {\r\n        var c = 0;\r\n        return parseFloat(s.replace(/\\./g, function() {\r\n            return (c++ == 1) ? '' : '.';\r\n        }));\r\n    },\r\n\r\n    nav = navigator,\r\n    o = {\r\n        ie: 0,\r\n        opera: 0,\r\n        gecko: 0,\r\n        webkit: 0,\r\n        chrome: 0,\r\n        mobile: null,\r\n        air: 0,\r\n        ipad: 0,\r\n        iphone: 0,\r\n        ipod: 0,\r\n        ios: null,\r\n        android: 0,\r\n        webos: 0,\r\n        caja: nav && nav.cajaVersion,\r\n        secure: false,\r\n        os: null\r\n\r\n    },\r\n\r\n    ua = agent || (navigator && navigator.userAgent),\r\n    loc = window && window.location,\r\n    href = loc && loc.href,\r\n    m;\r\n\r\n    o.secure = href && (href.toLowerCase().indexOf(\"https\") === 0);\r\n\r\n    if (ua) {\r\n\r\n        if ((/windows|win32/i).test(ua)) {\r\n            o.os = 'windows';\r\n        } else if ((/macintosh/i).test(ua)) {\r\n            o.os = 'macintosh';\r\n        } else if ((/rhino/i).test(ua)) {\r\n            o.os = 'rhino';\r\n        }\r\n        if ((/KHTML/).test(ua)) {\r\n            o.webkit = 1;\r\n        }\r\n        m = ua.match(/AppleWebKit\\/([^\\s]*)/);\r\n        if (m && m[1]) {\r\n            o.webkit = numberify(m[1]);\r\n            if (/ Mobile\\//.test(ua)) {\r\n                o.mobile = 'Apple'; // iPhone or iPod Touch\r\n                m = ua.match(/OS ([^\\s]*)/);\r\n                if (m && m[1]) {\r\n                    m = numberify(m[1].replace('_', '.'));\r\n                }\r\n                o.ios = m;\r\n                o.ipad = o.ipod = o.iphone = 0;\r\n                m = ua.match(/iPad|iPod|iPhone/);\r\n                if (m && m[0]) {\r\n                    o[m[0].toLowerCase()] = o.ios;\r\n                }\r\n            } else {\r\n                m = ua.match(/NokiaN[^\\/]*|Android \\d\\.\\d|webOS\\/\\d\\.\\d/);\r\n                if (m) {\r\n                    o.mobile = m[0];\r\n                }\r\n                if (/webOS/.test(ua)) {\r\n                    o.mobile = 'WebOS';\r\n                    m = ua.match(/webOS\\/([^\\s]*);/);\r\n                    if (m && m[1]) {\r\n                        o.webos = numberify(m[1]);\r\n                    }\r\n                }\r\n                if (/ Android/.test(ua)) {\r\n                    o.mobile = 'Android';\r\n                    m = ua.match(/Android ([^\\s]*);/);\r\n                    if (m && m[1]) {\r\n                        o.android = numberify(m[1]);\r\n                    }\r\n                }\r\n            }\r\n            m = ua.match(/Chrome\\/([^\\s]*)/);\r\n            if (m && m[1]) {\r\n                o.chrome = numberify(m[1]); // Chrome\r\n            } else {\r\n                m = ua.match(/AdobeAIR\\/([^\\s]*)/);\r\n                if (m) {\r\n                    o.air = m[0]; // Adobe AIR 1.0 or better\r\n                }\r\n            }\r\n        }\r\n        if (!o.webkit) {\r\n            m = ua.match(/Opera[\\s\\/]([^\\s]*)/);\r\n            if (m && m[1]) {\r\n                o.opera = numberify(m[1]);\r\n                m = ua.match(/Version\\/([^\\s]*)/);\r\n                if (m && m[1]) {\r\n                    o.opera = numberify(m[1]); // opera 10+\r\n                }\r\n                m = ua.match(/Opera Mini[^;]*/);\r\n                if (m) {\r\n                    o.mobile = m[0]; // ex: Opera Mini/2.0.4509/1316\r\n                }\r\n            } else { // not opera or webkit\r\n                m = ua.match(/MSIE\\s([^;]*)/);\r\n                if (m && m[1]) {\r\n                    o.ie = numberify(m[1]);\r\n                } else { // not opera, webkit, or ie\r\n                    m = ua.match(/Gecko\\/([^\\s]*)/);\r\n                    if (m) {\r\n                        o.gecko = 1; // Gecko detected, look for revision\r\n                        m = ua.match(/rv:([^\\s\\)]*)/);\r\n                        if (m && m[1]) {\r\n                            o.gecko = numberify(m[1]);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return o;\r\n};\r\n\r\nJSX.env.ua = JSX.env.parseUA();\r\n\r\nJSX.isFunction = function(o) {\r\n    return (typeof o === 'function') || OP.toString.apply(o) === FUNCTION_TOSTRING;\r\n};\r\n\r\nJSX._IEEnumFix = (JSX.env.ua.ie) ? function(r, s) {\r\n    var i, fname, f;\r\n    for (i=0;i<ADD.length;i=i+1) {\r\n\r\n        fname = ADD[i];\r\n        f = s[fname];\r\n\r\n        if (L.isFunction(f) && f!=OP[fname]) {\r\n            r[fname]=f;\r\n        }\r\n    }\r\n} : function(){};\r\n\r\nJSX.extend = function(subc, superc, overrides) {\r\n    if (!superc||!subc) {\r\n        throw new Error(\"extend failed, please check that \" +\r\n                        \"all dependencies are included.\");\r\n    }\r\n    var F = function() {}, i;\r\n    F.prototype=superc.prototype;\r\n    subc.prototype=new F();\r\n    subc.prototype.constructor=subc;\r\n    subc.superclass=superc.prototype;\r\n    if (superc.prototype.constructor == OP.constructor) {\r\n        superc.prototype.constructor=superc;\r\n    }\r\n\r\n    if (overrides) {\r\n        for (i in overrides) {\r\n            if (L.hasOwnProperty(overrides, i)) {\r\n                subc.prototype[i]=overrides[i];\r\n            }\r\n        }\r\n\r\n        L._IEEnumFix(subc.prototype, overrides);\r\n    }\r\n};\r\n\r\n/*\r\n * asn1.js - ASN.1 DER encoder classes\r\n *\r\n * Copyright (c) 2013 Kenji Urushima (kenji.urushima@gmail.com)\r\n *\r\n * This software is licensed under the terms of the MIT License.\r\n * http://kjur.github.com/jsrsasign/license\r\n *\r\n * The above copyright and license notice shall be \r\n * included in all copies or substantial portions of the Software.\r\n */\r\n\r\n/**\r\n * @fileOverview\r\n * @name asn1-1.0.js\r\n * @author Kenji Urushima kenji.urushima@gmail.com\r\n * @version 1.0.2 (2013-May-30)\r\n * @since 2.1\r\n * @license <a href=\"http://kjur.github.io/jsrsasign/license/\">MIT License</a>\r\n */\r\n\r\n/** \r\n * kjur's class library name space\r\n * <p>\r\n * This name space provides following name spaces:\r\n * <ul>\r\n * <li>{@link KJUR.asn1} - ASN.1 primitive hexadecimal encoder</li>\r\n * <li>{@link KJUR.asn1.x509} - ASN.1 structure for X.509 certificate and CRL</li>\r\n * <li>{@link KJUR.crypto} - Java Cryptographic Extension(JCE) style MessageDigest/Signature \r\n * class and utilities</li>\r\n * </ul>\r\n * </p> \r\n * NOTE: Please ignore method summary and document of this namespace. This caused by a bug of jsdoc2.\r\n  * @name KJUR\r\n * @namespace kjur's class library name space\r\n */\r\n// if (typeof KJUR == \"undefined\" || !KJUR)\r\nconst KJUR = {};\r\n\r\n/**\r\n * kjur's ASN.1 class library name space\r\n * <p>\r\n * This is ITU-T X.690 ASN.1 DER encoder class library and\r\n * class structure and methods is very similar to \r\n * org.bouncycastle.asn1 package of \r\n * well known BouncyCaslte Cryptography Library.\r\n *\r\n * <h4>PROVIDING ASN.1 PRIMITIVES</h4>\r\n * Here are ASN.1 DER primitive classes.\r\n * <ul>\r\n * <li>{@link KJUR.asn1.DERBoolean}</li>\r\n * <li>{@link KJUR.asn1.DERInteger}</li>\r\n * <li>{@link KJUR.asn1.DERBitString}</li>\r\n * <li>{@link KJUR.asn1.DEROctetString}</li>\r\n * <li>{@link KJUR.asn1.DERNull}</li>\r\n * <li>{@link KJUR.asn1.DERObjectIdentifier}</li>\r\n * <li>{@link KJUR.asn1.DERUTF8String}</li>\r\n * <li>{@link KJUR.asn1.DERNumericString}</li>\r\n * <li>{@link KJUR.asn1.DERPrintableString}</li>\r\n * <li>{@link KJUR.asn1.DERTeletexString}</li>\r\n * <li>{@link KJUR.asn1.DERIA5String}</li>\r\n * <li>{@link KJUR.asn1.DERUTCTime}</li>\r\n * <li>{@link KJUR.asn1.DERGeneralizedTime}</li>\r\n * <li>{@link KJUR.asn1.DERSequence}</li>\r\n * <li>{@link KJUR.asn1.DERSet}</li>\r\n * </ul>\r\n *\r\n * <h4>OTHER ASN.1 CLASSES</h4>\r\n * <ul>\r\n * <li>{@link KJUR.asn1.ASN1Object}</li>\r\n * <li>{@link KJUR.asn1.DERAbstractString}</li>\r\n * <li>{@link KJUR.asn1.DERAbstractTime}</li>\r\n * <li>{@link KJUR.asn1.DERAbstractStructured}</li>\r\n * <li>{@link KJUR.asn1.DERTaggedObject}</li>\r\n * </ul>\r\n * </p>\r\n * NOTE: Please ignore method summary and document of this namespace. This caused by a bug of jsdoc2.\r\n * @name KJUR.asn1\r\n * @namespace\r\n */\r\nif (typeof KJUR.asn1 == \"undefined\" || !KJUR.asn1) KJUR.asn1 = {};\r\n\r\n/**\r\n * ASN1 utilities class\r\n * @name KJUR.asn1.ASN1Util\r\n * @classs ASN1 utilities class\r\n * @since asn1 1.0.2\r\n */\r\nKJUR.asn1.ASN1Util = new function() {\r\n    this.integerToByteHex = function(i) {\r\n\tvar h = i.toString(16);\r\n\tif ((h.length % 2) == 1) h = '0' + h;\r\n\treturn h;\r\n    };\r\n    this.bigIntToMinTwosComplementsHex = function(bigIntegerValue) {\r\n\tvar h = bigIntegerValue.toString(16);\r\n\tif (h.substr(0, 1) != '-') {\r\n\t    if (h.length % 2 == 1) {\r\n\t\th = '0' + h;\r\n\t    } else {\r\n\t\tif (! h.match(/^[0-7]/)) {\r\n\t\t    h = '00' + h;\r\n\t\t}\r\n\t    }\r\n\t} else {\r\n\t    var hPos = h.substr(1);\r\n\t    var xorLen = hPos.length;\r\n\t    if (xorLen % 2 == 1) {\r\n\t\txorLen += 1;\r\n\t    } else {\r\n\t\tif (! h.match(/^[0-7]/)) {\r\n\t\t    xorLen += 2;\r\n\t\t}\r\n\t    }\r\n\t    var hMask = '';\r\n\t    for (var i = 0; i < xorLen; i++) {\r\n\t\thMask += 'f';\r\n\t    }\r\n\t    var biMask = new BigInteger(hMask, 16);\r\n\t    var biNeg = biMask.xor(bigIntegerValue).add(BigInteger.ONE);\r\n\t    h = biNeg.toString(16).replace(/^-/, '');\r\n\t}\r\n\treturn h;\r\n    };\r\n    /**\r\n     * get PEM string from hexadecimal data and header string\r\n     * @name getPEMStringFromHex\r\n     * @memberOf KJUR.asn1.ASN1Util\r\n     * @function\r\n     * @param {String} dataHex hexadecimal string of PEM body\r\n     * @param {String} pemHeader PEM header string (ex. 'RSA PRIVATE KEY')\r\n     * @return {String} PEM formatted string of input data\r\n     * @description\r\n     * @example\r\n     * var pem  = KJUR.asn1.ASN1Util.getPEMStringFromHex('616161', 'RSA PRIVATE KEY');\r\n     * // value of pem will be:\r\n     * -----BEGIN PRIVATE KEY-----\r\n     * YWFh\r\n     * -----END PRIVATE KEY-----\r\n     */\r\n    this.getPEMStringFromHex = function(dataHex, pemHeader) {\r\n\tvar dataWA = CryptoJS.enc.Hex.parse(dataHex);\r\n\tvar dataB64 = CryptoJS.enc.Base64.stringify(dataWA);\r\n\tvar pemBody = dataB64.replace(/(.{64})/g, \"$1\\r\\n\");\r\n        pemBody = pemBody.replace(/\\r\\n$/, '');\r\n\treturn \"-----BEGIN \" + pemHeader + \"-----\\r\\n\" + \r\n               pemBody + \r\n               \"\\r\\n-----END \" + pemHeader + \"-----\\r\\n\";\r\n    };\r\n};\r\n\r\n// ********************************************************************\r\n//  Abstract ASN.1 Classes\r\n// ********************************************************************\r\n\r\n// ********************************************************************\r\n\r\n/**\r\n * base class for ASN.1 DER encoder object\r\n * @name KJUR.asn1.ASN1Object\r\n * @class base class for ASN.1 DER encoder object\r\n * @property {Boolean} isModified flag whether internal data was changed\r\n * @property {String} hTLV hexadecimal string of ASN.1 TLV\r\n * @property {String} hT hexadecimal string of ASN.1 TLV tag(T)\r\n * @property {String} hL hexadecimal string of ASN.1 TLV length(L)\r\n * @property {String} hV hexadecimal string of ASN.1 TLV value(V)\r\n * @description\r\n */\r\nKJUR.asn1.ASN1Object = function() {\r\n    var hV = '';\r\n\r\n    /**\r\n     * get hexadecimal ASN.1 TLV length(L) bytes from TLV value(V)\r\n     * @name getLengthHexFromValue\r\n     * @memberOf KJUR.asn1.ASN1Object\r\n     * @function\r\n     * @return {String} hexadecimal string of ASN.1 TLV length(L)\r\n     */\r\n    this.getLengthHexFromValue = function() {\r\n\tif (typeof this.hV == \"undefined\" || this.hV == null) {\r\n\t    throw \"this.hV is null or undefined.\";\r\n\t}\r\n\tif (this.hV.length % 2 == 1) {\r\n\t    throw \"value hex must be even length: n=\" + hV.length + \",v=\" + this.hV;\r\n\t}\r\n\tvar n = this.hV.length / 2;\r\n\tvar hN = n.toString(16);\r\n\tif (hN.length % 2 == 1) {\r\n\t    hN = \"0\" + hN;\r\n\t}\r\n\tif (n < 128) {\r\n\t    return hN;\r\n\t} else {\r\n\t    var hNlen = hN.length / 2;\r\n\t    if (hNlen > 15) {\r\n\t\tthrow \"ASN.1 length too long to represent by 8x: n = \" + n.toString(16);\r\n\t    }\r\n\t    var head = 128 + hNlen;\r\n\t    return head.toString(16) + hN;\r\n\t}\r\n    };\r\n\r\n    /**\r\n     * get hexadecimal string of ASN.1 TLV bytes\r\n     * @name getEncodedHex\r\n     * @memberOf KJUR.asn1.ASN1Object\r\n     * @function\r\n     * @return {String} hexadecimal string of ASN.1 TLV\r\n     */\r\n    this.getEncodedHex = function() {\r\n\tif (this.hTLV == null || this.isModified) {\r\n\t    this.hV = this.getFreshValueHex();\r\n\t    this.hL = this.getLengthHexFromValue();\r\n\t    this.hTLV = this.hT + this.hL + this.hV;\r\n\t    this.isModified = false;\r\n\t    //console.error(\"first time: \" + this.hTLV);\r\n\t}\r\n\treturn this.hTLV;\r\n    };\r\n\r\n    /**\r\n     * get hexadecimal string of ASN.1 TLV value(V) bytes\r\n     * @name getValueHex\r\n     * @memberOf KJUR.asn1.ASN1Object\r\n     * @function\r\n     * @return {String} hexadecimal string of ASN.1 TLV value(V) bytes\r\n     */\r\n    this.getValueHex = function() {\r\n\tthis.getEncodedHex();\r\n\treturn this.hV;\r\n    };\r\n\r\n    this.getFreshValueHex = function() {\r\n\treturn '';\r\n    };\r\n};\r\n\r\n// == BEGIN DERAbstractString ================================================\r\n/**\r\n * base class for ASN.1 DER string classes\r\n * @name KJUR.asn1.DERAbstractString\r\n * @class base class for ASN.1 DER string classes\r\n * @param {Array} params associative array of parameters (ex. {'str': 'aaa'})\r\n * @property {String} s internal string of value\r\n * @extends KJUR.asn1.ASN1Object\r\n * @description\r\n * <br/>\r\n * As for argument 'params' for constructor, you can specify one of\r\n * following properties:\r\n * <ul>\r\n * <li>str - specify initial ASN.1 value(V) by a string</li>\r\n * <li>hex - specify initial ASN.1 value(V) by a hexadecimal string</li>\r\n * </ul>\r\n * NOTE: 'params' can be omitted.\r\n */\r\nKJUR.asn1.DERAbstractString = function(params) {\r\n    KJUR.asn1.DERAbstractString.superclass.constructor.call(this);\r\n    this.getString = function() {\r\n\treturn this.s;\r\n    };\r\n\r\n    /**\r\n     * set value by a string\r\n     * @name setString\r\n     * @memberOf KJUR.asn1.DERAbstractString\r\n     * @function\r\n     * @param {String} newS value by a string to set\r\n     */\r\n    this.setString = function(newS) {\r\n\tthis.hTLV = null;\r\n\tthis.isModified = true;\r\n\tthis.s = newS;\r\n\tthis.hV = stohex(this.s);\r\n    };\r\n\r\n    /**\r\n     * set value by a hexadecimal string\r\n     * @name setStringHex\r\n     * @memberOf KJUR.asn1.DERAbstractString\r\n     * @function\r\n     * @param {String} newHexString value by a hexadecimal string to set\r\n     */\r\n    this.setStringHex = function(newHexString) {\r\n\tthis.hTLV = null;\r\n\tthis.isModified = true;\r\n\tthis.s = null;\r\n\tthis.hV = newHexString;\r\n    };\r\n\r\n    this.getFreshValueHex = function() {\r\n\treturn this.hV;\r\n    };\r\n\r\n    if (typeof params != \"undefined\") {\r\n\tif (typeof params['str'] != \"undefined\") {\r\n\t    this.setString(params['str']);\r\n\t} else if (typeof params['hex'] != \"undefined\") {\r\n\t    this.setStringHex(params['hex']);\r\n\t}\r\n    }\r\n};\r\nJSX.extend(KJUR.asn1.DERAbstractString, KJUR.asn1.ASN1Object);\r\n// == END   DERAbstractString ================================================\r\n\r\n// == BEGIN DERAbstractTime ==================================================\r\n/**\r\n * base class for ASN.1 DER Generalized/UTCTime class\r\n * @name KJUR.asn1.DERAbstractTime\r\n * @class base class for ASN.1 DER Generalized/UTCTime class\r\n * @param {Array} params associative array of parameters (ex. {'str': '130430235959Z'})\r\n * @extends KJUR.asn1.ASN1Object\r\n * @description\r\n * @see KJUR.asn1.ASN1Object - superclass\r\n */\r\nKJUR.asn1.DERAbstractTime = function(params) {\r\n    KJUR.asn1.DERAbstractTime.superclass.constructor.call(this);\r\n    this.localDateToUTC = function(d) {\r\n\tutc = d.getTime() + (d.getTimezoneOffset() * 60000);\r\n\tvar utcDate = new Date(utc);\r\n\treturn utcDate;\r\n    };\r\n\r\n    this.formatDate = function(dateObject, type) {\r\n\tvar pad = this.zeroPadding;\r\n\tvar d = this.localDateToUTC(dateObject);\r\n\tvar year = String(d.getFullYear());\r\n\tif (type == 'utc') year = year.substr(2, 2);\r\n\tvar month = pad(String(d.getMonth() + 1), 2);\r\n\tvar day = pad(String(d.getDate()), 2);\r\n\tvar hour = pad(String(d.getHours()), 2);\r\n\tvar min = pad(String(d.getMinutes()), 2);\r\n\tvar sec = pad(String(d.getSeconds()), 2);\r\n\treturn year + month + day + hour + min + sec + 'Z';\r\n    };\r\n\r\n    this.zeroPadding = function(s, len) {\r\n\tif (s.length >= len) return s;\r\n\treturn new Array(len - s.length + 1).join('0') + s;\r\n    };\r\n\r\n    // --- PUBLIC METHODS --------------------\r\n    /**\r\n     * get string value of this string object\r\n     * @name getString\r\n     * @memberOf KJUR.asn1.DERAbstractTime\r\n     * @function\r\n     * @return {String} string value of this time object\r\n     */\r\n    this.getString = function() {\r\n\treturn this.s;\r\n    };\r\n\r\n    /**\r\n     * set value by a string\r\n     * @name setString\r\n     * @memberOf KJUR.asn1.DERAbstractTime\r\n     * @function\r\n     * @param {String} newS value by a string to set such like \"130430235959Z\"\r\n     */\r\n    this.setString = function(newS) {\r\n\tthis.hTLV = null;\r\n\tthis.isModified = true;\r\n\tthis.s = newS;\r\n\tthis.hV = stohex(this.s);\r\n    };\r\n\r\n    /**\r\n     * set value by a Date object\r\n     * @name setByDateValue\r\n     * @memberOf KJUR.asn1.DERAbstractTime\r\n     * @function\r\n     * @param {Integer} year year of date (ex. 2013)\r\n     * @param {Integer} month month of date between 1 and 12 (ex. 12)\r\n     * @param {Integer} day day of month\r\n     * @param {Integer} hour hours of date\r\n     * @param {Integer} min minutes of date\r\n     * @param {Integer} sec seconds of date\r\n     */\r\n    this.setByDateValue = function(year, month, day, hour, min, sec) {\r\n\tvar dateObject = new Date(Date.UTC(year, month - 1, day, hour, min, sec, 0));\r\n\tthis.setByDate(dateObject);\r\n    };\r\n\r\n    this.getFreshValueHex = function() {\r\n\treturn this.hV;\r\n    };\r\n};\r\nJSX.extend(KJUR.asn1.DERAbstractTime, KJUR.asn1.ASN1Object);\r\n// == END   DERAbstractTime ==================================================\r\n\r\n// == BEGIN DERAbstractStructured ============================================\r\n/**\r\n * base class for ASN.1 DER structured class\r\n * @name KJUR.asn1.DERAbstractStructured\r\n * @class base class for ASN.1 DER structured class\r\n * @property {Array} asn1Array internal array of ASN1Object\r\n * @extends KJUR.asn1.ASN1Object\r\n * @description\r\n * @see KJUR.asn1.ASN1Object - superclass\r\n */\r\nKJUR.asn1.DERAbstractStructured = function(params) {\r\n    KJUR.asn1.DERAbstractString.superclass.constructor.call(this);\r\n    this.setByASN1ObjectArray = function(asn1ObjectArray) {\r\n\tthis.hTLV = null;\r\n\tthis.isModified = true;\r\n\tthis.asn1Array = asn1ObjectArray;\r\n    };\r\n\r\n    /**\r\n     * append an ASN1Object to internal array\r\n     * @name appendASN1Object\r\n     * @memberOf KJUR.asn1.DERAbstractStructured\r\n     * @function\r\n     * @param {ASN1Object} asn1Object to add\r\n     */\r\n    this.appendASN1Object = function(asn1Object) {\r\n\tthis.hTLV = null;\r\n\tthis.isModified = true;\r\n\tthis.asn1Array.push(asn1Object);\r\n    };\r\n\r\n    this.asn1Array = new Array();\r\n    if (typeof params != \"undefined\") {\r\n\tif (typeof params['array'] != \"undefined\") {\r\n\t    this.asn1Array = params['array'];\r\n\t}\r\n    }\r\n};\r\nJSX.extend(KJUR.asn1.DERAbstractStructured, KJUR.asn1.ASN1Object);\r\n\r\n\r\n// ********************************************************************\r\n//  ASN.1 Object Classes\r\n// ********************************************************************\r\n\r\n// ********************************************************************\r\n/**\r\n * class for ASN.1 DER Boolean\r\n * @name KJUR.asn1.DERBoolean\r\n * @class class for ASN.1 DER Boolean\r\n * @extends KJUR.asn1.ASN1Object\r\n * @description\r\n * @see KJUR.asn1.ASN1Object - superclass\r\n */\r\nKJUR.asn1.DERBoolean = function() {\r\n    KJUR.asn1.DERBoolean.superclass.constructor.call(this);\r\n    this.hT = \"01\";\r\n    this.hTLV = \"0101ff\";\r\n};\r\nJSX.extend(KJUR.asn1.DERBoolean, KJUR.asn1.ASN1Object);\r\n\r\n// ********************************************************************\r\n/**\r\n * class for ASN.1 DER Integer\r\n * @name KJUR.asn1.DERInteger\r\n * @class class for ASN.1 DER Integer\r\n * @extends KJUR.asn1.ASN1Object\r\n * @description\r\n * <br/>\r\n * As for argument 'params' for constructor, you can specify one of\r\n * following properties:\r\n * <ul>\r\n * <li>int - specify initial ASN.1 value(V) by integer value</li>\r\n * <li>bigint - specify initial ASN.1 value(V) by BigInteger object</li>\r\n * <li>hex - specify initial ASN.1 value(V) by a hexadecimal string</li>\r\n * </ul>\r\n * NOTE: 'params' can be omitted.\r\n */\r\nKJUR.asn1.DERInteger = function(params) {\r\n    KJUR.asn1.DERInteger.superclass.constructor.call(this);\r\n    this.hT = \"02\";\r\n\r\n    /**\r\n     * set value by Tom Wu's BigInteger object\r\n     * @name setByBigInteger\r\n     * @memberOf KJUR.asn1.DERInteger\r\n     * @function\r\n     * @param {BigInteger} bigIntegerValue to set\r\n     */\r\n    this.setByBigInteger = function(bigIntegerValue) {\r\n\tthis.hTLV = null;\r\n\tthis.isModified = true;\r\n\tthis.hV = KJUR.asn1.ASN1Util.bigIntToMinTwosComplementsHex(bigIntegerValue);\r\n    };\r\n\r\n    /**\r\n     * set value by integer value\r\n     * @name setByInteger\r\n     * @memberOf KJUR.asn1.DERInteger\r\n     * @function\r\n     * @param {Integer} integer value to set\r\n     */\r\n    this.setByInteger = function(intValue) {\r\n\tvar bi = new BigInteger(String(intValue), 10);\r\n\tthis.setByBigInteger(bi);\r\n    };\r\n\r\n    /**\r\n     * set value by integer value\r\n     * @name setValueHex\r\n     * @memberOf KJUR.asn1.DERInteger\r\n     * @function\r\n     * @param {String} hexadecimal string of integer value\r\n     * @description\r\n     * <br/>\r\n     * NOTE: Value shall be represented by minimum octet length of\r\n     * two's complement representation.\r\n     */\r\n    this.setValueHex = function(newHexString) {\r\n\tthis.hV = newHexString;\r\n    };\r\n\r\n    this.getFreshValueHex = function() {\r\n\treturn this.hV;\r\n    };\r\n\r\n    if (typeof params != \"undefined\") {\r\n\tif (typeof params['bigint'] != \"undefined\") {\r\n\t    this.setByBigInteger(params['bigint']);\r\n\t} else if (typeof params['int'] != \"undefined\") {\r\n\t    this.setByInteger(params['int']);\r\n\t} else if (typeof params['hex'] != \"undefined\") {\r\n\t    this.setValueHex(params['hex']);\r\n\t}\r\n    }\r\n};\r\nJSX.extend(KJUR.asn1.DERInteger, KJUR.asn1.ASN1Object);\r\n\r\n// ********************************************************************\r\n/**\r\n * class for ASN.1 DER encoded BitString primitive\r\n * @name KJUR.asn1.DERBitString\r\n * @class class for ASN.1 DER encoded BitString primitive\r\n * @extends KJUR.asn1.ASN1Object\r\n * @description \r\n * <br/>\r\n * As for argument 'params' for constructor, you can specify one of\r\n * following properties:\r\n * <ul>\r\n * <li>bin - specify binary string (ex. '10111')</li>\r\n * <li>array - specify array of boolean (ex. [true,false,true,true])</li>\r\n * <li>hex - specify hexadecimal string of ASN.1 value(V) including unused bits</li>\r\n * </ul>\r\n * NOTE: 'params' can be omitted.\r\n */\r\nKJUR.asn1.DERBitString = function(params) {\r\n    KJUR.asn1.DERBitString.superclass.constructor.call(this);\r\n    this.hT = \"03\";\r\n\r\n    /**\r\n     * set ASN.1 value(V) by a hexadecimal string including unused bits\r\n     * @name setHexValueIncludingUnusedBits\r\n     * @memberOf KJUR.asn1.DERBitString\r\n     * @function\r\n     * @param {String} newHexStringIncludingUnusedBits\r\n     */\r\n    this.setHexValueIncludingUnusedBits = function(newHexStringIncludingUnusedBits) {\r\n\tthis.hTLV = null;\r\n\tthis.isModified = true;\r\n\tthis.hV = newHexStringIncludingUnusedBits;\r\n    };\r\n\r\n    /**\r\n     * set ASN.1 value(V) by unused bit and hexadecimal string of value\r\n     * @name setUnusedBitsAndHexValue\r\n     * @memberOf KJUR.asn1.DERBitString\r\n     * @function\r\n     * @param {Integer} unusedBits\r\n     * @param {String} hValue\r\n     */\r\n    this.setUnusedBitsAndHexValue = function(unusedBits, hValue) {\r\n\tif (unusedBits < 0 || 7 < unusedBits) {\r\n\t    throw \"unused bits shall be from 0 to 7: u = \" + unusedBits;\r\n\t}\r\n\tvar hUnusedBits = \"0\" + unusedBits;\r\n\tthis.hTLV = null;\r\n\tthis.isModified = true;\r\n\tthis.hV = hUnusedBits + hValue;\r\n    };\r\n\r\n    /**\r\n     * set ASN.1 DER BitString by binary string\r\n     * @name setByBinaryString\r\n     * @memberOf KJUR.asn1.DERBitString\r\n     * @function\r\n     * @param {String} binaryString binary value string (i.e. '10111')\r\n     * @description\r\n     * Its unused bits will be calculated automatically by length of \r\n     * 'binaryValue'. <br/>\r\n     * NOTE: Trailing zeros '0' will be ignored.\r\n     */\r\n    this.setByBinaryString = function(binaryString) {\r\n\tbinaryString = binaryString.replace(/0+$/, '');\r\n\tvar unusedBits = 8 - binaryString.length % 8;\r\n\tif (unusedBits == 8) unusedBits = 0;\r\n\tfor (var i = 0; i <= unusedBits; i++) {\r\n\t    binaryString += '0';\r\n\t}\r\n\tvar h = '';\r\n\tfor (var i = 0; i < binaryString.length - 1; i += 8) {\r\n\t    var b = binaryString.substr(i, 8);\r\n\t    var x = parseInt(b, 2).toString(16);\r\n\t    if (x.length == 1) x = '0' + x;\r\n\t    h += x;  \r\n\t}\r\n\tthis.hTLV = null;\r\n\tthis.isModified = true;\r\n\tthis.hV = '0' + unusedBits + h;\r\n    };\r\n\r\n    /**\r\n     * set ASN.1 TLV value(V) by an array of boolean\r\n     * @name setByBooleanArray\r\n     * @memberOf KJUR.asn1.DERBitString\r\n     * @function\r\n     * @param {array} booleanArray array of boolean (ex. [true, false, true])\r\n     * @description\r\n     * NOTE: Trailing falses will be ignored.\r\n     */\r\n    this.setByBooleanArray = function(booleanArray) {\r\n\tvar s = '';\r\n\tfor (var i = 0; i < booleanArray.length; i++) {\r\n\t    if (booleanArray[i] == true) {\r\n\t\ts += '1';\r\n\t    } else {\r\n\t\ts += '0';\r\n\t    }\r\n\t}\r\n\tthis.setByBinaryString(s);\r\n    };\r\n\r\n    /**\r\n     * generate an array of false with specified length\r\n     * @name newFalseArray\r\n     * @memberOf KJUR.asn1.DERBitString\r\n     * @function\r\n     * @param {Integer} nLength length of array to generate\r\n     * @return {array} array of boolean faluse\r\n     * @description\r\n     * This static method may be useful to initialize boolean array.\r\n     */\r\n    this.newFalseArray = function(nLength) {\r\n\tvar a = new Array(nLength);\r\n\tfor (var i = 0; i < nLength; i++) {\r\n\t    a[i] = false;\r\n\t}\r\n\treturn a;\r\n    };\r\n\r\n    this.getFreshValueHex = function() {\r\n\treturn this.hV;\r\n    };\r\n\r\n    if (typeof params != \"undefined\") {\r\n\tif (typeof params['hex'] != \"undefined\") {\r\n\t    this.setHexValueIncludingUnusedBits(params['hex']);\r\n\t} else if (typeof params['bin'] != \"undefined\") {\r\n\t    this.setByBinaryString(params['bin']);\r\n\t} else if (typeof params['array'] != \"undefined\") {\r\n\t    this.setByBooleanArray(params['array']);\r\n\t}\r\n    }\r\n};\r\nJSX.extend(KJUR.asn1.DERBitString, KJUR.asn1.ASN1Object);\r\n\r\n// ********************************************************************\r\n/**\r\n * class for ASN.1 DER OctetString\r\n * @name KJUR.asn1.DEROctetString\r\n * @class class for ASN.1 DER OctetString\r\n * @param {Array} params associative array of parameters (ex. {'str': 'aaa'})\r\n * @extends KJUR.asn1.DERAbstractString\r\n * @description\r\n * @see KJUR.asn1.DERAbstractString - superclass\r\n */\r\nKJUR.asn1.DEROctetString = function(params) {\r\n    KJUR.asn1.DEROctetString.superclass.constructor.call(this, params);\r\n    this.hT = \"04\";\r\n};\r\nJSX.extend(KJUR.asn1.DEROctetString, KJUR.asn1.DERAbstractString);\r\n\r\n// ********************************************************************\r\n/**\r\n * class for ASN.1 DER Null\r\n * @name KJUR.asn1.DERNull\r\n * @class class for ASN.1 DER Null\r\n * @extends KJUR.asn1.ASN1Object\r\n * @description\r\n * @see KJUR.asn1.ASN1Object - superclass\r\n */\r\nKJUR.asn1.DERNull = function() {\r\n    KJUR.asn1.DERNull.superclass.constructor.call(this);\r\n    this.hT = \"05\";\r\n    this.hTLV = \"0500\";\r\n};\r\nJSX.extend(KJUR.asn1.DERNull, KJUR.asn1.ASN1Object);\r\n\r\n// ********************************************************************\r\n/**\r\n * class for ASN.1 DER ObjectIdentifier\r\n * @name KJUR.asn1.DERObjectIdentifier\r\n * @class class for ASN.1 DER ObjectIdentifier\r\n * @param {Array} params associative array of parameters (ex. {'oid': '2.5.4.5'})\r\n * @extends KJUR.asn1.ASN1Object\r\n * @description\r\n * <br/>\r\n * As for argument 'params' for constructor, you can specify one of\r\n * following properties:\r\n * <ul>\r\n * <li>oid - specify initial ASN.1 value(V) by a oid string (ex. 2.5.4.13)</li>\r\n * <li>hex - specify initial ASN.1 value(V) by a hexadecimal string</li>\r\n * </ul>\r\n * NOTE: 'params' can be omitted.\r\n */\r\nKJUR.asn1.DERObjectIdentifier = function(params) {\r\n    var itox = function(i) {\r\n\tvar h = i.toString(16);\r\n\tif (h.length == 1) h = '0' + h;\r\n\treturn h;\r\n    };\r\n    var roidtox = function(roid) {\r\n\tvar h = '';\r\n\tvar bi = new BigInteger(roid, 10);\r\n\tvar b = bi.toString(2);\r\n\tvar padLen = 7 - b.length % 7;\r\n\tif (padLen == 7) padLen = 0;\r\n\tvar bPad = '';\r\n\tfor (var i = 0; i < padLen; i++) bPad += '0';\r\n\tb = bPad + b;\r\n\tfor (var i = 0; i < b.length - 1; i += 7) {\r\n\t    var b8 = b.substr(i, 7);\r\n\t    if (i != b.length - 7) b8 = '1' + b8;\r\n\t    h += itox(parseInt(b8, 2));\r\n\t}\r\n\treturn h;\r\n    };\r\n\r\n    KJUR.asn1.DERObjectIdentifier.superclass.constructor.call(this);\r\n    this.hT = \"06\";\r\n\r\n    /**\r\n     * set value by a hexadecimal string\r\n     * @name setValueHex\r\n     * @memberOf KJUR.asn1.DERObjectIdentifier\r\n     * @function\r\n     * @param {String} newHexString hexadecimal value of OID bytes\r\n     */\r\n    this.setValueHex = function(newHexString) {\r\n\tthis.hTLV = null;\r\n\tthis.isModified = true;\r\n\tthis.s = null;\r\n\tthis.hV = newHexString;\r\n    };\r\n\r\n    /**\r\n     * set value by a OID string\r\n     * @name setValueOidString\r\n     * @memberOf KJUR.asn1.DERObjectIdentifier\r\n     * @function\r\n     * @param {String} oidString OID string (ex. 2.5.4.13)\r\n     */\r\n    this.setValueOidString = function(oidString) {\r\n\tif (! oidString.match(/^[0-9.]+$/)) {\r\n\t    throw \"malformed oid string: \" + oidString;\r\n\t}\r\n\tvar h = '';\r\n\tvar a = oidString.split('.');\r\n\tvar i0 = parseInt(a[0]) * 40 + parseInt(a[1]);\r\n\th += itox(i0);\r\n\ta.splice(0, 2);\r\n\tfor (var i = 0; i < a.length; i++) {\r\n\t    h += roidtox(a[i]);\r\n\t}\r\n\tthis.hTLV = null;\r\n\tthis.isModified = true;\r\n\tthis.s = null;\r\n\tthis.hV = h;\r\n    };\r\n\r\n    /**\r\n     * set value by a OID name\r\n     * @name setValueName\r\n     * @memberOf KJUR.asn1.DERObjectIdentifier\r\n     * @function\r\n     * @param {String} oidName OID name (ex. 'serverAuth')\r\n     * @since 1.0.1\r\n     * @description\r\n     * OID name shall be defined in 'KJUR.asn1.x509.OID.name2oidList'.\r\n     * Otherwise raise error.\r\n     */\r\n    this.setValueName = function(oidName) {\r\n\tif (typeof KJUR.asn1.x509.OID.name2oidList[oidName] != \"undefined\") {\r\n\t    var oid = KJUR.asn1.x509.OID.name2oidList[oidName];\r\n\t    this.setValueOidString(oid);\r\n\t} else {\r\n\t    throw \"DERObjectIdentifier oidName undefined: \" + oidName;\r\n\t}\r\n    };\r\n\r\n    this.getFreshValueHex = function() {\r\n\treturn this.hV;\r\n    };\r\n\r\n    if (typeof params != \"undefined\") {\r\n\tif (typeof params['oid'] != \"undefined\") {\r\n\t    this.setValueOidString(params['oid']);\r\n\t} else if (typeof params['hex'] != \"undefined\") {\r\n\t    this.setValueHex(params['hex']);\r\n\t} else if (typeof params['name'] != \"undefined\") {\r\n\t    this.setValueName(params['name']);\r\n\t}\r\n    }\r\n};\r\nJSX.extend(KJUR.asn1.DERObjectIdentifier, KJUR.asn1.ASN1Object);\r\n\r\n// ********************************************************************\r\n/**\r\n * class for ASN.1 DER UTF8String\r\n * @name KJUR.asn1.DERUTF8String\r\n * @class class for ASN.1 DER UTF8String\r\n * @param {Array} params associative array of parameters (ex. {'str': 'aaa'})\r\n * @extends KJUR.asn1.DERAbstractString\r\n * @description\r\n * @see KJUR.asn1.DERAbstractString - superclass\r\n */\r\nKJUR.asn1.DERUTF8String = function(params) {\r\n    KJUR.asn1.DERUTF8String.superclass.constructor.call(this, params);\r\n    this.hT = \"0c\";\r\n};\r\nJSX.extend(KJUR.asn1.DERUTF8String, KJUR.asn1.DERAbstractString);\r\n\r\n// ********************************************************************\r\n/**\r\n * class for ASN.1 DER NumericString\r\n * @name KJUR.asn1.DERNumericString\r\n * @class class for ASN.1 DER NumericString\r\n * @param {Array} params associative array of parameters (ex. {'str': 'aaa'})\r\n * @extends KJUR.asn1.DERAbstractString\r\n * @description\r\n * @see KJUR.asn1.DERAbstractString - superclass\r\n */\r\nKJUR.asn1.DERNumericString = function(params) {\r\n    KJUR.asn1.DERNumericString.superclass.constructor.call(this, params);\r\n    this.hT = \"12\";\r\n};\r\nJSX.extend(KJUR.asn1.DERNumericString, KJUR.asn1.DERAbstractString);\r\n\r\n// ********************************************************************\r\n/**\r\n * class for ASN.1 DER PrintableString\r\n * @name KJUR.asn1.DERPrintableString\r\n * @class class for ASN.1 DER PrintableString\r\n * @param {Array} params associative array of parameters (ex. {'str': 'aaa'})\r\n * @extends KJUR.asn1.DERAbstractString\r\n * @description\r\n * @see KJUR.asn1.DERAbstractString - superclass\r\n */\r\nKJUR.asn1.DERPrintableString = function(params) {\r\n    KJUR.asn1.DERPrintableString.superclass.constructor.call(this, params);\r\n    this.hT = \"13\";\r\n};\r\nJSX.extend(KJUR.asn1.DERPrintableString, KJUR.asn1.DERAbstractString);\r\n\r\n// ********************************************************************\r\n/**\r\n * class for ASN.1 DER TeletexString\r\n * @name KJUR.asn1.DERTeletexString\r\n * @class class for ASN.1 DER TeletexString\r\n * @param {Array} params associative array of parameters (ex. {'str': 'aaa'})\r\n * @extends KJUR.asn1.DERAbstractString\r\n * @description\r\n * @see KJUR.asn1.DERAbstractString - superclass\r\n */\r\nKJUR.asn1.DERTeletexString = function(params) {\r\n    KJUR.asn1.DERTeletexString.superclass.constructor.call(this, params);\r\n    this.hT = \"14\";\r\n};\r\nJSX.extend(KJUR.asn1.DERTeletexString, KJUR.asn1.DERAbstractString);\r\n\r\n// ********************************************************************\r\n/**\r\n * class for ASN.1 DER IA5String\r\n * @name KJUR.asn1.DERIA5String\r\n * @class class for ASN.1 DER IA5String\r\n * @param {Array} params associative array of parameters (ex. {'str': 'aaa'})\r\n * @extends KJUR.asn1.DERAbstractString\r\n * @description\r\n * @see KJUR.asn1.DERAbstractString - superclass\r\n */\r\nKJUR.asn1.DERIA5String = function(params) {\r\n    KJUR.asn1.DERIA5String.superclass.constructor.call(this, params);\r\n    this.hT = \"16\";\r\n};\r\nJSX.extend(KJUR.asn1.DERIA5String, KJUR.asn1.DERAbstractString);\r\n\r\n// ********************************************************************\r\n/**\r\n * class for ASN.1 DER UTCTime\r\n * @name KJUR.asn1.DERUTCTime\r\n * @class class for ASN.1 DER UTCTime\r\n * @param {Array} params associative array of parameters (ex. {'str': '130430235959Z'})\r\n * @extends KJUR.asn1.DERAbstractTime\r\n * @description\r\n * <br/>\r\n * As for argument 'params' for constructor, you can specify one of\r\n * following properties:\r\n * <ul>\r\n * <li>str - specify initial ASN.1 value(V) by a string (ex.'130430235959Z')</li>\r\n * <li>hex - specify initial ASN.1 value(V) by a hexadecimal string</li>\r\n * <li>date - specify Date object.</li>\r\n * </ul>\r\n * NOTE: 'params' can be omitted.\r\n * <h4>EXAMPLES</h4>\r\n * @example\r\n * var d1 = new KJUR.asn1.DERUTCTime();\r\n * d1.setString('130430125959Z');\r\n *\r\n * var d2 = new KJUR.asn1.DERUTCTime({'str': '130430125959Z'});\r\n *\r\n * var d3 = new KJUR.asn1.DERUTCTime({'date': new Date(Date.UTC(2015, 0, 31, 0, 0, 0, 0))});\r\n */\r\nKJUR.asn1.DERUTCTime = function(params) {\r\n    KJUR.asn1.DERUTCTime.superclass.constructor.call(this, params);\r\n    this.hT = \"17\";\r\n\r\n    /**\r\n     * set value by a Date object\r\n     * @name setByDate\r\n     * @memberOf KJUR.asn1.DERUTCTime\r\n     * @function\r\n     * @param {Date} dateObject Date object to set ASN.1 value(V)\r\n     */\r\n    this.setByDate = function(dateObject) {\r\n\tthis.hTLV = null;\r\n\tthis.isModified = true;\r\n\tthis.date = dateObject;\r\n\tthis.s = this.formatDate(this.date, 'utc');\r\n\tthis.hV = stohex(this.s);\r\n    };\r\n\r\n    if (typeof params != \"undefined\") {\r\n\tif (typeof params['str'] != \"undefined\") {\r\n\t    this.setString(params['str']);\r\n\t} else if (typeof params['hex'] != \"undefined\") {\r\n\t    this.setStringHex(params['hex']);\r\n\t} else if (typeof params['date'] != \"undefined\") {\r\n\t    this.setByDate(params['date']);\r\n\t}\r\n    }\r\n};\r\nJSX.extend(KJUR.asn1.DERUTCTime, KJUR.asn1.DERAbstractTime);\r\n\r\n// ********************************************************************\r\n/**\r\n * class for ASN.1 DER GeneralizedTime\r\n * @name KJUR.asn1.DERGeneralizedTime\r\n * @class class for ASN.1 DER GeneralizedTime\r\n * @param {Array} params associative array of parameters (ex. {'str': '20130430235959Z'})\r\n * @extends KJUR.asn1.DERAbstractTime\r\n * @description\r\n * <br/>\r\n * As for argument 'params' for constructor, you can specify one of\r\n * following properties:\r\n * <ul>\r\n * <li>str - specify initial ASN.1 value(V) by a string (ex.'20130430235959Z')</li>\r\n * <li>hex - specify initial ASN.1 value(V) by a hexadecimal string</li>\r\n * <li>date - specify Date object.</li>\r\n * </ul>\r\n * NOTE: 'params' can be omitted.\r\n */\r\nKJUR.asn1.DERGeneralizedTime = function(params) {\r\n    KJUR.asn1.DERGeneralizedTime.superclass.constructor.call(this, params);\r\n    this.hT = \"18\";\r\n\r\n    /**\r\n     * set value by a Date object\r\n     * @name setByDate\r\n     * @memberOf KJUR.asn1.DERGeneralizedTime\r\n     * @function\r\n     * @param {Date} dateObject Date object to set ASN.1 value(V)\r\n     * @example\r\n     * When you specify UTC time, use 'Date.UTC' method like this:<br/>\r\n     * var o = new DERUTCTime();\r\n     * var date = new Date(Date.UTC(2015, 0, 31, 23, 59, 59, 0)); #2015JAN31 23:59:59\r\n     * o.setByDate(date);\r\n     */\r\n    this.setByDate = function(dateObject) {\r\n\tthis.hTLV = null;\r\n\tthis.isModified = true;\r\n\tthis.date = dateObject;\r\n\tthis.s = this.formatDate(this.date, 'gen');\r\n\tthis.hV = stohex(this.s);\r\n    };\r\n\r\n    if (typeof params != \"undefined\") {\r\n\tif (typeof params['str'] != \"undefined\") {\r\n\t    this.setString(params['str']);\r\n\t} else if (typeof params['hex'] != \"undefined\") {\r\n\t    this.setStringHex(params['hex']);\r\n\t} else if (typeof params['date'] != \"undefined\") {\r\n\t    this.setByDate(params['date']);\r\n\t}\r\n    }\r\n};\r\nJSX.extend(KJUR.asn1.DERGeneralizedTime, KJUR.asn1.DERAbstractTime);\r\n\r\n// ********************************************************************\r\n/**\r\n * class for ASN.1 DER Sequence\r\n * @name KJUR.asn1.DERSequence\r\n * @class class for ASN.1 DER Sequence\r\n * @extends KJUR.asn1.DERAbstractStructured\r\n * @description\r\n * <br/>\r\n * As for argument 'params' for constructor, you can specify one of\r\n * following properties:\r\n * <ul>\r\n * <li>array - specify array of ASN1Object to set elements of content</li>\r\n * </ul>\r\n * NOTE: 'params' can be omitted.\r\n */\r\nKJUR.asn1.DERSequence = function(params) {\r\n    KJUR.asn1.DERSequence.superclass.constructor.call(this, params);\r\n    this.hT = \"30\";\r\n    this.getFreshValueHex = function() {\r\n\tvar h = '';\r\n\tfor (var i = 0; i < this.asn1Array.length; i++) {\r\n\t    var asn1Obj = this.asn1Array[i];\r\n\t    h += asn1Obj.getEncodedHex();\r\n\t}\r\n\tthis.hV = h;\r\n\treturn this.hV;\r\n    };\r\n};\r\nJSX.extend(KJUR.asn1.DERSequence, KJUR.asn1.DERAbstractStructured);\r\n\r\n// ********************************************************************\r\n/**\r\n * class for ASN.1 DER Set\r\n * @name KJUR.asn1.DERSet\r\n * @class class for ASN.1 DER Set\r\n * @extends KJUR.asn1.DERAbstractStructured\r\n * @description\r\n * <br/>\r\n * As for argument 'params' for constructor, you can specify one of\r\n * following properties:\r\n * <ul>\r\n * <li>array - specify array of ASN1Object to set elements of content</li>\r\n * </ul>\r\n * NOTE: 'params' can be omitted.\r\n */\r\nKJUR.asn1.DERSet = function(params) {\r\n    KJUR.asn1.DERSet.superclass.constructor.call(this, params);\r\n    this.hT = \"31\";\r\n    this.getFreshValueHex = function() {\r\n\tvar a = new Array();\r\n\tfor (var i = 0; i < this.asn1Array.length; i++) {\r\n\t    var asn1Obj = this.asn1Array[i];\r\n\t    a.push(asn1Obj.getEncodedHex());\r\n\t}\r\n\ta.sort();\r\n\tthis.hV = a.join('');\r\n\treturn this.hV;\r\n    };\r\n};\r\nJSX.extend(KJUR.asn1.DERSet, KJUR.asn1.DERAbstractStructured);\r\n\r\n// ********************************************************************\r\n/**\r\n * class for ASN.1 DER TaggedObject\r\n * @name KJUR.asn1.DERTaggedObject\r\n * @class class for ASN.1 DER TaggedObject\r\n * @extends KJUR.asn1.ASN1Object\r\n * @description\r\n * <br/>\r\n * Parameter 'tagNoNex' is ASN.1 tag(T) value for this object.\r\n * For example, if you find '[1]' tag in a ASN.1 dump, \r\n * 'tagNoHex' will be 'a1'.\r\n * <br/>\r\n * As for optional argument 'params' for constructor, you can specify *ANY* of\r\n * following properties:\r\n * <ul>\r\n * <li>explicit - specify true if this is explicit tag otherwise false \r\n *     (default is 'true').</li>\r\n * <li>tag - specify tag (default is 'a0' which means [0])</li>\r\n * <li>obj - specify ASN1Object which is tagged</li>\r\n * </ul>\r\n * @example\r\n * d1 = new KJUR.asn1.DERUTF8String({'str':'a'});\r\n * d2 = new KJUR.asn1.DERTaggedObject({'obj': d1});\r\n * hex = d2.getEncodedHex();\r\n */\r\nKJUR.asn1.DERTaggedObject = function(params) {\r\n    KJUR.asn1.DERTaggedObject.superclass.constructor.call(this);\r\n    this.hT = \"a0\";\r\n    this.hV = '';\r\n    this.isExplicit = true;\r\n    this.asn1Object = null;\r\n\r\n    /**\r\n     * set value by an ASN1Object\r\n     * @name setString\r\n     * @memberOf KJUR.asn1.DERTaggedObject\r\n     * @function\r\n     * @param {Boolean} isExplicitFlag flag for explicit/implicit tag\r\n     * @param {Integer} tagNoHex hexadecimal string of ASN.1 tag\r\n     * @param {ASN1Object} asn1Object ASN.1 to encapsulate\r\n     */\r\n    this.setASN1Object = function(isExplicitFlag, tagNoHex, asn1Object) {\r\n\tthis.hT = tagNoHex;\r\n\tthis.isExplicit = isExplicitFlag;\r\n\tthis.asn1Object = asn1Object;\r\n\tif (this.isExplicit) {\r\n\t    this.hV = this.asn1Object.getEncodedHex();\r\n\t    this.hTLV = null;\r\n\t    this.isModified = true;\r\n\t} else {\r\n\t    this.hV = null;\r\n\t    this.hTLV = asn1Object.getEncodedHex();\r\n\t    this.hTLV = this.hTLV.replace(/^../, tagNoHex);\r\n\t    this.isModified = false;\r\n\t}\r\n    };\r\n\r\n    this.getFreshValueHex = function() {\r\n\treturn this.hV;\r\n    };\r\n\r\n    if (typeof params != \"undefined\") {\r\n\tif (typeof params['tag'] != \"undefined\") {\r\n\t    this.hT = params['tag'];\r\n\t}\r\n\tif (typeof params['explicit'] != \"undefined\") {\r\n\t    this.isExplicit = params['explicit'];\r\n\t}\r\n\tif (typeof params['obj'] != \"undefined\") {\r\n\t    this.asn1Object = params['obj'];\r\n\t    this.setASN1Object(this.isExplicit, this.hT, this.asn1Object);\r\n\t}\r\n    }\r\n};\r\nJSX.extend(KJUR.asn1.DERTaggedObject, KJUR.asn1.ASN1Object);\r\n\r\nvar b64map=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\r\nvar b64pad=\"=\";\r\n\r\nfunction hex2b64(h) {\r\n  var i;\r\n  var c;\r\n  var ret = \"\";\r\n  for(i = 0; i+3 <= h.length; i+=3) {\r\n    c = parseInt(h.substring(i,i+3),16);\r\n    ret += b64map.charAt(c >> 6) + b64map.charAt(c & 63);\r\n  }\r\n  if(i+1 == h.length) {\r\n    c = parseInt(h.substring(i,i+1),16);\r\n    ret += b64map.charAt(c << 2);\r\n  }\r\n  else if(i+2 == h.length) {\r\n    c = parseInt(h.substring(i,i+2),16);\r\n    ret += b64map.charAt(c >> 2) + b64map.charAt((c & 3) << 4);\r\n  }\r\n  while((ret.length & 3) > 0) ret += b64pad;\r\n  return ret;\r\n}\r\n\r\n// convert a base64 string to hex\r\nfunction b64tohex(s) {\r\n  var ret = \"\";\r\n  var i;\r\n  var k = 0; // b64 state, 0-3\r\n  var slop;\r\n  for(i = 0; i < s.length; ++i) {\r\n    if(s.charAt(i) == b64pad) break;\r\n    let v = b64map.indexOf(s.charAt(i));\r\n    if(v < 0) continue;\r\n    if(k == 0) {\r\n      ret += int2char(v >> 2);\r\n      slop = v & 3;\r\n      k = 1;\r\n    }\r\n    else if(k == 1) {\r\n      ret += int2char((slop << 2) | (v >> 4));\r\n      slop = v & 0xf;\r\n      k = 2;\r\n    }\r\n    else if(k == 2) {\r\n      ret += int2char(slop);\r\n      ret += int2char(v >> 2);\r\n      slop = v & 3;\r\n      k = 3;\r\n    }\r\n    else {\r\n      ret += int2char((slop << 2) | (v >> 4));\r\n      ret += int2char(v & 0xf);\r\n      k = 0;\r\n    }\r\n  }\r\n  if(k == 1)\r\n    ret += int2char(slop << 2);\r\n  return ret;\r\n}\r\n\r\n// convert a base64 string to a byte/number array\r\n\r\n/**\r\n * Retrieve the hexadecimal value (as a string) of the current ASN.1 element\r\n * @returns {string}\r\n * @public\r\n */\r\nASN1.prototype.getHexStringValue = function () {\r\n  var hexString = this.toHexString();\r\n  var offset = this.header * 2;\r\n  var length = this.length * 2;\r\n  return hexString.substr(offset, length);\r\n};\r\n\r\n/**\r\n * Method to parse a pem encoded string containing both a public or private key.\r\n * The method will translate the pem encoded string in a der encoded string and\r\n * will parse private key and public key parameters. This method accepts public key\r\n * in the rsaencryption pkcs #1 format (oid: 1.2.840.113549.1.1.1).\r\n *\r\n * @todo Check how many rsa formats use the same format of pkcs #1.\r\n *\r\n * The format is defined as:\r\n * PublicKeyInfo ::= SEQUENCE {\r\n *   algorithm       AlgorithmIdentifier,\r\n *   PublicKey       BIT STRING\r\n * }\r\n * Where AlgorithmIdentifier is:\r\n * AlgorithmIdentifier ::= SEQUENCE {\r\n *   algorithm       OBJECT IDENTIFIER,     the OID of the enc algorithm\r\n *   parameters      ANY DEFINED BY algorithm OPTIONAL (NULL for PKCS #1)\r\n * }\r\n * and PublicKey is a SEQUENCE encapsulated in a BIT STRING\r\n * RSAPublicKey ::= SEQUENCE {\r\n *   modulus           INTEGER,  -- n\r\n *   publicExponent    INTEGER   -- e\r\n * }\r\n * it's possible to examine the structure of the keys obtained from openssl using\r\n * an asn.1 dumper as the one used here to parse the components: http://lapo.it/asn1js/\r\n * @argument {string} pem the pem encoded string, can include the BEGIN/END header/footer\r\n * @private\r\n */\r\nRSAKey.prototype.parseKey = function (pem) {\r\n  try {\r\n    var modulus = 0;\r\n    var public_exponent = 0;\r\n    var reHex = /^\\s*(?:[0-9A-Fa-f][0-9A-Fa-f]\\s*)+$/;\r\n    var der = reHex.test(pem) ? Hex.decode(pem) : Base64.unarmor(pem);\r\n    var asn1 = ASN1.decode(der);\r\n\r\n    //Fixes a bug with OpenSSL 1.0+ private keys\r\n    if(asn1.sub.length === 3){\r\n        asn1 = asn1.sub[2].sub[0];\r\n    }\r\n    if (asn1.sub.length === 9) {\r\n\r\n      // Parse the private key.\r\n      modulus = asn1.sub[1].getHexStringValue(); //bigint\r\n      this.n = parseBigInt(modulus, 16);\r\n\r\n      public_exponent = asn1.sub[2].getHexStringValue(); //int\r\n      this.e = parseInt(public_exponent, 16);\r\n\r\n      var private_exponent = asn1.sub[3].getHexStringValue(); //bigint\r\n      this.d = parseBigInt(private_exponent, 16);\r\n\r\n      var prime1 = asn1.sub[4].getHexStringValue(); //bigint\r\n      this.p = parseBigInt(prime1, 16);\r\n\r\n      var prime2 = asn1.sub[5].getHexStringValue(); //bigint\r\n      this.q = parseBigInt(prime2, 16);\r\n\r\n      var exponent1 = asn1.sub[6].getHexStringValue(); //bigint\r\n      this.dmp1 = parseBigInt(exponent1, 16);\r\n\r\n      var exponent2 = asn1.sub[7].getHexStringValue(); //bigint\r\n      this.dmq1 = parseBigInt(exponent2, 16);\r\n\r\n      var coefficient = asn1.sub[8].getHexStringValue(); //bigint\r\n      this.coeff = parseBigInt(coefficient, 16);\r\n\r\n    }\r\n    else if (asn1.sub.length === 2) {\r\n\r\n      // Parse the public key.\r\n      var bit_string = asn1.sub[1];\r\n      var sequence = bit_string.sub[0];\r\n\r\n      modulus = sequence.sub[0].getHexStringValue();\r\n      this.n = parseBigInt(modulus, 16);\r\n      public_exponent = sequence.sub[1].getHexStringValue();\r\n      this.e = parseInt(public_exponent, 16);\r\n\r\n    }\r\n    else {\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n  catch (ex) {\r\n    return false;\r\n  }\r\n};\r\n\r\n/**\r\n * Translate rsa parameters in a hex encoded string representing the rsa key.\r\n *\r\n * The translation follow the ASN.1 notation :\r\n * RSAPrivateKey ::= SEQUENCE {\r\n *   version           Version,\r\n *   modulus           INTEGER,  -- n\r\n *   publicExponent    INTEGER,  -- e\r\n *   privateExponent   INTEGER,  -- d\r\n *   prime1            INTEGER,  -- p\r\n *   prime2            INTEGER,  -- q\r\n *   exponent1         INTEGER,  -- d mod (p1)\r\n *   exponent2         INTEGER,  -- d mod (q-1)\r\n *   coefficient       INTEGER,  -- (inverse of q) mod p\r\n * }\r\n * @returns {string}  DER Encoded String representing the rsa private key\r\n * @private\r\n */\r\nRSAKey.prototype.getPrivateBaseKey = function () {\r\n  var options = {\r\n    'array': [\r\n      new KJUR.asn1.DERInteger({'int': 0}),\r\n      new KJUR.asn1.DERInteger({'bigint': this.n}),\r\n      new KJUR.asn1.DERInteger({'int': this.e}),\r\n      new KJUR.asn1.DERInteger({'bigint': this.d}),\r\n      new KJUR.asn1.DERInteger({'bigint': this.p}),\r\n      new KJUR.asn1.DERInteger({'bigint': this.q}),\r\n      new KJUR.asn1.DERInteger({'bigint': this.dmp1}),\r\n      new KJUR.asn1.DERInteger({'bigint': this.dmq1}),\r\n      new KJUR.asn1.DERInteger({'bigint': this.coeff})\r\n    ]\r\n  };\r\n  var seq = new KJUR.asn1.DERSequence(options);\r\n  return seq.getEncodedHex();\r\n};\r\n\r\n/**\r\n * base64 (pem) encoded version of the DER encoded representation\r\n * @returns {string} pem encoded representation without header and footer\r\n * @public\r\n */\r\nRSAKey.prototype.getPrivateBaseKeyB64 = function () {\r\n  return hex2b64(this.getPrivateBaseKey());\r\n};\r\n\r\n/**\r\n * Translate rsa parameters in a hex encoded string representing the rsa public key.\r\n * The representation follow the ASN.1 notation :\r\n * PublicKeyInfo ::= SEQUENCE {\r\n *   algorithm       AlgorithmIdentifier,\r\n *   PublicKey       BIT STRING\r\n * }\r\n * Where AlgorithmIdentifier is:\r\n * AlgorithmIdentifier ::= SEQUENCE {\r\n *   algorithm       OBJECT IDENTIFIER,     the OID of the enc algorithm\r\n *   parameters      ANY DEFINED BY algorithm OPTIONAL (NULL for PKCS #1)\r\n * }\r\n * and PublicKey is a SEQUENCE encapsulated in a BIT STRING\r\n * RSAPublicKey ::= SEQUENCE {\r\n *   modulus           INTEGER,  -- n\r\n *   publicExponent    INTEGER   -- e\r\n * }\r\n * @returns {string} DER Encoded String representing the rsa public key\r\n * @private\r\n */\r\nRSAKey.prototype.getPublicBaseKey = function () {\r\n  var options = {\r\n    'array': [\r\n      new KJUR.asn1.DERObjectIdentifier({'oid': '1.2.840.113549.1.1.1'}), //RSA Encryption pkcs #1 oid\r\n      new KJUR.asn1.DERNull()\r\n    ]\r\n  };\r\n  var first_sequence = new KJUR.asn1.DERSequence(options);\r\n\r\n  options = {\r\n    'array': [\r\n      new KJUR.asn1.DERInteger({'bigint': this.n}),\r\n      new KJUR.asn1.DERInteger({'int': this.e})\r\n    ]\r\n  };\r\n  var second_sequence = new KJUR.asn1.DERSequence(options);\r\n\r\n  options = {\r\n    'hex': '00' + second_sequence.getEncodedHex()\r\n  };\r\n  var bit_string = new KJUR.asn1.DERBitString(options);\r\n\r\n  options = {\r\n    'array': [\r\n      first_sequence,\r\n      bit_string\r\n    ]\r\n  };\r\n  var seq = new KJUR.asn1.DERSequence(options);\r\n  return seq.getEncodedHex();\r\n};\r\n\r\n/**\r\n * base64 (pem) encoded version of the DER encoded representation\r\n * @returns {string} pem encoded representation without header and footer\r\n * @public\r\n */\r\nRSAKey.prototype.getPublicBaseKeyB64 = function () {\r\n  return hex2b64(this.getPublicBaseKey());\r\n};\r\n\r\n/**\r\n * wrap the string in block of width chars. The default value for rsa keys is 64\r\n * characters.\r\n * @param {string} str the pem encoded string without header and footer\r\n * @param {Number} [width=64] - the length the string has to be wrapped at\r\n * @returns {string}\r\n * @private\r\n */\r\nRSAKey.prototype.wordwrap = function (str, width) {\r\n  width = width || 64;\r\n  if (!str) {\r\n    return str;\r\n  }\r\n  var regex = '(.{1,' + width + '})( +|$\\n?)|(.{1,' + width + '})';\r\n  return str.match(RegExp(regex, 'g')).join('\\n');\r\n};\r\n\r\n/**\r\n * Retrieve the pem encoded private key\r\n * @returns {string} the pem encoded private key with header/footer\r\n * @public\r\n */\r\nRSAKey.prototype.getPrivateKey = function () {\r\n  var key = \"-----BEGIN RSA PRIVATE KEY-----\\n\";\r\n  key += this.wordwrap(this.getPrivateBaseKeyB64()) + \"\\n\";\r\n  key += \"-----END RSA PRIVATE KEY-----\";\r\n  return key;\r\n};\r\n\r\n/**\r\n * Retrieve the pem encoded public key\r\n * @returns {string} the pem encoded public key with header/footer\r\n * @public\r\n */\r\nRSAKey.prototype.getPublicKey = function () {\r\n  var key = \"-----BEGIN PUBLIC KEY-----\\n\";\r\n  key += this.wordwrap(this.getPublicBaseKeyB64()) + \"\\n\";\r\n  key += \"-----END PUBLIC KEY-----\";\r\n  return key;\r\n};\r\n\r\n/**\r\n * Check if the object contains the necessary parameters to populate the rsa modulus\r\n * and public exponent parameters.\r\n * @param {Object} [obj={}] - An object that may contain the two public key\r\n * parameters\r\n * @returns {boolean} true if the object contains both the modulus and the public exponent\r\n * properties (n and e)\r\n * @todo check for types of n and e. N should be a parseable bigInt object, E should\r\n * be a parseable integer number\r\n * @private\r\n */\r\nRSAKey.prototype.hasPublicKeyProperty = function (obj) {\r\n  obj = obj || {};\r\n  return (\r\n    obj.hasOwnProperty('n') &&\r\n    obj.hasOwnProperty('e')\r\n  );\r\n};\r\n\r\n/**\r\n * Check if the object contains ALL the parameters of an RSA key.\r\n * @param {Object} [obj={}] - An object that may contain nine rsa key\r\n * parameters\r\n * @returns {boolean} true if the object contains all the parameters needed\r\n * @todo check for types of the parameters all the parameters but the public exponent\r\n * should be parseable bigint objects, the public exponent should be a parseable integer number\r\n * @private\r\n */\r\nRSAKey.prototype.hasPrivateKeyProperty = function (obj) {\r\n  obj = obj || {};\r\n  return (\r\n    obj.hasOwnProperty('n') &&\r\n    obj.hasOwnProperty('e') &&\r\n    obj.hasOwnProperty('d') &&\r\n    obj.hasOwnProperty('p') &&\r\n    obj.hasOwnProperty('q') &&\r\n    obj.hasOwnProperty('dmp1') &&\r\n    obj.hasOwnProperty('dmq1') &&\r\n    obj.hasOwnProperty('coeff')\r\n  );\r\n};\r\n\r\n/**\r\n * Parse the properties of obj in the current rsa object. Obj should AT LEAST\r\n * include the modulus and public exponent (n, e) parameters.\r\n * @param {Object} obj - the object containing rsa parameters\r\n * @private\r\n */\r\nRSAKey.prototype.parsePropertiesFrom = function (obj) {\r\n  this.n = obj.n;\r\n  this.e = obj.e;\r\n\r\n  if (obj.hasOwnProperty('d')) {\r\n    this.d = obj.d;\r\n    this.p = obj.p;\r\n    this.q = obj.q;\r\n    this.dmp1 = obj.dmp1;\r\n    this.dmq1 = obj.dmq1;\r\n    this.coeff = obj.coeff;\r\n  }\r\n};\r\n\r\n/**\r\n * Create a new JSEncryptRSAKey that extends Tom Wu's RSA key object.\r\n * This object is just a decorator for parsing the key parameter\r\n * @param {string|Object} key - The key in string format, or an object containing\r\n * the parameters needed to build a RSAKey object.\r\n * @constructor\r\n */\r\nclass JSEncryptRSAKey extends RSAKey {\r\n  constructor(key) {\r\n    // Call the super constructor.\r\n    super();\r\n    // If a key key was provided.\r\n    if (key) {\r\n      // If this is a string...\r\n      if (typeof key === 'string') {\r\n        this.parseKey(key);\r\n      }\r\n      else if (\r\n          this.hasPrivateKeyProperty(key) ||\r\n          this.hasPublicKeyProperty(key)\r\n      ) {\r\n        // Set the values for the key.\r\n        this.parsePropertiesFrom(key);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n *\r\n * @param {Object} [options = {}] - An object to customize JSEncrypt behaviour\r\n * possible parameters are:\r\n * - default_key_size        {number}  default: 1024 the key size in bit\r\n * - default_public_exponent {string}  default: '010001' the hexadecimal representation of the public exponent\r\n * - log                     {boolean} default: false whether log warn/error or not\r\n * @constructor\r\n */\r\nclass JSEncrypt{\r\n  constructor (options) {\r\n    options = options || {};\r\n    this.default_key_size = parseInt(options.default_key_size) || 1024;\r\n    this.default_public_exponent = options.default_public_exponent || '010001'; //65537 default openssl public exponent for rsa key type\r\n    this.log = options.log || false;\r\n    // The private and public key.\r\n    this.key = null;\r\n  }\r\n}\r\n\r\n/**\r\n * Method to set the rsa key parameter (one method is enough to set both the public\r\n * and the private key, since the private key contains the public key paramenters)\r\n * Log a warning if logs are enabled\r\n * @param {Object|string} key the pem encoded string or an object (with or without header/footer)\r\n * @public\r\n */\r\nJSEncrypt.prototype.setKey = function (key) {\r\n  if (this.log && this.key) {\r\n    console.warn('A key was already set, overriding existing.');\r\n  }\r\n  this.key = new JSEncryptRSAKey(key);\r\n};\r\n\r\n/**\r\n * Proxy method for setKey, for api compatibility\r\n * @see setKey\r\n * @public\r\n */\r\nJSEncrypt.prototype.setPrivateKey = function (privkey) {\r\n  // Create the key.\r\n  this.setKey(privkey);\r\n};\r\n\r\n/**\r\n * Proxy method for setKey, for api compatibility\r\n * @see setKey\r\n * @public\r\n */\r\nJSEncrypt.prototype.setPublicKey = function (pubkey) {\r\n  // Sets the public key.\r\n  this.setKey(pubkey);\r\n};\r\n\r\n/**\r\n * Proxy method for RSAKey object's decrypt, decrypt the string using the private\r\n * components of the rsa key object. Note that if the object was not set will be created\r\n * on the fly (by the getKey method) using the parameters passed in the JSEncrypt constructor\r\n * @param {string} string base64 encoded crypted string to decrypt\r\n * @return {string} the decrypted string\r\n * @public\r\n */\r\nJSEncrypt.prototype.decrypt = function (string) {\r\n  // Return the decrypted string.\r\n  try {\r\n    return this.getKey().decrypt(b64tohex(string));\r\n  }\r\n  catch (ex) {\r\n    return false;\r\n  }\r\n};\r\n\r\n/**\r\n * Proxy method for RSAKey object's encrypt, encrypt the string using the public\r\n * components of the rsa key object. Note that if the object was not set will be created\r\n * on the fly (by the getKey method) using the parameters passed in the JSEncrypt constructor\r\n * @param {string} string the string to encrypt\r\n * @return {string} the encrypted string encoded in base64\r\n * @public\r\n */\r\nJSEncrypt.prototype.encrypt = function (string) {\r\n  // Return the encrypted string.\r\n  try {\r\n    return hex2b64(this.getKey().encrypt(string));\r\n  }\r\n  catch (ex) {\r\n    return false;\r\n  }\r\n};\r\n\r\n/**\r\n * Getter for the current JSEncryptRSAKey object. If it doesn't exists a new object\r\n * will be created and returned\r\n * @param {callback} [cb] the callback to be called if we want the key to be generated\r\n * in an async fashion\r\n * @returns {JSEncryptRSAKey} the JSEncryptRSAKey object\r\n * @public\r\n */\r\nJSEncrypt.prototype.getKey = function (cb) {\r\n  // Only create new if it does not exist.\r\n  if (!this.key) {\r\n    // Get a new private key.\r\n    this.key = new JSEncryptRSAKey();\r\n    if (cb && {}.toString.call(cb) === '[object Function]') {\r\n      this.key.generateAsync(this.default_key_size, this.default_public_exponent, cb);\r\n      return;\r\n    }\r\n    // Generate the key.\r\n    this.key.generate(this.default_key_size, this.default_public_exponent);\r\n  }\r\n  return this.key;\r\n};\r\n\r\n/**\r\n * Returns the pem encoded representation of the private key\r\n * If the key doesn't exists a new key will be created\r\n * @returns {string} pem encoded representation of the private key WITH header and footer\r\n * @public\r\n */\r\nJSEncrypt.prototype.getPrivateKey = function () {\r\n  // Return the private representation of this key.\r\n  return this.getKey().getPrivateKey();\r\n};\r\n\r\n/**\r\n * Returns the pem encoded representation of the private key\r\n * If the key doesn't exists a new key will be created\r\n * @returns {string} pem encoded representation of the private key WITHOUT header and footer\r\n * @public\r\n */\r\nJSEncrypt.prototype.getPrivateKeyB64 = function () {\r\n  // Return the private representation of this key.\r\n  return this.getKey().getPrivateBaseKeyB64();\r\n};\r\n\r\n\r\n/**\r\n * Returns the pem encoded representation of the public key\r\n * If the key doesn't exists a new key will be created\r\n * @returns {string} pem encoded representation of the public key WITH header and footer\r\n * @public\r\n */\r\nJSEncrypt.prototype.getPublicKey = function () {\r\n  // Return the private representation of this key.\r\n  return this.getKey().getPublicKey();\r\n};\r\n\r\n/**\r\n * Returns the pem encoded representation of the public key\r\n * If the key doesn't exists a new key will be created\r\n * @returns {string} pem encoded representation of the public key WITHOUT header and footer\r\n * @public\r\n */\r\nJSEncrypt.prototype.getPublicKeyB64 = function () {\r\n  // Return the private representation of this key.\r\n  return this.getKey().getPublicBaseKeyB64();\r\n};\r\n\r\n// export * from 'jsencrypt';\r\n\r\nclass BaseTransport {\r\n    constructor(endpoint, stream_type, config={}) {\r\n        this.stream_type = stream_type;\r\n        this.endpoint = endpoint;\r\n        this.eventSource = new EventEmitter();\r\n        this.dataQueue = [];\r\n    }\r\n\r\n    static canTransfer(stream_type) {\r\n        return BaseTransport.streamTypes().includes(stream_type);\r\n    }\r\n    \r\n    static streamTypes() {\r\n        return [];\r\n    }\r\n\r\n    destroy() {\r\n        this.eventSource.destroy();\r\n    }\r\n\r\n    connect() {\r\n        // TO be impemented\r\n    }\r\n\r\n    disconnect() {\r\n        // TO be impemented\r\n    }\r\n\r\n    reconnect() {\r\n        return this.disconnect().then(()=>{\r\n            return this.connect();\r\n        });\r\n    }\r\n\r\n    setEndpoint(endpoint) {\r\n        this.endpoint = endpoint;\r\n        return this.reconnect();\r\n    }\r\n\r\n    send(data) {\r\n        // TO be impemented\r\n        // return this.prepare(data).send();\r\n    }\r\n\r\n    prepare(data) {\r\n        // TO be impemented\r\n        // return new Request(data);\r\n    }\r\n\r\n    // onData(type, data) {\r\n    //     this.eventSource.dispatchEvent(type, data);\r\n    // }\r\n}\r\n\r\nconst isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\r\n\r\n//navigator.hardwareConcurrency || 3;\r\n\r\nconst LOG_TAG$5 = \"transport:ws\";\r\nconst Log$10 = getTagged(LOG_TAG$5);\r\nclass WebsocketTransport extends BaseTransport {\r\n    constructor(endpoint, stream_type, options={\r\n        socket:`${location.protocol.replace('http', 'ws')}//localhost/ws/`,\r\n        // socket:`${location.protocol.replace('http', 'ws')}//${location.host}/ws/`,\r\n        workers: 1\r\n    }) {\r\n        super(endpoint, stream_type);\r\n        this.proxies = [];\r\n        this.currentProxy = 0;\r\n        this.workers = 1;\r\n        this.socket_url = options.socket;\r\n        this.ready = this.connect();\r\n    }\r\n\r\n    destroy() {\r\n        return this.disconnect().then(()=>{\r\n            return super.destroy();\r\n        });\r\n\r\n    }\r\n\r\n    static canTransfer(stream_type) {\r\n        return WebsocketTransport.streamTypes().includes(stream_type);\r\n    }\r\n\r\n    static streamTypes() {\r\n        return ['hls', 'rtsp'];\r\n    }\r\n\r\n    connect() {\r\n        return this.disconnect().then(()=>{\r\n            let promises = [];\r\n            // TODO: get mirror list\r\n            for (let i=0; i<this.workers; ++i) {\r\n                let proxy = new WebSocketProxy(this.socket_url, this.endpoint, this.stream_type);\r\n\r\n                proxy.set_disconnect_handler((e)=> {\r\n                    this.eventSource.dispatchEvent('disconnected', {code: e.code, reason: e.reason});\r\n                    // TODO: only reconnect on demand\r\n                    if ([1000, 1006, 1013, 1011].includes(e.code)) {\r\n                        setTimeout(()=> {\r\n                            if (this.ready && this.ready.reject) {\r\n                                this.ready.reject();\r\n                            }\r\n                            this.ready = this.connect();\r\n                        }, 3000);\r\n                    }\r\n                });\r\n\r\n                proxy.set_data_handler((data)=> {\r\n                    this.dataQueue.push(new Uint8Array(data));\r\n                    this.eventSource.dispatchEvent('data');\r\n                });\r\n\r\n                promises.push(proxy.connect().then(()=> {\r\n                    this.eventSource.dispatchEvent('connected');\r\n                }).catch((e)=> {\r\n                    this.eventSource.dispatchEvent('error');\r\n                    throw new Error(e);\r\n                }));\r\n                this.proxies.push(proxy);\r\n            }\r\n            return Promise.all(promises);\r\n        });\r\n    }\r\n\r\n    disconnect() {\r\n        let promises = [];\r\n        for (let i=0; i<this.proxies.length; ++i) {\r\n            promises.push(this.proxies[i].close());\r\n        }\r\n        this.proxies= [];\r\n        if (this.proxies.length) {\r\n            return Promise.all(promises);\r\n        } else {\r\n            return Promise.resolve();\r\n        }\r\n    }\r\n\r\n    socket() {\r\n        return this.proxies[(this.currentProxy++)%this.proxies.length];\r\n    }\r\n\r\n    send(_data, fn) {\r\n        let res = this.socket().send(_data);\r\n        if (fn) {\r\n            fn(res.seq);\r\n        }\r\n        return res.promise;\r\n    }\r\n}\r\n\r\nclass WSPProtocol {\r\n    static get PROTO() {return  'WSP';}\r\n\r\n    static get V1_1() {return '1.1';}\r\n\r\n    static get CMD_INIT() {return 'INIT';}\r\n    static get CMD_JOIN() {return  'JOIN';}\r\n    static get CMD_WRAP() {return  'WRAP';}\r\n\r\n\r\n    constructor(ver){\r\n        this.ver = ver;\r\n    }\r\n\r\n    build(cmd, data, payload=''){\r\n        let data_str='';\r\n        if (!data.seq) {\r\n            data.seq = ++WSPProtocol.seq;\r\n        }\r\n        for (let k in data) {\r\n            data_str += `${k}: ${data[k]}\\r\\n`;\r\n        }\r\n        return `${WSPProtocol.PROTO}/${this.ver} ${cmd}\\r\\n${data_str}\\r\\n${payload}`;\r\n    }\r\n\r\n    static parse(data) {\r\n        let payIdx = data.indexOf('\\r\\n\\r\\n');\r\n        let lines = data.substr(0, payIdx).split('\\r\\n');\r\n        let hdr = lines.shift().match(new RegExp(`${WSPProtocol.PROTO}/${WSPProtocol.V1_1}\\\\s+(\\\\d+)\\\\s+(.+)`));\r\n        if (hdr) {\r\n            let res = {\r\n                code: Number(hdr[1]),\r\n                msg:  hdr[2],\r\n                data: {},\r\n                payload: ''\r\n            };\r\n            while (lines.length) {\r\n                let line = lines.shift();\r\n                if (line) {\r\n                    let [k,v] = line.split(':');\r\n                    res.data[k.trim()] = v.trim();\r\n                } else {\r\n                    break;\r\n                }\r\n            }\r\n            res.payload = data.substr(payIdx+4);\r\n            return res;\r\n        }\r\n        return null;\r\n    }\r\n}\r\nWSPProtocol.seq = 0;\r\n\r\nclass WebSocketProxy {\r\n    static get CHN_CONTROL() {return 'control';}\r\n    static get CHN_DATA() {return  'data';}\r\n\r\n    constructor(wsurl, endpoint, stream_type) {\r\n        this.url = wsurl;\r\n        this.stream_type = stream_type;\r\n        this.endpoint = endpoint;\r\n        this.data_handler = ()=>{};\r\n        this.disconnect_handler = ()=>{};\r\n        this.builder = new WSPProtocol(WSPProtocol.V1_1);\r\n        this.awaitingPromises = {};\r\n        this.seq = 0;\r\n        this.encryptor = new JSEncrypt();\r\n    }\r\n\r\n    set_data_handler(handler) {\r\n        this.data_handler = handler;\r\n    }\r\n\r\n    set_disconnect_handler(handler) {\r\n        this.disconnect_handler = handler;\r\n    }\r\n\r\n    close() {\r\n        Log$10.log('closing connection');\r\n        return new Promise((resolve)=>{\r\n            this.ctrlChannel.onclose = ()=>{\r\n                if (this.dataChannel) {\r\n                    this.dataChannel.onclose = ()=>{\r\n                        Log$10.log('closed');\r\n                        resolve();\r\n                    };\r\n                    this.dataChannel.close();\r\n                } else {\r\n                    Log$10.log('closed');\r\n                    resolve();\r\n                }\r\n            };\r\n            this.ctrlChannel.close();\r\n        });\r\n    }\r\n\r\n    onDisconnect(){\r\n        this.ctrlChannel.onclose=null;\r\n        this.ctrlChannel.close();\r\n        if (this.dataChannel) {\r\n            this.dataChannel.onclose = null;\r\n            this.dataChannel.close();\r\n        }\r\n        this.disconnect_handler(this);\r\n    }\r\n\r\n    initDataChannel(channel_id) {\r\n        return new Promise((resolve, reject)=>{\r\n            this.dataChannel = new WebSocket(this.url, WebSocketProxy.CHN_DATA);\r\n            this.dataChannel.binaryType = 'arraybuffer';\r\n            this.dataChannel.onopen = ()=>{\r\n                let msg = this.builder.build(WSPProtocol.CMD_JOIN, {\r\n                    channel: channel_id\r\n                });\r\n                Log$10.debug(msg);\r\n                this.dataChannel.send(msg);\r\n            };\r\n            this.dataChannel.onmessage = (ev)=>{\r\n                Log$10.debug(`[data]\\r\\n${ev.data}`);\r\n                let res = WSPProtocol.parse(ev.data);\r\n                if (!res) {\r\n                    return reject();\r\n                }\r\n\r\n                this.dataChannel.onmessage=(e)=>{\r\n                    // Log.debug('got data');\r\n                    if (this.data_handler) {\r\n                        this.data_handler(e.data);\r\n                    }\r\n                };\r\n                resolve();\r\n            };\r\n            this.dataChannel.onerror = (e)=>{\r\n                Log$10.error(`[data] ${e.type}`);\r\n                this.dataChannel.close();\r\n            };\r\n            this.dataChannel.onclose = (e)=>{\r\n                Log$10.error(`[data] ${e.type}. code: ${e.code}, reason: ${e.reason || 'unknown reason'}`);\r\n                this.onDisconnect(e);\r\n            };\r\n        });\r\n    }\r\n\r\n    connect() {\r\n        this.encryptionKey = null;\r\n        return new Promise((resolve, reject)=>{\r\n            this.ctrlChannel = new WebSocket(this.url, WebSocketProxy.CHN_CONTROL);\r\n\r\n            this.connected = false;\r\n\r\n            this.ctrlChannel.onopen = ()=>{\r\n                let headers = {\r\n                    proto: this.stream_type\r\n                };\r\n                if (this.endpoint.socket) {\r\n                    headers.socket = this.endpoint.socket;\r\n                } else {\r\n                    Object.assign(headers, {\r\n                        host:  this.endpoint.host,\r\n                        port:  this.endpoint.port\r\n                    });\r\n                }\r\n                let msg = this.builder.build(WSPProtocol.CMD_INIT, headers);\r\n                Log$10.debug(msg);\r\n                this.ctrlChannel.send(msg);\r\n            };\r\n\r\n            this.ctrlChannel.onmessage = (ev)=>{\r\n                Log$10.debug(`[ctrl]\\r\\n${ev.data}`);\r\n\r\n                let res = WSPProtocol.parse(ev.data);\r\n                if (!res) {\r\n                    return reject();\r\n                }\r\n\r\n                if (res.code >= 300) {\r\n                    Log$10.error(`[ctrl]\\r\\n${res.code}: ${res.msg}`);\r\n                    return reject();\r\n                }\r\n                this.ctrlChannel.onmessage = (e)=> {\r\n                    let res = WSPProtocol.parse(e.data);\r\n                    Log$10.debug(`[ctrl]\\r\\n${e.data}`);\r\n                    if (res.data.seq in this.awaitingPromises) {\r\n                        if (res.code < 300) {\r\n                            this.awaitingPromises[res.data.seq].resolve(res);\r\n                        } else {\r\n                            this.awaitingPromises[res.data.seq].reject(res);\r\n                        }\r\n                        delete this.awaitingPromises[res.data.seq];\r\n                    }\r\n                };\r\n                this.encryptionKey = res.data.pubkey || null;\r\n                if (this.encryptionKey) {\r\n                    this.encryptor.setPublicKey(this.encryptionKey);\r\n                    // TODO: check errors\r\n                }\r\n                this.initDataChannel(res.data.channel).then(resolve).catch(reject);\r\n            };\r\n\r\n            this.ctrlChannel.onerror = (e)=>{\r\n                Log$10.error(`[ctrl] ${e.type}`);\r\n                this.ctrlChannel.close();\r\n            };\r\n            this.ctrlChannel.onclose = (e)=>{\r\n                Log$10.error(`[ctrl] ${e.type}. code: ${e.code} ${e.reason || 'unknown reason'}`);\r\n                this.onDisconnect(e);\r\n            };\r\n        });\r\n    }\r\n\r\n    encrypt(msg) {\r\n        if (this.encryptionKey) {\r\n            let crypted = this.encryptor.encrypt(msg);\r\n            if (crypted === false) {\r\n                throw new Error(\"Encryption failed. Stopping\")\r\n            }\r\n            return crypted;\r\n        }\r\n        return msg;\r\n    }\r\n\r\n    send(payload) {\r\n        if (this.ctrlChannel.readyState != WebSocket.OPEN) {\r\n            this.close();\r\n            // .then(this.connect.bind(this));\r\n            // return;\r\n            throw new Error('disconnected');\r\n        }\r\n        // Log.debug(payload);\r\n        let data = {\r\n            contentLength: payload.length,\r\n            seq: ++WSPProtocol.seq\r\n        };\r\n        return {\r\n            seq:data.seq,\r\n            promise: new Promise((resolve, reject)=>{\r\n                this.awaitingPromises[data.seq] = {resolve, reject};\r\n                let msg = this.builder.build(WSPProtocol.CMD_WRAP, data, payload);\r\n                Log$10.debug(msg);\r\n                this.ctrlChannel.send(this.encrypt(msg));\r\n            })};\r\n    }\r\n}\r\n\r\nconst Log$11 = getTagged('wsp');\r\n\r\nclass StreamType$1 {\r\n    static get HLS() {return 'hls';}\r\n    static get RTSP() {return 'rtsp';}\r\n\r\n    static isSupported(type) {\r\n        return [StreamType$1.HLS, StreamType$1.RTSP].includes(type);\r\n    }\r\n\r\n    static fromUrl(url) {\r\n        let parsed;\r\n        try {\r\n            parsed = Url.parse(url);\r\n        } catch (e) {\r\n            return null;\r\n        }\r\n        switch (parsed.protocol) {\r\n            case 'rtsp':\r\n                return StreamType$1.RTSP;\r\n            case 'http':\r\n            case 'https':\r\n                if (url.indexOf('.m3u8')>=0) {\r\n                    return StreamType$1.HLS;\r\n                } else {\r\n                    return null;\r\n                }\r\n            default:\r\n                return null;\r\n        }\r\n    }\r\n\r\n    static fromMime(mime) {\r\n        switch (mime) {\r\n            case 'application/x-rtsp':\r\n                return StreamType$1.RTSP;\r\n            case 'application/vnd.apple.mpegurl':\r\n            case 'application/x-mpegurl':\r\n                return StreamType$1.HLS;\r\n            default:\r\n                return null;\r\n        }\r\n    }\r\n}\r\n\r\nclass WSPlayer {\r\n\r\n    constructor(node, opts) {\r\n        if (typeof node == typeof '') {\r\n            this.player = document.getElementById(node);\r\n        } else {\r\n            this.player = node;\r\n        }\r\n\r\n        let modules = opts.modules || {\r\n            client: RTSPClient,\r\n            transport: {\r\n                constructor: WebsocketTransport\r\n            }\r\n        };\r\n        this.errorHandler = opts.errorHandler || null;\r\n        this.queryCredentials = opts.queryCredentials || null;\r\n\r\n        this.modules = {};\r\n        for (let module of modules) {\r\n            let transport = module.transport || WebsocketTransport;\r\n            let client = module.client || RTSPClient;\r\n            if (transport.constructor.canTransfer(client.streamType())) {\r\n                this.modules[client.streamType()] = {\r\n                    client: client,\r\n                    transport: transport\r\n                };\r\n            } else {\r\n                Log$11.warn(`Client stream type ${client.streamType()} is incompatible with transport types [${transport.streamTypes().join(', ')}]. Skip`);\r\n            }\r\n        }\r\n        \r\n        this.type = StreamType$1.RTSP;\r\n        this.url = null;\r\n        if (opts.url && opts.type) {\r\n            this.url = opts.url;\r\n            this.type = opts.type;\r\n        } else {\r\n            if (!this._checkSource(this.player)) {\r\n                for (let i=0; i<this.player.children.length; ++i) {\r\n                    if (this._checkSource(this.player.children[i])) {\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            // if (!this.url) {\r\n            //      throw new Error('No playable endpoint found');\r\n            // }\r\n        }\r\n\r\n        if (this.url) {\r\n            this.setSource(this.url, this.type);\r\n        }\r\n\r\n        this.player.addEventListener('play', ()=>{\r\n            if (!this.isPlaying()) {\r\n                this.client.start();\r\n            }\r\n        }, false);\r\n\r\n        this.player.addEventListener('pause', ()=>{\r\n            this.client.stop();\r\n        }, false);\r\n    }\r\n\r\n    // TODO: check native support\r\n\r\n    isPlaying() {\r\n        return !(this.player.paused || this.client.paused);\r\n    }\r\n\r\n    static canPlayWithModules(mimeType, modules) {\r\n\r\n        let filteredModules = {};\r\n        for (let module of modules) {\r\n            let transport = module.transport || WebsocketTransport;\r\n            let client = module.client || RTSPClient;\r\n            if (transport.canTransfer(client.streamType())) {\r\n                filteredModules[client.streamType()] = true;\r\n            }\r\n        }\r\n\r\n        for (let type in filteredModules) {\r\n            if (type == StreamType$1.fromMime(mimeType)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    /// TODO: deprecate it?\r\n    static canPlay(resource) {\r\n        return StreamType$1.fromMime(resource.type) || StreamType$1.fromUrl(resource.src);\r\n    }\r\n\r\n    canPlayUrl(src) {\r\n        let type = StreamType$1.fromUrl(src);\r\n        return (type in this.modules);\r\n    }\r\n\r\n    _checkSource(src) {\r\n        if (!src.dataset['ignore'] && src.src && !this.player.canPlayType(src.type) && (StreamType$1.fromMime(src.type) || StreamType$1.fromUrl(src.src))) {\r\n            this.url = src.src;\r\n            this.type = src.type ? StreamType$1.fromMime(src.type) : StreamType$1.fromUrl(src.src);\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    async setSource(url, type) {\r\n        if (this.transport) {\r\n            if (this.client) {\r\n                await this.client.detachTransport();\r\n            }\r\n            await this.transport.destroy();\r\n        }\r\n        try {\r\n            this.endpoint = Url.parse(url);\r\n        } catch (e) {\r\n            return;\r\n        }\r\n        this.url = url;\r\n        let transport = this.modules[type].transport;\r\n        this.transport = new transport.constructor(this.endpoint, this.type, transport.options);\r\n\r\n\r\n        let lastType = this.type;\r\n        this.type = (StreamType$1.isSupported(type)?type:false) || StreamType$1.fromMime(type);\r\n        if (!this.type) {\r\n            throw new Error(\"Bad stream type\");\r\n        }\r\n\r\n        if (lastType!=this.type || !this.client) {\r\n            if (this.client) {\r\n                await this.client.destroy();\r\n            }\r\n            let client = this.modules[type].client;\r\n            this.client = new client();\r\n        } else {\r\n            this.client.reset();\r\n        }\r\n\r\n        if (this.queryCredentials) {\r\n            this.client.queryCredentials = this.queryCredentials;\r\n        }\r\n        if (this.remuxer) {\r\n            this.remuxer.destroy();\r\n            this.remuxer = null;\r\n        }\r\n        this.remuxer = new Remuxer(this.player);\r\n        this.remuxer.attachClient(this.client);\r\n\r\n        this.client.attachTransport(this.transport);\r\n        this.client.setSource(this.endpoint);\r\n\r\n        if (this.player.autoplay) {\r\n            this.start();\r\n        }\r\n    }\r\n\r\n    start() {\r\n        if (this.client) {\r\n            this.client.start().catch((e)=>{\r\n                if (this.errorHandler) {\r\n                    this.errorHandler(e);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    stop() {\r\n        if (this.client) {\r\n            this.client.stop();\r\n        }\r\n    }\r\n\r\n    async destroy() {\r\n        if (this.transport) {\r\n            if (this.client) {\r\n                await this.client.detachTransport();\r\n            }\r\n            await this.transport.destroy();\r\n        }\r\n        if (this.client) {\r\n            await this.client.destroy();\r\n        }\r\n        if (this.remuxer) {\r\n            this.remuxer.destroy();\r\n            this.remuxer = null;\r\n        }\r\n    }\r\n\r\n}\r\n\r\nsetDefaultLogLevel(LogLevel.Error);\r\ngetTagged(\"transport:ws\").setLevel(LogLevel.Error);\r\ngetTagged(\"client:rtsp\").setLevel(LogLevel.Debug);\r\ngetTagged(\"mse\").setLevel(LogLevel.Debug);\r\n\r\nwindow.Streamedian = {\r\n    logger(tag) {\r\n        return getTagged(tag)\r\n    },\r\n    player(node, opts) {\r\n        if (!opts.socket) {\r\n            throw new Error(\"socket parameter is not set\");\r\n        }\r\n        let _options = {\r\n            modules: [\r\n                {\r\n                    client: RTSPClient,\r\n                    transport: {\r\n                        constructor: WebsocketTransport,\r\n                        options: {\r\n                            socket: opts.socket\r\n                        }\r\n                    }\r\n                }\r\n            ],\r\n            errorHandler(e) {\r\n                alert(`Failed to start player: ${e.message}`);\r\n            },\r\n            queryCredentials(client) {\r\n                return new Promise((resolve, reject) => {\r\n                    let c = prompt('input credentials in format user:password');\r\n                    if (c) {\r\n                        client.setCredentials.apply(client, c.split(':'));\r\n                        resolve();\r\n                    } else {\r\n                        reject();\r\n                    }\r\n                });\r\n            }\r\n        };\r\n        return new WSPlayer(node, _options);\r\n    }\r\n};\r\n\r\n}());\r\n//# sourceMappingURL=free.player.1.8.js.map\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/player.js","<template>\n  <div>\n    <el-row :gutter=\"20\">\n      <el-col :span=\"6\">\n        <infoBox :tableData4=\"tableData4\"></infoBox>\n      </el-col>\n      <el-col :span=\"12\">\n          <gao-de-map @getCurrentInfo=\"getCurrentFromMap\"/>\n      </el-col>\n      <el-col :span=\"6\">\n        <current-data :currentData=\"infoBox\"/>\n      </el-col>\n    </el-row>\n    <el-row :gutter=\"20\">\n      <el-col :span=\"2\" style=\"height: 43vh;background-color: red; margin-right: 18px;\"></el-col>\n      <el-col :span=\"7\" style=\"height: 43vh;background-color: red; margin-right: 18px;\">\n      </el-col>\n      <el-col :span=\"7\" style=\"height: 43vh;background-color: red; margin-right: 18px;\"></el-col>\n      <el-col :span=\"7\" style=\"height: 43vh;background-color: red;\"></el-col>\n    </el-row>\n    <div class=\"video\">\n      <div>\n          <input id=\"stream_url\" value=\"rtsp://admin:ckkjb208@192.168.199.199:554/MPEG-4/ch1/main/av_stream\" size=\"36\">\n          <button id=\"set_new_url\" @click=\"set_url(' ')\">Set</button>\n      </div>\n      <video id=\"test_video\" controls autoplay></video>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { fetchAllAddressInfo } from \"@/api/baseInfo\";\nimport { fetchOneAddressOneCurrentSensorInfo } from \"@/api/currentInfo\";\nimport infoBox from \"@/components/infoBox\";\nimport gaoDeMap from \"@/components/map\";\nimport currentData from \"@/components/currentData\";\nimport \"@/utils/player\";\n\n// const p = Streamedian.player('test_video', { socket: \"ws://192.168.199.179:8081/ws\" })\n\nexport default {\n  name: \"name\",\n  data() {\n    return {\n      //\n      url2: \"url2\",\n      video2: \"video2\",\n      infoBox: [], // \n      tableData4: [], // \n      addressInfo: [], // \n      // \n      info: {\n        date: \"\",\n        address: \"\",\n        event: \"\"\n      },\n      IMap: {}\n    };\n  },\n  mounted() {\n    this.getAddressBaseInfo();\n  },\n  methods: {\n    // \n    getAddressBaseInfo() {\n      fetchAllAddressInfo().then(response => {\n        this.addressInfo = response.data;\n        this.getFireOrNot();\n      });\n    },\n    // \n    getNowFormatDate() {\n      const date = new Date();\n      return date.toLocaleString();\n    },\n    // \n    getFireOrNot() {\n      const that = this;\n      setInterval(() => {\n        that.addressInfo.forEach(a => {\n          // \n          fetchOneAddressOneCurrentSensorInfo({\n            addressId: a.id,\n            sensorName: \"fire\"\n          }).then(response => {\n            if (response.data.value === 0) {\n              const info = {\n                date: that.getNowFormatDate(),\n                address: a.name,\n                event: \"\"\n              };\n              that.tableData4.push(info);\n            }\n          });\n        });\n      }, 5000);\n    },\n    //map\n    getCurrentFromMap(data) {\n      this.infoBox = data.infoBox;\n      this.IMap = data.IMap;\n    },\n    //map\n    set_url(url) {\n      var text = document.getElementById('stream_url').value;\n      url = text;\n      test_video.src = url;\n      Streamedian.player('test_video', { socket: \"ws://192.168.199.179:8081/ws\" });\n    },\n  },\n  components: {\n    infoBox,\n    gaoDeMap,\n    currentData\n  }\n};\n</script>\n\n<style>\n.map {\n  height: 50vh;\n}\n.el-row {\n  margin-bottom: 20px;\n}\n.el-col {\n  border-radius: 4px;\n}\n.bg-purple-dark {\n  background: #99a9bf;\n}\n.bg-purple {\n  background: #d3dce6;\n}\n.bg-purple-light {\n  background: #e5e9f2;\n}\n.grid-content {\n  border-radius: 4px;\n  min-height: 36px;\n}\n.row-bg {\n  padding: 10px 0;\n  background-color: #f9fafc;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/view/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":6}},[_c('infoBox',{attrs:{\"tableData4\":_vm.tableData4}})],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":12}},[_c('gao-de-map',{on:{\"getCurrentInfo\":_vm.getCurrentFromMap}})],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":6}},[_c('current-data',{attrs:{\"currentData\":_vm.infoBox}})],1)],1),_vm._v(\" \"),_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{staticStyle:{\"height\":\"43vh\",\"background-color\":\"red\",\"margin-right\":\"18px\"},attrs:{\"span\":2}}),_vm._v(\" \"),_c('el-col',{staticStyle:{\"height\":\"43vh\",\"background-color\":\"red\",\"margin-right\":\"18px\"},attrs:{\"span\":7}}),_vm._v(\" \"),_c('el-col',{staticStyle:{\"height\":\"43vh\",\"background-color\":\"red\",\"margin-right\":\"18px\"},attrs:{\"span\":7}}),_vm._v(\" \"),_c('el-col',{staticStyle:{\"height\":\"43vh\",\"background-color\":\"red\"},attrs:{\"span\":7}})],1),_vm._v(\" \"),_c('div',{staticClass:\"video\"},[_c('div',[_c('input',{attrs:{\"id\":\"stream_url\",\"value\":\"rtsp://admin:ckkjb208@192.168.199.199:554/MPEG-4/ch1/main/av_stream\",\"size\":\"36\"}}),_vm._v(\" \"),_c('button',{attrs:{\"id\":\"set_new_url\"},on:{\"click\":function($event){_vm.set_url(' ')}}},[_vm._v(\"Set\")])]),_vm._v(\" \"),_c('video',{attrs:{\"id\":\"test_video\",\"controls\":\"\",\"autoplay\":\"\"}})])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-dc508784\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/view/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-dc508784\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-dc508784\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/index.vue\n// module id = null\n// module chunks = ","import index from '@/view/index';\nimport Vue from 'vue';\nimport Router from 'vue-router';\n\nVue.use(Router);\n\nconst routes = [\n  {\n    path: '/',\n    name: 'HelloWorld',\n    component: index,\n  },\n];\n\nexport default new Router({\n  routes,\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue';\nimport ElementUI from 'element-ui';\nimport 'element-ui/lib/theme-chalk/index.css';\nimport App from './App';\nimport router from './router';\n\nVue.config.productionTip = false;\n\nVue.use(ElementUI);\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  components: { App },\n  template: '<App/>',\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}